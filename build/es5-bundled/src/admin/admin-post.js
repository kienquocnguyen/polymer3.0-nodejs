function _templateObject9_a62cb2f0a7c311ea8b4ab998f4335326(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style include=\"shared-styles app-grid-style\">\n      :host {\n        display: block;\n        --app-grid-columns: 2;\n        --app-grid-item-height: 650px;\n        margin-top: 30px;\n        font-family: 'Nunito Sans', sans-serif;\n        animation: fadein 3s;\n        -moz-animation: fadein 3s; /* Firefox */\n        -webkit-animation: fadein 1.5s; /* Safari and Chrome */\n        -o-animation: fadein 3s;\n      }\n      @-moz-keyframes fadein { /* Firefox */\n        from {\n            opacity:0;\n        }\n        to {\n            opacity:1;\n        }\n      }\n      @-webkit-keyframes fadein { /* Safari and Chrome */\n          from {\n              opacity:0;\n          }\n          to {\n              opacity:1;\n          }\n      }\n      @-o-keyframes fadein { /* Opera */\n          from {\n              opacity:0;\n          }\n          to {\n              opacity: 1;\n          }\n      }\n      .admin-posts{\n        margin-top: 150px;\n      }\n      datetime-input{\n        display: none;\n      }\n      vaadin-grid-cell-content:hover{\n        overflow: visible;\n      }\n    </style>\n    \n    <app-location id=\"location\"\n      route=\"{{route}}\"\n      url-space-regex=\"^[[rootPath]]\"\n      >\n    </app-location>\n    <div class=\"admin-posts\">\n      <div>\n        <h2>Hello {{myusers.data.firstName}}</h2>\n        <paper-button raised on-click=\"goAdmin\">Admin Upload</paper-button>\n        <paper-button raised on-click=\"logOut\">Log Out</paper-button>\n        <vaadin-grid items=\"{{myposts}}\">\n          <vaadin-grid-column>\n            <template class=\"header\">Author</template>\n            <template>{{item.post_author}}</template>\n          </vaadin-grid-column>\n          <vaadin-grid-column>\n            <template class=\"header\">Title</template>\n            <template>{{item.post_title}}</template>\n          </vaadin-grid-column>\n          <vaadin-grid-column>\n            <template class=\"header\">Excerpt</template>\n            <template>{{item.post_excerpt}}</template>\n          </vaadin-grid-column>\n          <vaadin-grid-column>\n            <template class=\"header\">Categories</template>\n            <template>\n             {{item.post_categories}}\n            </template>\n          </vaadin-grid-column>\n          <vaadin-grid-column>\n            <template class=\"header\">Date</template>\n            <template>\n              <admin-postdate post-date=\"{{item.post_date}}\"></admin-postdate>\n            </template>\n          </vaadin-grid-column>\n          <vaadin-grid-column>\n            <template class=\"header\">Action</template>\n            <template>\n              <paper-button on-click=\"editPost\">EDIT</paper-button>\n              <paper-button on-click=\"checkDelete\">DELETE</paper-button>\n            </template>\n          </vaadin-grid-column>\n        </vaadin-grid>\n      </div>\n      <paper-dialog id=\"animated\">\n        <h2>Are you sure you want to delete</h2>\n        <paper-input decorator id=\"postId\" type=\"text\" >\n        </paper-input>\n        <paper-button on-click=\"deletePost\">Yes</paper-button>\n        <paper-button on-click=\"noDelete\">No</paper-button>\n      </paper-dialog>\n\n      <template is=\"dom-repeat\" items=\"{{postcount}}\">  \n        <paper-pagination page=\"{{current}}\" total-items=\"{{item.total}}\" item-per-page=\"4\" next-icon=\"paper-pagination:next-arrow\" previous-icon=\"paper-pagination:previous-arrow\">\n        </paper-pagination>\n      </template>\n    </div>\n"]);_templateObject9_a62cb2f0a7c311ea8b4ab998f4335326=function _templateObject9_a62cb2f0a7c311ea8b4ab998f4335326(){return data};return data}function _templateObject8_a62cb2f0a7c311ea8b4ab998f4335326(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style include=\"shared-styles app-grid-style\">\n      :host {\n        display: block;\n        font-family: 'Nunito Sans', sans-serif;\n      }\n      .admin-posts{\n        margin-top: 150px;\n      }\n      datetime-input{\n        display: none;\n      }\n    </style>\n    \n    <div>\n        <datetime-input value-as-date=[[postDate]] datetime=\"{{datetime}}\" datetime=\"{{datetime}}\" date=\"{{date}}\" time=\"{{time}}\" with-timezone=\"{{withTimezone}}\" timezone=\"{{timezone}}\"></datetime-input>\n        [[date]]\n    </div>\n"]);_templateObject8_a62cb2f0a7c311ea8b4ab998f4335326=function _templateObject8_a62cb2f0a7c311ea8b4ab998f4335326(){return data};return data}function _templateObject7_a62cb2f0a7c311ea8b4ab998f4335326(){var data=babelHelpers.taggedTemplateLiteral(["<dom-module id=\"lumo-grid\" theme-for=\"vaadin-grid\">\n  <template>\n    <style>\n      :host {\n        font-family: var(--lumo-font-family);\n        font-size: var(--lumo-font-size-m);\n        line-height: var(--lumo-line-height-s);\n        color: var(--lumo-body-text-color);\n        background-color: var(--lumo-base-color);\n        box-sizing: border-box;\n        -webkit-text-size-adjust: 100%;\n        -webkit-tap-highlight-color: transparent;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n\n        /* For internal use only */\n        --_lumo-grid-border-color: var(--lumo-contrast-20pct);\n        --_lumo-grid-secondary-border-color: var(--lumo-contrast-10pct);\n        --_lumo-grid-border-width: 1px;\n        --_lumo-grid-selected-row-color: var(--lumo-primary-color-10pct);\n      }\n\n      /* No (outer) border */\n\n      :host(:not([theme~=\"no-border\"])) {\n        border: var(--_lumo-grid-border-width) solid var(--_lumo-grid-border-color);\n      }\n\n      /* Cell styles */\n\n      [part~=\"cell\"] {\n        min-height: var(--lumo-size-m);\n        background-color: var(--lumo-base-color);\n      }\n\n      [part~=\"cell\"] ::slotted(vaadin-grid-cell-content) {\n        cursor: default;\n        padding: var(--lumo-space-xs) var(--lumo-space-m);\n      }\n\n      /* Apply row borders by default and introduce the \"no-row-borders\" variant */\n      :host(:not([theme~=\"no-row-borders\"])) [part~=\"cell\"]:not([part~=\"details-cell\"]) {\n        border-top: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);\n      }\n\n      /* Hide first body row top border */\n      :host(:not([theme~=\"no-row-borders\"])) [part=\"row\"][first] [part~=\"cell\"]:not([part~=\"details-cell\"]) {\n        border-top: 0;\n        min-height: calc(var(--lumo-size-m) - var(--_lumo-grid-border-width));\n      }\n\n      /* Focus-ring */\n\n      [part~=\"cell\"]:focus {\n        outline: none;\n      }\n\n      :host([navigating]) [part~=\"cell\"]:focus::before {\n        content: \"\";\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        pointer-events: none;\n        box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);\n      }\n\n      /* Drag and Drop styles */\n      :host([dragover])::after {\n        content: \"\";\n        position: absolute;\n        z-index: 100;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        pointer-events: none;\n        box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);\n      }\n\n      [part~=\"row\"][dragover] {\n        z-index: 100 !important;\n      }\n\n      [part~=\"row\"][dragover] [part~=\"cell\"] {\n        overflow: visible;\n      }\n\n      [part~=\"row\"][dragover] [part~=\"cell\"]::after {\n        content: \"\";\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        height: calc(var(--_lumo-grid-border-width) + 2px);\n        pointer-events: none;\n        background: var(--lumo-primary-color-50pct);\n      }\n\n      :host([theme~=\"no-row-borders\"]) [dragover] [part~=\"cell\"]::after {\n        height: 2px;\n      }\n\n      [part~=\"row\"][dragover=\"below\"] [part~=\"cell\"]::after {\n        top: 100%;\n        bottom: auto;\n        margin-top: -1px;\n      }\n\n      [part~=\"row\"][dragover=\"above\"] [part~=\"cell\"]::after {\n        top: auto;\n        bottom: 100%;\n        margin-bottom: -1px;\n      }\n\n      [part~=\"row\"][details-opened][dragover=\"below\"] [part~=\"cell\"]:not([part~=\"details-cell\"])::after,\n      [part~=\"row\"][details-opened][dragover=\"above\"] [part~=\"details-cell\"]::after {\n        display: none;\n      }\n\n      [part~=\"row\"][dragover][dragover=\"on-top\"] [part~=\"cell\"]::after {\n        height: 100%;\n      }\n\n      [part~=\"row\"][dragstart] {\n        /* Add bottom-space to the row so the drag number doesn't get clipped. Needed for IE/Edge */\n        border-bottom: 100px solid transparent;\n        z-index: 100 !important;\n        opacity: 0.9;\n      }\n\n      [part~=\"row\"][dragstart] [part~=\"cell\"] {\n        border: none !important;\n        box-shadow: none !important;\n      }\n\n      [part~=\"row\"][dragstart] [part~=\"cell\"][last-column] {\n        border-radius: 0 var(--lumo-border-radius-s) var(--lumo-border-radius-s) 0;\n      }\n\n      [part~=\"row\"][dragstart] [part~=\"cell\"][first-column] {\n        border-radius: var(--lumo-border-radius-s) 0 0 var(--lumo-border-radius-s);\n      }\n\n      [ios] [part~=\"row\"][dragstart] [part~=\"cell\"] {\n        background: var(--lumo-primary-color-50pct);\n      }\n\n      #scroller:not([ios]) [part~=\"row\"][dragstart]:not([dragstart=\"\"])::after {\n        display: block;\n        position: absolute;\n        left: var(--_grid-drag-start-x);\n        top: var(--_grid-drag-start-y);\n        z-index: 100;\n        content: attr(dragstart);\n        align-items: center;\n        justify-content: center;\n        box-sizing: border-box;\n        padding: calc(var(--lumo-space-xs) * 0.8);\n        color: var(--lumo-error-contrast-color);\n        background-color: var(--lumo-error-color);\n        border-radius: var(--lumo-border-radius-m);\n        font-family: var(--lumo-font-family);\n        font-size: var(--lumo-font-size-xxs);\n        line-height: 1;\n        font-weight: 500;\n        text-transform: initial;\n        letter-spacing: initial;\n        min-width: calc(var(--lumo-size-s) * 0.7);\n        text-align: center;\n      }\n\n      /* Headers and footers */\n\n      [part~=\"header-cell\"] ::slotted(vaadin-grid-cell-content),\n      [part~=\"footer-cell\"] ::slotted(vaadin-grid-cell-content),\n      [part~=\"reorder-ghost\"] {\n        font-size: var(--lumo-font-size-s);\n        font-weight: 500;\n      }\n\n      [part~=\"footer-cell\"] ::slotted(vaadin-grid-cell-content) {\n        font-weight: 400;\n      }\n\n      [part=\"row\"]:only-child [part~=\"header-cell\"] {\n        min-height: var(--lumo-size-xl);\n      }\n\n      /* Header borders */\n\n      /* Hide first header row top border */\n      :host(:not([theme~=\"no-row-borders\"])) [part=\"row\"]:first-child [part~=\"header-cell\"] {\n        border-top: 0;\n      }\n\n      [part=\"row\"]:last-child [part~=\"header-cell\"] {\n        border-bottom: var(--_lumo-grid-border-width) solid transparent;\n      }\n\n      :host(:not([theme~=\"no-row-borders\"])) [part=\"row\"]:last-child [part~=\"header-cell\"] {\n        border-bottom-color: var(--_lumo-grid-secondary-border-color);\n      }\n\n      /* Overflow uses a stronger border color */\n      :host([overflow~=\"top\"]) [part=\"row\"]:last-child [part~=\"header-cell\"] {\n        border-bottom-color: var(--_lumo-grid-border-color);\n      }\n\n      /* Footer borders */\n\n      [part=\"row\"]:first-child [part~=\"footer-cell\"] {\n        border-top: var(--_lumo-grid-border-width) solid transparent;\n      }\n\n      :host(:not([theme~=\"no-row-borders\"])) [part=\"row\"]:first-child [part~=\"footer-cell\"] {\n        border-top-color: var(--_lumo-grid-secondary-border-color);\n      }\n\n      /* Overflow uses a stronger border color */\n      :host([overflow~=\"bottom\"]) [part=\"row\"]:first-child [part~=\"footer-cell\"] {\n        border-top-color: var(--_lumo-grid-border-color);\n      }\n\n      /* Column reordering */\n\n      :host([reordering]) [part~=\"cell\"] {\n        background: linear-gradient(var(--lumo-shade-20pct), var(--lumo-shade-20pct)) var(--lumo-base-color);\n      }\n\n      :host([reordering]) [part~=\"cell\"][reorder-status=\"allowed\"] {\n        background: var(--lumo-base-color);\n      }\n\n      :host([reordering]) [part~=\"cell\"][reorder-status=\"dragging\"] {\n        background: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct)) var(--lumo-base-color);\n      }\n\n      [part~=\"reorder-ghost\"] {\n        opacity: 0.85;\n        box-shadow: var(--lumo-box-shadow-s);\n        /* TODO Use the same styles as for the cell element (reorder-ghost copies styles from the cell element) */\n        padding: var(--lumo-space-s) var(--lumo-space-m) !important;\n      }\n\n      /* Column resizing */\n\n      [part=\"resize-handle\"] {\n        width: 3px;\n        background-color: var(--lumo-primary-color-50pct);\n        opacity: 0;\n        transition: opacity 0.2s;\n      }\n\n      :host(:not([reordering])) *:not([column-resizing]) [part~=\"cell\"]:hover [part=\"resize-handle\"],\n      [part=\"resize-handle\"]:active {\n        opacity: 1;\n        transition-delay: 0.15s;\n      }\n\n      /* Column borders */\n\n      :host([theme~=\"column-borders\"]) [part~=\"cell\"]:not([last-column]):not([part~=\"details-cell\"]) {\n        border-right: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);\n      }\n\n      /* Frozen columns */\n\n      [last-frozen] {\n        border-right: var(--_lumo-grid-border-width) solid transparent;\n        overflow: hidden;\n      }\n\n      :host([overflow~=\"left\"]) [part~=\"cell\"][last-frozen]:not([part~=\"details-cell\"]) {\n        border-right-color: var(--_lumo-grid-border-color);\n      }\n\n      /* Row stripes */\n\n      :host([theme~=\"row-stripes\"]) [part~=\"row\"]:not([odd]) [part~=\"body-cell\"],\n      :host([theme~=\"row-stripes\"]) [part~=\"row\"]:not([odd]) [part~=\"details-cell\"] {\n        background-image: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct));\n        background-repeat: repeat-x;\n      }\n\n      /* Selected row */\n\n      /* Raise the selected rows above unselected rows (so that box-shadow can cover unselected rows) */\n      :host(:not([reordering])) [part~=\"row\"][selected] {\n        z-index: 1;\n      }\n\n      :host(:not([reordering])) [part~=\"row\"][selected] [part~=\"body-cell\"]:not([part~=\"details-cell\"]) {\n        background-image: linear-gradient(var(--_lumo-grid-selected-row-color), var(--_lumo-grid-selected-row-color));\n        background-repeat: repeat;\n      }\n\n      /* Cover the border of an unselected row */\n      :host(:not([theme~=\"no-row-borders\"])) [part~=\"row\"][selected] [part~=\"cell\"]:not([part~=\"details-cell\"]) {\n        box-shadow: 0 var(--_lumo-grid-border-width) 0 0 var(--_lumo-grid-selected-row-color);\n      }\n\n      /* Compact */\n\n      :host([theme~=\"compact\"]) [part=\"row\"]:only-child [part~=\"header-cell\"] {\n        min-height: var(--lumo-size-m);\n      }\n\n      :host([theme~=\"compact\"]) [part~=\"cell\"] {\n        min-height: var(--lumo-size-s);\n      }\n\n      :host([theme~=\"compact\"]) [part=\"row\"][first] [part~=\"cell\"]:not([part~=\"details-cell\"]) {\n        min-height: calc(var(--lumo-size-s) - var(--_lumo-grid-border-width));\n      }\n\n      :host([theme~=\"compact\"]) [part~=\"cell\"] ::slotted(vaadin-grid-cell-content) {\n        padding: var(--lumo-space-xs) var(--lumo-space-s);\n      }\n\n      /* Wrap cell contents */\n\n      :host([theme~=\"wrap-cell-content\"]) [part~=\"cell\"] ::slotted(vaadin-grid-cell-content) {\n        white-space: normal;\n      }\n    </style>\n  </template>\n</dom-module><dom-module theme-for=\"vaadin-checkbox\" id=\"vaadin-grid-select-all-checkbox-lumo\">\n  <template>\n    <style>\n      :host(.vaadin-grid-select-all-checkbox) {\n        font-size: var(--lumo-font-size-m);\n      }\n   </style>\n  </template>\n</dom-module>"]);_templateObject7_a62cb2f0a7c311ea8b4ab998f4335326=function _templateObject7_a62cb2f0a7c311ea8b4ab998f4335326(){return data};return data}function _templateObject6_a62cb2f0a7c311ea8b4ab998f4335326(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style include=\"vaadin-grid-styles\"></style>\n\n    <div id=\"scroller\" no-scrollbars$=\"[[!_scrollbarWidth]]\" wheel-scrolling$=\"[[_wheelScrolling]]\" safari$=\"[[_safari]]\" ios$=\"[[_ios]]\" loading$=\"[[loading]]\" edge$=\"[[_edge]]\" firefox$=\"[[_firefox]]\" ie$=\"[[_ie]]\" column-reordering-allowed$=\"[[columnReorderingAllowed]]\">\n\n      <table id=\"table\" role=\"grid\" aria-multiselectable=\"true\" tabindex=\"0\">\n        <caption id=\"fixedsizer\" class=\"sizer\" part=\"row\"></caption>\n        <thead id=\"header\" role=\"rowgroup\"></thead>\n        <tbody id=\"items\" role=\"rowgroup\"></tbody>\n        <tfoot id=\"footer\" role=\"rowgroup\"></tfoot>\n      </table>\n\n      <div part=\"reorder-ghost\"></div>\n      <vaadin-grid-outer-scroller id=\"outerscroller\" _touch-device=\"[[_touchDevice]]\" scroll-target=\"[[scrollTarget]]\" scroll-handler=\"[[_this]]\" no-scrollbars=\"[[!_scrollbarWidth]]\">\n        <div id=\"outersizer\" class=\"sizer\" part=\"row\"></div>\n      </vaadin-grid-outer-scroller>\n    </div>\n\n    <!-- The template needs at least one slot or else shady doesn't distribute -->\n    <slot name=\"nodistribute\"></slot>\n\n    <div id=\"focusexit\" tabindex=\"0\"></div>\n"],["\n    <style include=\"vaadin-grid-styles\"></style>\n\n    <div id=\"scroller\" no-scrollbars\\$=\"[[!_scrollbarWidth]]\" wheel-scrolling\\$=\"[[_wheelScrolling]]\" safari\\$=\"[[_safari]]\" ios\\$=\"[[_ios]]\" loading\\$=\"[[loading]]\" edge\\$=\"[[_edge]]\" firefox\\$=\"[[_firefox]]\" ie\\$=\"[[_ie]]\" column-reordering-allowed\\$=\"[[columnReorderingAllowed]]\">\n\n      <table id=\"table\" role=\"grid\" aria-multiselectable=\"true\" tabindex=\"0\">\n        <caption id=\"fixedsizer\" class=\"sizer\" part=\"row\"></caption>\n        <thead id=\"header\" role=\"rowgroup\"></thead>\n        <tbody id=\"items\" role=\"rowgroup\"></tbody>\n        <tfoot id=\"footer\" role=\"rowgroup\"></tfoot>\n      </table>\n\n      <div part=\"reorder-ghost\"></div>\n      <vaadin-grid-outer-scroller id=\"outerscroller\" _touch-device=\"[[_touchDevice]]\" scroll-target=\"[[scrollTarget]]\" scroll-handler=\"[[_this]]\" no-scrollbars=\"[[!_scrollbarWidth]]\">\n        <div id=\"outersizer\" class=\"sizer\" part=\"row\"></div>\n      </vaadin-grid-outer-scroller>\n    </div>\n\n    <!-- The template needs at least one slot or else shady doesn't distribute -->\n    <slot name=\"nodistribute\"></slot>\n\n    <div id=\"focusexit\" tabindex=\"0\"></div>\n"]);_templateObject6_a62cb2f0a7c311ea8b4ab998f4335326=function _templateObject6_a62cb2f0a7c311ea8b4ab998f4335326(){return data};return data}function _templateObject5_a62cb2f0a7c311ea8b4ab998f4335326(){var data=babelHelpers.taggedTemplateLiteral(["\n  <style>\n    @keyframes vaadin-grid-appear {\n      to {\n        opacity: 1;\n      }\n    }\n\n    :host {\n      display: block;\n      animation: 1ms vaadin-grid-appear;\n      height: 400px;\n      flex: 1 1 auto;\n      align-self: stretch;\n      position: relative;\n    }\n\n    :host([hidden]) {\n      display: none !important;\n    }\n\n    #scroller {\n      display: block;\n      transform: translateY(0);\n      width: auto;\n      height: auto;\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n    }\n\n    :host([height-by-rows]) {\n      height: auto;\n      align-self: flex-start;\n      flex-grow: 0;\n      width: 100%;\n    }\n\n    :host([height-by-rows]) #scroller {\n      width: 100%;\n      height: 100%;\n      position: relative;\n    }\n\n    #table {\n      display: block;\n      width: 100%;\n      height: 100%;\n      overflow: auto;\n      z-index: -2;\n      position: relative;\n      outline: none;\n    }\n\n    #header {\n      display: block;\n      position: absolute;\n      top: 0;\n      width: 100%;\n    }\n\n    th {\n      text-align: inherit;\n    }\n\n    /* Safari doesn't work with \"inherit\" */\n    [safari] th {\n      text-align: initial;\n    }\n\n    #footer {\n      display: block;\n      position: absolute;\n      bottom: 0;\n      width: 100%;\n    }\n\n    #items {\n      display: block;\n      width: 100%;\n      position: relative;\n      z-index: -1;\n    }\n\n    #items,\n    #outersizer,\n    #fixedsizer {\n      border-top: 0 solid transparent;\n      border-bottom: 0 solid transparent;\n    }\n\n    [part~=\"row\"] {\n      display: flex;\n      width: 100%;\n      box-sizing: border-box;\n      margin: 0;\n    }\n\n    [part~=\"row\"][loading] [part~=\"body-cell\"] ::slotted(vaadin-grid-cell-content) {\n      opacity: 0;\n    }\n\n    #items [part~=\"row\"] {\n      position: absolute;\n    }\n\n    #items [part~=\"row\"]:empty {\n      height: 1em;\n    }\n\n    [part~=\"cell\"]:not([part~=\"details-cell\"]) {\n      flex-shrink: 0;\n      flex-grow: 1;\n      box-sizing: border-box;\n      display: flex;\n      width: 100%;\n      position: relative;\n      align-items: center;\n      padding: 0;\n      white-space: nowrap;\n    }\n\n    [part~=\"details-cell\"] {\n      position: absolute;\n      bottom: 0;\n      width: 100%;\n      box-sizing: border-box;\n      padding: 0;\n    }\n\n    [part~=\"cell\"] ::slotted(vaadin-grid-cell-content) {\n      display: block;\n      width: 100%;\n      box-sizing: border-box;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    [hidden] {\n      display: none !important;\n    }\n\n    [frozen] {\n      z-index: 2;\n      will-change: transform;\n    }\n\n    #outerscroller {\n      /* Needed (at least) for Android Chrome */\n      z-index: 0;\n    }\n\n    #scroller:not([safari]) #outerscroller {\n      /* Needed for Android Chrome (#1020). Can't be applied to Safari\n      since it would re-introduce the sub-pixel overflow bug (#853) */\n      will-change: transform;\n    }\n\n    [no-scrollbars]:not([safari]):not([firefox]) #outerscroller,\n    [no-scrollbars][safari] #table,\n    [no-scrollbars][firefox] #table {\n      overflow: hidden;\n    }\n\n    [no-scrollbars]:not([safari]):not([firefox]) #outerscroller {\n      pointer-events: none;\n    }\n\n    /* Reordering styles */\n    :host([reordering]) [part~=\"cell\"] ::slotted(vaadin-grid-cell-content),\n    :host([reordering]) [part~=\"resize-handle\"],\n    #scroller[no-content-pointer-events] [part~=\"cell\"] ::slotted(vaadin-grid-cell-content) {\n      pointer-events: none;\n    }\n\n    [part~=\"reorder-ghost\"] {\n      visibility: hidden;\n      position: fixed;\n      pointer-events: none;\n      opacity: 0.5;\n\n      /* Prevent overflowing the grid in Firefox */\n      top: 0;\n      left: 0;\n    }\n\n    :host([reordering]) {\n      -moz-user-select: none;\n      -webkit-user-select: none;\n      user-select: none;\n    }\n\n    #scroller[ie][column-reordering-allowed] [part~=\"header-cell\"] {\n      -ms-user-select: none;\n    }\n\n    :host([reordering]) #outerscroller {\n      -webkit-overflow-scrolling: auto !important;\n    }\n\n    /* Resizing styles */\n    [part~=\"resize-handle\"] {\n      position: absolute;\n      top: 0;\n      right: 0;\n      height: 100%;\n      cursor: col-resize;\n      z-index: 1;\n    }\n\n    [part~=\"resize-handle\"]::before {\n      position: absolute;\n      content: \"\";\n      height: 100%;\n      width: 35px;\n      transform: translateX(-50%);\n    }\n\n    [last-column] [part~=\"resize-handle\"]::before,\n    [last-frozen] [part~=\"resize-handle\"]::before {\n      width: 18px;\n      transform: none;\n      right: 0;\n    }\n\n    #scroller[column-resizing] {\n      -ms-user-select: none;\n      -moz-user-select: none;\n      -webkit-user-select: none;\n      user-select: none;\n    }\n\n    /* Sizer styles */\n    .sizer {\n      display: flex;\n      position: relative;\n      width: 100%;\n      visibility: hidden;\n    }\n\n    .sizer [part~=\"details-cell\"] {\n      display: none !important;\n    }\n\n    .sizer [part~=\"cell\"][hidden] {\n      display: none !important;\n    }\n\n    .sizer [part~=\"cell\"] {\n      display: block;\n      flex-shrink: 0;\n      line-height: 0;\n      margin-top: -1em;\n      height: 0 !important;\n      min-height: 0 !important;\n      max-height: 0 !important;\n      padding: 0 !important;\n    }\n\n    .sizer [part~=\"cell\"]::before {\n      content: \"-\";\n    }\n\n    .sizer [part~=\"cell\"] ::slotted(vaadin-grid-cell-content) {\n      display: none !important;\n    }\n\n    /* Fixed mode (Tablet Edge) */\n    #fixedsizer {\n      position: absolute;\n    }\n\n    :not([edge][no-scrollbars]) #fixedsizer {\n      display: none;\n    }\n\n    [edge][no-scrollbars] {\n      /* Any value other than \u2018none\u2019 for the transform results in the creation of both a stacking context and\n      a containing block. The object acts as a containing block for fixed positioned descendants. */\n      transform: translateZ(0);\n      overflow: hidden;\n    }\n\n    [edge][no-scrollbars] #header,\n    [edge][no-scrollbars] #footer {\n      position: fixed;\n    }\n\n    [edge][no-scrollbars] #items {\n      position: fixed;\n      width: 100%;\n      will-change: transform;\n    }\n  </style>\n"]);_templateObject5_a62cb2f0a7c311ea8b4ab998f4335326=function _templateObject5_a62cb2f0a7c311ea8b4ab998f4335326(){return data};return data}function _templateObject4_a62cb2f0a7c311ea8b4ab998f4335326(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style>\n      :host {\n        display: block;\n        height: 100%;\n        width: 100%;\n        position: absolute;\n        top: 0;\n        box-sizing: border-box;\n        overflow: auto;\n      }\n\n      :host([passthrough]) {\n        pointer-events: none;\n      }\n    </style>\n\n    <slot></slot>\n"]);_templateObject4_a62cb2f0a7c311ea8b4ab998f4335326=function _templateObject4_a62cb2f0a7c311ea8b4ab998f4335326(){return data};return data}function _templateObject3_a62cb2f0a7c311ea8b4ab998f4335326(){var data=babelHelpers.taggedTemplateLiteral(["<dom-module id=\"lumo-checkbox\" theme-for=\"vaadin-checkbox\">\n  <template>\n    <style include=\"lumo-checkbox-style lumo-checkbox-effects\">\n      /* IE11 only */\n      ::-ms-backdrop,\n      [part=\"checkbox\"] {\n        line-height: 1;\n      }\n    </style>\n  </template>\n</dom-module><dom-module id=\"lumo-checkbox-style\">\n  <template>\n    <style>\n      :host {\n        -webkit-tap-highlight-color: transparent;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        cursor: default;\n        outline: none;\n      }\n\n      [part=\"label\"]:not([empty]) {\n        margin: 0.1875em 0.875em 0.1875em 0.375em;\n      }\n\n      [part=\"checkbox\"] {\n        width: calc(1em + 2px);\n        height: calc(1em + 2px);\n        margin: 0.1875em;\n        position: relative;\n        border-radius: var(--lumo-border-radius);\n        background-color: var(--lumo-contrast-20pct);\n        transition: transform 0.2s cubic-bezier(.12, .32, .54, 2), background-color 0.15s;\n        pointer-events: none;\n        line-height: 1.2;\n      }\n\n      :host([indeterminate]) [part=\"checkbox\"],\n      :host([checked]) [part=\"checkbox\"] {\n        background-color: var(--lumo-primary-color);\n      }\n\n      /* Needed to align the checkbox nicely on the baseline */\n      [part=\"checkbox\"]::before {\n        content: \"\\2003\";\n      }\n\n      /* Checkmark */\n      [part=\"checkbox\"]::after {\n        content: \"\";\n        display: inline-block;\n        width: 0;\n        height: 0;\n        border: 0 solid var(--lumo-primary-contrast-color);\n        border-width: 0.1875em 0 0 0.1875em;\n        box-sizing: border-box;\n        transform-origin: 0 0;\n        position: absolute;\n        top: 0.8125em;\n        left: 0.5em;\n        transform: scale(0.55) rotate(-135deg);\n        opacity: 0;\n      }\n\n      :host([checked]) [part=\"checkbox\"]::after {\n        opacity: 1;\n        width: 0.625em;\n        height: 1.0625em;\n      }\n\n      /* Indeterminate checkmark */\n\n      :host([indeterminate]) [part=\"checkbox\"]::after {\n        transform: none;\n        opacity: 1;\n        top: 45%;\n        height: 10%;\n        left: 22%;\n        right: 22%;\n        width: auto;\n        border: 0;\n        background-color: var(--lumo-primary-contrast-color);\n        transition: opacity 0.25s;\n      }\n\n      /* Focus ring */\n\n      :host([focus-ring]) [part=\"checkbox\"] {\n        box-shadow: 0 0 0 3px var(--lumo-primary-color-50pct);\n      }\n\n      /* Disabled */\n\n      :host([disabled]) {\n        pointer-events: none;\n        color: var(--lumo-disabled-text-color);\n      }\n\n      :host([disabled]) [part=\"label\"] ::slotted(*) {\n        color: inherit;\n      }\n\n      :host([disabled]) [part=\"checkbox\"] {\n        background-color: var(--lumo-contrast-10pct);\n      }\n\n      :host([disabled]) [part=\"checkbox\"]::after {\n        border-color: var(--lumo-contrast-30pct);\n      }\n\n      :host([indeterminate][disabled]) [part=\"checkbox\"]::after {\n        background-color: var(--lumo-contrast-30pct);\n      }\n    </style>\n  </template>\n</dom-module><dom-module id=\"lumo-checkbox-effects\">\n  <template>\n    <style>\n      /* Transition the checkmark if activated with the mouse (disabled for grid select-all this way) */\n      :host(:hover) [part=\"checkbox\"]::after {\n        transition: width 0.1s, height 0.25s;\n      }\n\n      /* Used for activation \"halo\" */\n      [part=\"checkbox\"]::before {\n        color: transparent;\n        display: inline-block;\n        width: 100%;\n        height: 100%;\n        border-radius: inherit;\n        background-color: inherit;\n        transform: scale(1.4);\n        opacity: 0;\n        transition: transform 0.1s, opacity 0.8s;\n      }\n\n      /* Hover */\n\n      :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part=\"checkbox\"] {\n        background-color: var(--lumo-contrast-30pct);\n      }\n\n      /* Disable hover for touch devices */\n      @media (pointer: coarse) {\n        :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part=\"checkbox\"] {\n          background-color: var(--lumo-contrast-20pct);\n        }\n      }\n\n      /* Active */\n\n      :host([active]) [part=\"checkbox\"] {\n        transform: scale(0.9);\n        transition-duration: 0.05s;\n      }\n\n      :host([active][checked]) [part=\"checkbox\"] {\n        transform: scale(1.1);\n      }\n\n      :host([active]:not([checked])) [part=\"checkbox\"]::before {\n        transition-duration: 0.01s, 0.01s;\n        transform: scale(0);\n        opacity: 0.4;\n      }\n    </style>\n  </template>\n</dom-module>"],["<dom-module id=\"lumo-checkbox\" theme-for=\"vaadin-checkbox\">\n  <template>\n    <style include=\"lumo-checkbox-style lumo-checkbox-effects\">\n      /* IE11 only */\n      ::-ms-backdrop,\n      [part=\"checkbox\"] {\n        line-height: 1;\n      }\n    </style>\n  </template>\n</dom-module><dom-module id=\"lumo-checkbox-style\">\n  <template>\n    <style>\n      :host {\n        -webkit-tap-highlight-color: transparent;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        cursor: default;\n        outline: none;\n      }\n\n      [part=\"label\"]:not([empty]) {\n        margin: 0.1875em 0.875em 0.1875em 0.375em;\n      }\n\n      [part=\"checkbox\"] {\n        width: calc(1em + 2px);\n        height: calc(1em + 2px);\n        margin: 0.1875em;\n        position: relative;\n        border-radius: var(--lumo-border-radius);\n        background-color: var(--lumo-contrast-20pct);\n        transition: transform 0.2s cubic-bezier(.12, .32, .54, 2), background-color 0.15s;\n        pointer-events: none;\n        line-height: 1.2;\n      }\n\n      :host([indeterminate]) [part=\"checkbox\"],\n      :host([checked]) [part=\"checkbox\"] {\n        background-color: var(--lumo-primary-color);\n      }\n\n      /* Needed to align the checkbox nicely on the baseline */\n      [part=\"checkbox\"]::before {\n        content: \"\\\\2003\";\n      }\n\n      /* Checkmark */\n      [part=\"checkbox\"]::after {\n        content: \"\";\n        display: inline-block;\n        width: 0;\n        height: 0;\n        border: 0 solid var(--lumo-primary-contrast-color);\n        border-width: 0.1875em 0 0 0.1875em;\n        box-sizing: border-box;\n        transform-origin: 0 0;\n        position: absolute;\n        top: 0.8125em;\n        left: 0.5em;\n        transform: scale(0.55) rotate(-135deg);\n        opacity: 0;\n      }\n\n      :host([checked]) [part=\"checkbox\"]::after {\n        opacity: 1;\n        width: 0.625em;\n        height: 1.0625em;\n      }\n\n      /* Indeterminate checkmark */\n\n      :host([indeterminate]) [part=\"checkbox\"]::after {\n        transform: none;\n        opacity: 1;\n        top: 45%;\n        height: 10%;\n        left: 22%;\n        right: 22%;\n        width: auto;\n        border: 0;\n        background-color: var(--lumo-primary-contrast-color);\n        transition: opacity 0.25s;\n      }\n\n      /* Focus ring */\n\n      :host([focus-ring]) [part=\"checkbox\"] {\n        box-shadow: 0 0 0 3px var(--lumo-primary-color-50pct);\n      }\n\n      /* Disabled */\n\n      :host([disabled]) {\n        pointer-events: none;\n        color: var(--lumo-disabled-text-color);\n      }\n\n      :host([disabled]) [part=\"label\"] ::slotted(*) {\n        color: inherit;\n      }\n\n      :host([disabled]) [part=\"checkbox\"] {\n        background-color: var(--lumo-contrast-10pct);\n      }\n\n      :host([disabled]) [part=\"checkbox\"]::after {\n        border-color: var(--lumo-contrast-30pct);\n      }\n\n      :host([indeterminate][disabled]) [part=\"checkbox\"]::after {\n        background-color: var(--lumo-contrast-30pct);\n      }\n    </style>\n  </template>\n</dom-module><dom-module id=\"lumo-checkbox-effects\">\n  <template>\n    <style>\n      /* Transition the checkmark if activated with the mouse (disabled for grid select-all this way) */\n      :host(:hover) [part=\"checkbox\"]::after {\n        transition: width 0.1s, height 0.25s;\n      }\n\n      /* Used for activation \"halo\" */\n      [part=\"checkbox\"]::before {\n        color: transparent;\n        display: inline-block;\n        width: 100%;\n        height: 100%;\n        border-radius: inherit;\n        background-color: inherit;\n        transform: scale(1.4);\n        opacity: 0;\n        transition: transform 0.1s, opacity 0.8s;\n      }\n\n      /* Hover */\n\n      :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part=\"checkbox\"] {\n        background-color: var(--lumo-contrast-30pct);\n      }\n\n      /* Disable hover for touch devices */\n      @media (pointer: coarse) {\n        :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part=\"checkbox\"] {\n          background-color: var(--lumo-contrast-20pct);\n        }\n      }\n\n      /* Active */\n\n      :host([active]) [part=\"checkbox\"] {\n        transform: scale(0.9);\n        transition-duration: 0.05s;\n      }\n\n      :host([active][checked]) [part=\"checkbox\"] {\n        transform: scale(1.1);\n      }\n\n      :host([active]:not([checked])) [part=\"checkbox\"]::before {\n        transition-duration: 0.01s, 0.01s;\n        transform: scale(0);\n        opacity: 0.4;\n      }\n    </style>\n  </template>\n</dom-module>"]);_templateObject3_a62cb2f0a7c311ea8b4ab998f4335326=function _templateObject3_a62cb2f0a7c311ea8b4ab998f4335326(){return data};return data}function _templateObject2_a62cb2f0a7c311ea8b4ab998f4335326(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style>\n      :host {\n        display: inline-block;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      label {\n        display: inline-flex;\n        align-items: baseline;\n        outline: none;\n      }\n\n      [part=\"checkbox\"] {\n        position: relative;\n        display: inline-block;\n        flex: none;\n      }\n\n      input[type=\"checkbox\"] {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        opacity: 0;\n        cursor: inherit;\n        margin: 0;\n      }\n\n      :host([disabled]) {\n        -webkit-tap-highlight-color: transparent;\n      }\n    </style>\n\n    <label>\n      <span part=\"checkbox\">\n        <input type=\"checkbox\" checked=\"{{checked::change}}\" disabled$=\"[[disabled]]\" indeterminate=\"{{indeterminate::change}}\" role=\"presentation\" tabindex=\"-1\">\n      </span>\n\n      <span part=\"label\">\n        <slot></slot>\n      </span>\n    </label>\n"],["\n    <style>\n      :host {\n        display: inline-block;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      label {\n        display: inline-flex;\n        align-items: baseline;\n        outline: none;\n      }\n\n      [part=\"checkbox\"] {\n        position: relative;\n        display: inline-block;\n        flex: none;\n      }\n\n      input[type=\"checkbox\"] {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        opacity: 0;\n        cursor: inherit;\n        margin: 0;\n      }\n\n      :host([disabled]) {\n        -webkit-tap-highlight-color: transparent;\n      }\n    </style>\n\n    <label>\n      <span part=\"checkbox\">\n        <input type=\"checkbox\" checked=\"{{checked::change}}\" disabled\\$=\"[[disabled]]\" indeterminate=\"{{indeterminate::change}}\" role=\"presentation\" tabindex=\"-1\">\n      </span>\n\n      <span part=\"label\">\n        <slot></slot>\n      </span>\n    </label>\n"]);_templateObject2_a62cb2f0a7c311ea8b4ab998f4335326=function _templateObject2_a62cb2f0a7c311ea8b4ab998f4335326(){return data};return data}function _templateObject_a62cb2f0a7c311ea8b4ab998f4335326(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style include=\"paper-dialog-shared-styles\"></style>\n    <slot></slot>\n"]);_templateObject_a62cb2f0a7c311ea8b4ab998f4335326=function _templateObject_a62cb2f0a7c311ea8b4ab998f4335326(){return data};return data}import{Base,IronOverlayBehavior,dom,flush$1,NeonAnimationRunnerBehavior,Polymer,html$1 as html,PolymerElement,html as html$1,GestureEventListeners,ThemableMixin,ControlStateMixin,ElementMixin$1 as ElementMixin,IronResizableBehavior,IronScrollTargetBehavior,animationFrame,idlePeriod,microTask,timeOut,Class,flush,enqueueDebouncer,Debouncer,addListener,useShadow,FlattenedNodesObserver,templatize,afterNextRender,beforeNextRender}from"../my-app.js";var PaperDialogBehaviorImpl={hostAttributes:{role:"dialog",tabindex:"-1"},properties:{/**
     * If `modal` is true, this implies `no-cancel-on-outside-click`,
     * `no-cancel-on-esc-key` and `with-backdrop`.
     */modal:{type:Boolean,value:/* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */},__readied:{type:Boolean,value:!1}},observers:["_modalChanged(modal, __readied)"],listeners:{tap:"_onDialogClick"},/**
   * @return {void}
   */ready:function ready(){// Only now these properties can be read.
this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick;this.__prevNoCancelOnEscKey=this.noCancelOnEscKey;this.__prevWithBackdrop=this.withBackdrop;this.__readied=!0/* skipSlots */},_modalChanged:function _modalChanged(modal,readied){// modal implies noCancelOnOutsideClick, noCancelOnEscKey and withBackdrop.
// We need to wait for the element to be ready before we can read the
// properties values.
if(!readied){return}if(modal){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick;this.__prevNoCancelOnEscKey=this.noCancelOnEscKey;this.__prevWithBackdrop=this.withBackdrop;this.noCancelOnOutsideClick=!0;this.noCancelOnEscKey=!0;this.withBackdrop=!0}else{// If the value was changed to false, let it false.
this.noCancelOnOutsideClick=this.noCancelOnOutsideClick&&this.__prevNoCancelOnOutsideClick;this.noCancelOnEscKey=this.noCancelOnEscKey&&this.__prevNoCancelOnEscKey;this.withBackdrop=this.withBackdrop&&this.__prevWithBackdrop}},_updateClosingReasonConfirmed:function _updateClosingReasonConfirmed(confirmed){this.closingReason=this.closingReason||{};this.closingReason.confirmed=confirmed},/**
   * Will dismiss the dialog if user clicked on an element with dialog-dismiss
   * or dialog-confirm attribute.
   */_onDialogClick:function _onDialogClick(event){// Search for the element with dialog-confirm or dialog-dismiss,
// from the root target until this (excluded).
for(var path=dom(event).path,i=0,l=path.indexOf(this),target;i<l;i++){target=path[i];if(target.hasAttribute&&(target.hasAttribute("dialog-dismiss")||target.hasAttribute("dialog-confirm"))){this._updateClosingReasonConfirmed(target.hasAttribute("dialog-confirm"));this.close();event.stopPropagation();break}}}},PaperDialogBehavior=[IronOverlayBehavior,PaperDialogBehaviorImpl],paperDialogBehavior={PaperDialogBehaviorImpl:PaperDialogBehaviorImpl,PaperDialogBehavior:PaperDialogBehavior},$_documentContainer=document.createElement("template");/** @polymerBehavior */$_documentContainer.setAttribute("style","display: none;");$_documentContainer.innerHTML="<dom-module id=\"paper-dialog-shared-styles\">\n  <template>\n    <style>\n      :host {\n        display: block;\n        margin: 24px 40px;\n\n        background: var(--paper-dialog-background-color, var(--primary-background-color));\n        color: var(--paper-dialog-color, var(--primary-text-color));\n\n        @apply --paper-font-body1;\n        @apply --shadow-elevation-16dp;\n        @apply --paper-dialog;\n      }\n\n      :host > ::slotted(*) {\n        margin-top: 20px;\n        padding: 0 24px;\n      }\n\n      :host > ::slotted(.no-padding) {\n        padding: 0;\n      }\n\n      \n      :host > ::slotted(*:first-child) {\n        margin-top: 24px;\n      }\n\n      :host > ::slotted(*:last-child) {\n        margin-bottom: 24px;\n      }\n\n      /* In 1.x, this selector was `:host > ::content h2`. In 2.x <slot> allows\n      to select direct children only, which increases the weight of this\n      selector, so we have to re-define first-child/last-child margins below. */\n      :host > ::slotted(h2) {\n        position: relative;\n        margin: 0;\n\n        @apply --paper-font-title;\n        @apply --paper-dialog-title;\n      }\n\n      /* Apply mixin again, in case it sets margin-top. */\n      :host > ::slotted(h2:first-child) {\n        margin-top: 24px;\n        @apply --paper-dialog-title;\n      }\n\n      /* Apply mixin again, in case it sets margin-bottom. */\n      :host > ::slotted(h2:last-child) {\n        margin-bottom: 24px;\n        @apply --paper-dialog-title;\n      }\n\n      :host > ::slotted(.paper-dialog-buttons),\n      :host > ::slotted(.buttons) {\n        position: relative;\n        padding: 8px 8px 8px 24px;\n        margin: 0;\n\n        color: var(--paper-dialog-button-color, var(--primary-color));\n\n        @apply --layout-horizontal;\n        @apply --layout-end-justified;\n      }\n    </style>\n  </template>\n</dom-module>";document.head.appendChild($_documentContainer.content);Polymer({_template:html(_templateObject_a62cb2f0a7c311ea8b4ab998f4335326()),is:"paper-dialog",behaviors:[PaperDialogBehavior,NeonAnimationRunnerBehavior],listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},_renderOpened:function _renderOpened(){this.cancelAnimation();this.playAnimation("entry")},_renderClosed:function _renderClosed(){this.cancelAnimation();this.playAnimation("exit")},_onNeonAnimationFinish:function _onNeonAnimationFinish(){if(this.opened){this._finishRenderOpened()}else{this._finishRenderClosed()}}});var CheckboxElement=/*#__PURE__*/function(_ElementMixin){babelHelpers.inherits(CheckboxElement,_ElementMixin);babelHelpers.createClass(CheckboxElement,null,[{key:"template",get:function get(){return html(_templateObject2_a62cb2f0a7c311ea8b4ab998f4335326())}},{key:"is",get:function get(){return"vaadin-checkbox"}},{key:"version",get:function get(){return"2.2.10"}},{key:"properties",get:function get(){return{/**
       * True if the checkbox is checked.
       */checked:{type:Boolean,value:!1,notify:!0,observer:"_checkedChanged",reflectToAttribute:!0},/**
       * Indeterminate state of the checkbox when it's neither checked nor unchecked, but undetermined.
       * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/checkbox#Indeterminate_state_checkboxes
       */indeterminate:{type:Boolean,notify:!0,observer:"_indeterminateChanged",reflectToAttribute:!0,value:!1},/**
       * The value given to the data submitted with the checkbox's name to the server when the control is inside a form.
       */value:{type:String,value:"on"},_nativeCheckbox:{type:Object}}}}]);function CheckboxElement(){var _this;babelHelpers.classCallCheck(this,CheckboxElement);_this=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(CheckboxElement).call(this));/**
              * @type {string}
              * Name of the element.
              */_this.name;return _this}babelHelpers.createClass(CheckboxElement,[{key:"ready",value:function ready(){babelHelpers.get(babelHelpers.getPrototypeOf(CheckboxElement.prototype),"ready",this).call(this);this.setAttribute("role","checkbox");this._nativeCheckbox=this.shadowRoot.querySelector("input[type=\"checkbox\"]");this.addEventListener("click",this._handleClick.bind(this));this._addActiveListeners();var attrName=this.getAttribute("name");if(attrName){this.name=attrName}this.shadowRoot.querySelector("[part~=\"label\"]").querySelector("slot").addEventListener("slotchange",this._updateLabelAttribute.bind(this));this._updateLabelAttribute()}},{key:"_updateLabelAttribute",value:function _updateLabelAttribute(){var label=this.shadowRoot.querySelector("[part~=\"label\"]"),assignedNodes=label.firstElementChild.assignedNodes();if(this._isAssignedNodesEmpty(assignedNodes)){label.setAttribute("empty","")}else{label.removeAttribute("empty")}}},{key:"_isAssignedNodesEmpty",value:function _isAssignedNodesEmpty(nodes){// The assigned nodes considered to be empty if there is no slotted content or only one empty text node
return 0===nodes.length||1==nodes.length&&nodes[0].nodeType==Node.TEXT_NODE&&""===nodes[0].textContent.trim()}},{key:"_checkedChanged",value:function _checkedChanged(checked){if(this.indeterminate){this.setAttribute("aria-checked","mixed")}else{this.setAttribute("aria-checked",checked)}}},{key:"_indeterminateChanged",value:function _indeterminateChanged(indeterminate){if(indeterminate){this.setAttribute("aria-checked","mixed")}else{this.setAttribute("aria-checked",this.checked)}}},{key:"_addActiveListeners",value:function _addActiveListeners(){var _this2=this;// DOWN
this._addEventListenerToNode(this,"down",function(e){if(_this2.__interactionsAllowed(e)){_this2.setAttribute("active","")}});// UP
this._addEventListenerToNode(this,"up",function(){return _this2.removeAttribute("active")});// KEYDOWN
this.addEventListener("keydown",function(e){if(_this2.__interactionsAllowed(e)&&32===e.keyCode){e.preventDefault();_this2.setAttribute("active","")}});// KEYUP
this.addEventListener("keyup",function(e){if(_this2.__interactionsAllowed(e)&&32===e.keyCode){e.preventDefault();_this2._toggleChecked();_this2.removeAttribute("active");if(_this2.indeterminate){_this2.indeterminate=!1}}})}/** @protected */},{key:"__interactionsAllowed",/**
     * True if users' interactions (mouse or keyboard)
     * should toggle the checkbox
     */value:function __interactionsAllowed(e){if(this.disabled){return!1}// https://github.com/vaadin/vaadin-checkbox/issues/63
if("a"===e.target.localName){return!1}return!0}},{key:"_handleClick",value:function _handleClick(e){if(this.__interactionsAllowed(e)){if(!this.indeterminate){if(e.composedPath()[0]!==this._nativeCheckbox){e.preventDefault();this._toggleChecked()}}else{/*
         * Required for IE 11 and Edge.
         * See issue here: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/7344418/
         */this.indeterminate=!1;e.preventDefault();this._toggleChecked()}}}},{key:"_toggleChecked",value:function _toggleChecked(){this.checked=!this.checked;this.dispatchEvent(new CustomEvent("change",{composed:!1,bubbles:!0}))}/**
     * Fired when the user commits a value change.
     *
     * @event change
     */},{key:"name",get:function get(){return this.checked?this._storedName:""},set:function set(name){this._storedName=name}},{key:"focusElement",get:function get(){return this.shadowRoot.querySelector("input")}}]);return CheckboxElement}(ElementMixin(ControlStateMixin(ThemableMixin(GestureEventListeners(PolymerElement)))));customElements.define(CheckboxElement.is,CheckboxElement);var vaadinCheckbox={CheckboxElement:CheckboxElement},$_documentContainer$1=html(_templateObject3_a62cb2f0a7c311ea8b4ab998f4335326());document.head.appendChild($_documentContainer$1.content);var IOS=navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),IOS_TOUCH_SCROLLING=IOS&&8<=IOS[1],DEFAULT_PHYSICAL_COUNT=3,ANIMATION_FRAME=animationFrame,IDLE_TIME=idlePeriod,MICRO_TASK=microTask,PolymerIronList=Class({behaviors:[IronResizableBehavior,IronScrollTargetBehavior],/**
   * The ratio of hidden tiles that should remain in the scroll direction.
   * Recommended value ~0.5, so it will distribute tiles evenly in both directions.
   */_ratio:.5,/**
   * The padding-top value for the list.
   */_scrollerPaddingTop:0,/**
   * This value is the same as `scrollTop`.
   */_scrollPosition:0,/**
   * The sum of the heights of all the tiles in the DOM.
   */_physicalSize:0,/**
   * The average `offsetHeight` of the tiles observed till now.
   */_physicalAverage:0,/**
   * The number of tiles which `offsetHeight` > 0 observed until now.
   */_physicalAverageCount:0,/**
   * The Y position of the item rendered in the `_physicalStart`
   * tile relative to the scrolling list.
   */_physicalTop:0,/**
   * The number of items in the list.
   */_virtualCount:0,/**
   * The estimated scroll height based on `_physicalAverage`
   */_estScrollHeight:0,/**
   * The scroll height of the dom node
   */_scrollHeight:0,/**
   * The height of the list. This is referred as the viewport in the context of list.
   */_viewportHeight:0,/**
   * The width of the list. This is referred as the viewport in the context of list.
   */_viewportWidth:0,/**
   * An array of DOM nodes that are currently in the tree
   * @type {?Array<!TemplatizerNode>}
   */_physicalItems:null,/**
   * An array of heights for each item in `_physicalItems`
   * @type {?Array<number>}
   */_physicalSizes:null,/**
   * A cached value for the first visible index.
   * See `firstVisibleIndex`
   * @type {?number}
   */_firstVisibleIndexVal:null,/**
   * A Polymer collection for the items.
   * @type {?Polymer.Collection}
   */_collection:null,/**
   * A cached value for the last visible index.
   * See `lastVisibleIndex`
   * @type {?number}
   */_lastVisibleIndexVal:null,/**
   * The max number of pages to render. One page is equivalent to the height of the list.
   */_maxPages:2,/**
   * The virtual index of the focused item.
   */_focusedVirtualIndex:-1,/**
   * The maximum items per row
   */_itemsPerRow:1,/**
   * The height of the row in grid layout.
   */_rowHeight:0,/**
   * The cost of stamping a template in ms.
   */_templateCost:0,/**
   * The bottom of the physical content.
   */get _physicalBottom(){return this._physicalTop+this._physicalSize},/**
   * The bottom of the scroll.
   */get _scrollBottom(){return this._scrollPosition+this._viewportHeight},/**
   * The n-th item rendered in the last physical item.
   */get _virtualEnd(){return this._virtualStart+this._physicalCount-1},/**
   * The height of the physical content that isn't on the screen.
   */get _hiddenContentSize(){var size=this.grid?this._physicalRows*this._rowHeight:this._physicalSize;return size-this._viewportHeight},/**
   * The maximum scroll top value.
   */get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollOffset},/**
   * The largest n-th value for an item such that it can be rendered in `_physicalStart`.
   */get _maxVirtualStart(){var virtualCount=this._convertIndexToCompleteRow(this._virtualCount);return Math.max(0,virtualCount-this._physicalCount)},set _virtualStart(val){val=this._clamp(val,0,this._maxVirtualStart);if(this.grid){val=val-val%this._itemsPerRow}this._virtualStartVal=val},get _virtualStart(){return this._virtualStartVal||0},/**
   * The k-th tile that is at the top of the scrolling list.
   */set _physicalStart(val){val=val%this._physicalCount;if(0>val){val=this._physicalCount+val}if(this.grid){val=val-val%this._itemsPerRow}this._physicalStartVal=val},get _physicalStart(){return this._physicalStartVal||0},/**
   * The k-th tile that is at the bottom of the scrolling list.
   */get _physicalEnd(){return(this._physicalStart+this._physicalCount-1)%this._physicalCount},set _physicalCount(val){this._physicalCountVal=val},get _physicalCount(){return this._physicalCountVal||0},/**
   * An optimal physical size such that we will have enough physical items
   * to fill up the viewport and recycle when the user scrolls.
   *
   * This default value assumes that we will at least have the equivalent
   * to a viewport of physical items above and below the user's viewport.
   */get _optPhysicalSize(){return 0===this._viewportHeight?1/0:this._viewportHeight*this._maxPages},/**
   * True if the current list is visible.
   */get _isVisible(){return!!(this.offsetWidth||this.offsetHeight)},/**
   * Gets the index of the first visible item in the viewport.
   *
   * @type {number}
   */get firstVisibleIndex(){var idx=this._firstVisibleIndexVal;if(null==idx){var physicalOffset=this._physicalTop+this._scrollOffset;idx=this._iterateItems(function(pidx,vidx){physicalOffset+=this._getPhysicalSizeIncrement(pidx);if(physicalOffset>this._scrollPosition){return this.grid?vidx-vidx%this._itemsPerRow:vidx}// Handle a partially rendered final row in grid mode
if(this.grid&&this._virtualCount-1===vidx){return vidx-vidx%this._itemsPerRow}})||0;this._firstVisibleIndexVal=idx}return idx},/**
   * Gets the index of the last visible item in the viewport.
   *
   * @type {number}
   */get lastVisibleIndex(){var idx=this._lastVisibleIndexVal;if(null==idx){if(this.grid){idx=Math.min(this._virtualCount,this.firstVisibleIndex+this._estRowsInView*this._itemsPerRow-1)}else{var physicalOffset=this._physicalTop+this._scrollOffset;this._iterateItems(function(pidx,vidx){if(physicalOffset<this._scrollBottom){idx=vidx}physicalOffset+=this._getPhysicalSizeIncrement(pidx)})}this._lastVisibleIndexVal=idx}return idx},get _scrollOffset(){return this._scrollerPaddingTop},attached:function attached(){this._debounce("_render",this._render,ANIMATION_FRAME);// `iron-resize` is fired when the list is attached if the event is added
// before attached causing unnecessary work.
this.listen(this,"iron-resize","_resizeHandler")},detached:function detached(){this.unlisten(this,"iron-resize","_resizeHandler")},/**
   * Invoke this method if you dynamically update the viewport's
   * size or CSS padding.
   *
   * @method updateViewportBoundaries
   */updateViewportBoundaries:function updateViewportBoundaries(){var styles=window.getComputedStyle(this);this._scrollerPaddingTop=this.scrollTarget===this?0:parseInt(styles["padding-top"],10);this._isRTL=!!("rtl"===styles.direction);this._viewportWidth=this.$.items.offsetWidth;this._viewportHeight=this._scrollTargetHeight;this.grid&&this._updateGridMetrics()},/**
   * Recycles the physical items when needed.
   */_scrollHandler:function _scrollHandler(){var scrollTop=Math.max(0,Math.min(this._maxScrollTop,this._scrollTop)),delta=scrollTop-this._scrollPosition,isScrollingDown=0<=delta;// Track the current scroll position.
this._scrollPosition=scrollTop;// Clear indexes for first and last visible indexes.
this._firstVisibleIndexVal=null;this._lastVisibleIndexVal=null;// Random access.
if(Math.abs(delta)>this._physicalSize&&0<this._physicalSize){delta=delta-this._scrollOffset;var idxAdjustment=Math.round(delta/this._physicalAverage)*this._itemsPerRow;this._virtualStart=this._virtualStart+idxAdjustment;this._physicalStart=this._physicalStart+idxAdjustment;// Estimate new physical offset.
this._physicalTop=Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage;this._update()}else if(0<this._physicalCount){var reusables=this._getReusables(isScrollingDown);if(isScrollingDown){this._physicalTop=reusables.physicalTop;this._virtualStart=this._virtualStart+reusables.indexes.length;this._physicalStart=this._physicalStart+reusables.indexes.length}else{this._virtualStart=this._virtualStart-reusables.indexes.length;this._physicalStart=this._physicalStart-reusables.indexes.length}this._update(reusables.indexes,isScrollingDown?null:reusables.indexes);this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,0),MICRO_TASK)}},/**
   * Returns an object that contains the indexes of the physical items
   * that might be reused and the physicalTop.
   *
   * @param {boolean} fromTop If the potential reusable items are above the scrolling region.
   */_getReusables:function _getReusables(fromTop){var ith,offsetContent,physicalItemHeight,idxs=[],protectedOffsetContent=this._hiddenContentSize*this._ratio,virtualStart=this._virtualStart,virtualEnd=this._virtualEnd,physicalCount=this._physicalCount,top=this._physicalTop+this._scrollOffset,bottom=this._physicalBottom+this._scrollOffset,scrollTop=this._scrollTop,scrollBottom=this._scrollBottom;if(fromTop){ith=this._physicalStart;offsetContent=scrollTop-top}else{ith=this._physicalEnd;offsetContent=bottom-scrollBottom}// eslint-disable-next-line no-constant-condition
while(!0){physicalItemHeight=this._getPhysicalSizeIncrement(ith);offsetContent=offsetContent-physicalItemHeight;if(idxs.length>=physicalCount||offsetContent<=protectedOffsetContent){break}if(fromTop){// Check that index is within the valid range.
if(virtualEnd+idxs.length+1>=this._virtualCount){break}// Check that the index is not visible.
if(top+physicalItemHeight>=scrollTop-this._scrollOffset){break}idxs.push(ith);top=top+physicalItemHeight;ith=(ith+1)%physicalCount}else{// Check that index is within the valid range.
if(0>=virtualStart-idxs.length){break}// Check that the index is not visible.
if(top+this._physicalSize-physicalItemHeight<=scrollBottom){break}idxs.push(ith);top=top-physicalItemHeight;ith=0===ith?physicalCount-1:ith-1}}return{indexes:idxs,physicalTop:top-this._scrollOffset}},/**
   * Update the list of items, starting from the `_virtualStart` item.
   * @param {!Array<number>=} itemSet
   * @param {!Array<number>=} movingUp
   */_update:function _update(itemSet,movingUp){if(itemSet&&0===itemSet.length||0===this._physicalCount){return}this._manageFocus();this._assignModels(itemSet);this._updateMetrics(itemSet);// Adjust offset after measuring.
if(movingUp){while(movingUp.length){var idx=movingUp.pop();this._physicalTop-=this._getPhysicalSizeIncrement(idx)}}this._positionItems();this._updateScrollerSize()},_isClientFull:function _isClientFull(){return 0!=this._scrollBottom&&this._physicalBottom-1>=this._scrollBottom&&this._physicalTop<=this._scrollPosition},/**
   * Increases the pool size.
   */_increasePoolIfNeeded:function _increasePoolIfNeeded(count){var nextPhysicalCount=this._clamp(this._physicalCount+count,DEFAULT_PHYSICAL_COUNT,this._virtualCount-this._virtualStart);nextPhysicalCount=this._convertIndexToCompleteRow(nextPhysicalCount);var delta=nextPhysicalCount-this._physicalCount,nextIncrease=Math.round(.5*this._physicalCount);if(0>delta){return}if(0<delta){var ts=window.performance.now();// Concat arrays in place.
[].push.apply(this._physicalItems,this._createPool(delta));// Push 0s into physicalSizes. Can't use Array.fill because IE11 doesn't support it.
for(var i=0;i<delta;i++){this._physicalSizes.push(0)}this._physicalCount=this._physicalCount+delta;// Update the physical start if it needs to preserve the model of the focused item.
// In this situation, the focused item is currently rendered and its model would
// have changed after increasing the pool if the physical start remained unchanged.
if(this._physicalStart>this._physicalEnd&&this._isIndexRendered(this._focusedVirtualIndex)&&this._getPhysicalIndex(this._focusedVirtualIndex)<this._physicalEnd){this._physicalStart=this._physicalStart+delta}this._update();this._templateCost=(window.performance.now()-ts)/delta;nextIncrease=Math.round(.5*this._physicalCount)}// The upper bounds is not fixed when dealing with a grid that doesn't
// fill it's last row with the exact number of items per row.
if(this._virtualEnd>=this._virtualCount-1||0===nextIncrease){// Do nothing.
}else if(!this._isClientFull()){this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,nextIncrease),MICRO_TASK)}else if(this._physicalSize<this._optPhysicalSize){// Yield and increase the pool during idle time until the physical size is optimal.
this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,this._clamp(Math.round(50/this._templateCost),1,nextIncrease)),IDLE_TIME)}},/**
   * Renders the a new list.
   */_render:function _render(){if(!this.isAttached||!this._isVisible){return}if(0!==this._physicalCount){var reusables=this._getReusables(!0);this._physicalTop=reusables.physicalTop;this._virtualStart=this._virtualStart+reusables.indexes.length;this._physicalStart=this._physicalStart+reusables.indexes.length;this._update(reusables.indexes);this._update();this._increasePoolIfNeeded(0)}else if(0<this._virtualCount){// Initial render
this.updateViewportBoundaries();this._increasePoolIfNeeded(DEFAULT_PHYSICAL_COUNT)}},/**
   * Called when the items have changed. That is, reassignments
   * to `items`, splices or updates to a single item.
   */_itemsChanged:function _itemsChanged(change){if("items"===change.path){this._virtualStart=0;this._physicalTop=0;this._virtualCount=this.items?this.items.length:0;this._collection=this.items&&void 0?(void 0).get(this.items):null;this._physicalIndexForKey={};this._firstVisibleIndexVal=null;this._lastVisibleIndexVal=null;this._physicalCount=this._physicalCount||0;this._physicalItems=this._physicalItems||[];this._physicalSizes=this._physicalSizes||[];this._physicalStart=0;if(this._scrollTop>this._scrollOffset){this._resetScrollPosition(0)}this._removeFocusedItem();this._debounce("_render",this._render,ANIMATION_FRAME)}},/**
   * Executes a provided function per every physical index in `itemSet`
   * `itemSet` default value is equivalent to the entire set of physical indexes.
   *
   * @param {!function(number, number)} fn
   * @param {!Array<number>=} itemSet
   */_iterateItems:function _iterateItems(fn,itemSet){var pidx,vidx,rtn,i;if(2===arguments.length&&itemSet){for(i=0;i<itemSet.length;i++){pidx=itemSet[i];vidx=this._computeVidx(pidx);if(null!=(rtn=fn.call(this,pidx,vidx))){return rtn}}}else{pidx=this._physicalStart;vidx=this._virtualStart;for(;pidx<this._physicalCount;pidx++,vidx++){if(null!=(rtn=fn.call(this,pidx,vidx))){return rtn}}for(pidx=0;pidx<this._physicalStart;pidx++,vidx++){if(null!=(rtn=fn.call(this,pidx,vidx))){return rtn}}}},/**
   * Returns the virtual index for a given physical index
   *
   * @param {number} pidx Physical index
   * @return {number}
   */_computeVidx:function _computeVidx(pidx){if(pidx>=this._physicalStart){return this._virtualStart+(pidx-this._physicalStart)}return this._virtualStart+(this._physicalCount-this._physicalStart)+pidx},/**
   * Updates the height for a given set of items.
   *
   * @param {!Array<number>=} itemSet
   */_updateMetrics:function _updateMetrics(itemSet){// Make sure we distributed all the physical items
// so we can measure them.
flush?flush():flush$1();var newPhysicalSize=0,oldPhysicalSize=0,prevAvgCount=this._physicalAverageCount,prevPhysicalAvg=this._physicalAverage;this._iterateItems(function(pidx,vidx){oldPhysicalSize+=this._physicalSizes[pidx];this._physicalSizes[pidx]=this._physicalItems[pidx].offsetHeight;newPhysicalSize+=this._physicalSizes[pidx];this._physicalAverageCount+=this._physicalSizes[pidx]?1:0},itemSet);if(this.grid){this._updateGridMetrics();this._physicalSize=Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight}else{oldPhysicalSize=1===this._itemsPerRow?oldPhysicalSize:Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight;this._physicalSize=this._physicalSize+newPhysicalSize-oldPhysicalSize;this._itemsPerRow=1}// Update the average if it measured something.
if(this._physicalAverageCount!==prevAvgCount){this._physicalAverage=Math.round((prevPhysicalAvg*prevAvgCount+newPhysicalSize)/this._physicalAverageCount)}},/**
   * Updates the position of the physical items.
   */_positionItems:function _positionItems(){this._adjustScrollPosition();var y=this._physicalTop;this._iterateItems(function(pidx,vidx){this.translate3d(0,y+"px",0,this._physicalItems[pidx]);y+=this._physicalSizes[pidx]})},_getPhysicalSizeIncrement:function _getPhysicalSizeIncrement(pidx){if(!this.grid){return this._physicalSizes[pidx]}if(this._computeVidx(pidx)%this._itemsPerRow!==this._itemsPerRow-1){return 0}return this._rowHeight},/**
   * Adjusts the scroll position when it was overestimated.
   */_adjustScrollPosition:function _adjustScrollPosition(){var deltaHeight=0===this._virtualStart?this._physicalTop:Math.min(this._scrollPosition+this._physicalTop,0);// Note: the delta can be positive or negative.
if(0!==deltaHeight){this._physicalTop=this._physicalTop-deltaHeight;var scrollTop=this._scrollTop;// juking scroll position during interial scrolling on iOS is no bueno
if(!IOS_TOUCH_SCROLLING&&0<scrollTop){this._resetScrollPosition(scrollTop-deltaHeight)}}},/**
   * Sets the position of the scroll.
   */_resetScrollPosition:function _resetScrollPosition(pos){if(this.scrollTarget&&0<=pos){this._scrollTop=pos;this._scrollPosition=this._scrollTop}},/**
   * Sets the scroll height, that's the height of the content,
   *
   * @param {boolean=} forceUpdate If true, updates the height no matter what.
   */_updateScrollerSize:function _updateScrollerSize(forceUpdate){if(this.grid){this._estScrollHeight=this._virtualRowCount*this._rowHeight}else{this._estScrollHeight=this._physicalBottom+Math.max(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage}forceUpdate=forceUpdate||0===this._scrollHeight;forceUpdate=forceUpdate||this._scrollPosition>=this._estScrollHeight-this._physicalSize;forceUpdate=forceUpdate||this.grid&&this.$.items.style.height<this._estScrollHeight;// Amortize height adjustment, so it won't trigger large repaints too often.
if(forceUpdate||Math.abs(this._estScrollHeight-this._scrollHeight)>=this._viewportHeight){this.$.items.style.height=this._estScrollHeight+"px";this._scrollHeight=this._estScrollHeight}},/**
   * Scroll to a specific index in the virtual list regardless
   * of the physical items in the DOM tree.
   *
   * @method scrollToIndex
   * @param {number} idx The index of the item
   */scrollToIndex:function scrollToIndex(idx){if("number"!==typeof idx||0>idx||idx>this.items.length-1){return}flush?flush():flush$1();// Items should have been rendered prior scrolling to an index.
if(0===this._physicalCount){return}idx=this._clamp(idx,0,this._virtualCount-1);// Update the virtual start only when needed.
if(!this._isIndexRendered(idx)||idx>=this._maxVirtualStart){this._virtualStart=this.grid?idx-2*this._itemsPerRow:idx-1}this._manageFocus();this._assignModels();this._updateMetrics();// Estimate new physical offset.
this._physicalTop=Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage;var currentTopItem=this._physicalStart,currentVirtualItem=this._virtualStart,targetOffsetTop=0,hiddenContentSize=this._hiddenContentSize;// scroll to the item as much as we can.
while(currentVirtualItem<idx&&targetOffsetTop<=hiddenContentSize){targetOffsetTop=targetOffsetTop+this._getPhysicalSizeIncrement(currentTopItem);currentTopItem=(currentTopItem+1)%this._physicalCount;currentVirtualItem++}this._updateScrollerSize(!0);this._positionItems();this._resetScrollPosition(this._physicalTop+this._scrollOffset+targetOffsetTop);this._increasePoolIfNeeded(0);// clear cached visible index.
this._firstVisibleIndexVal=null;this._lastVisibleIndexVal=null},/**
   * Reset the physical average and the average count.
   */_resetAverage:function _resetAverage(){this._physicalAverage=0;this._physicalAverageCount=0},/**
   * A handler for the `iron-resize` event triggered by `IronResizableBehavior`
   * when the element is resized.
   */_resizeHandler:function _resizeHandler(){this._debounce("_render",function(){// clear cached visible index.
this._firstVisibleIndexVal=null;this._lastVisibleIndexVal=null;// Skip the resize event on touch devices when the address bar slides up.
this.updateViewportBoundaries();if(this._isVisible){// Reinstall the scroll event listener.
this.toggleScrollListener(!0);this._resetAverage();this._render()}else{// Uninstall the scroll event listener.
this.toggleScrollListener(!1)}},ANIMATION_FRAME)},/**
   * Converts a random index to the index of the item that completes it's row.
   * Allows for better order and fill computation when grid == true.
   */_convertIndexToCompleteRow:function _convertIndexToCompleteRow(idx){// when grid == false _itemPerRow can be unset.
this._itemsPerRow=this._itemsPerRow||1;return this.grid?Math.ceil(idx/this._itemsPerRow)*this._itemsPerRow:idx},_isIndexRendered:function _isIndexRendered(idx){return idx>=this._virtualStart&&idx<=this._virtualEnd},_getPhysicalIndex:function _getPhysicalIndex(vidx){return(this._physicalStart+(vidx-this._virtualStart))%this._physicalCount},_clamp:function _clamp(v,min,max){return Math.min(max,Math.max(min,v))},_debounce:function _debounce(name,cb,asyncModule){this._debouncers=this._debouncers||{};this._debouncers[name]=Debouncer.debounce(this._debouncers[name],asyncModule,cb.bind(this));enqueueDebouncer(this._debouncers[name])}}),ironList={PolymerIronList:PolymerIronList},A11yMixin=function A11yMixin(superClass){return(/*#__PURE__*/function(_superClass){babelHelpers.inherits(A11yMixin,_superClass);function A11yMixin(){babelHelpers.classCallCheck(this,A11yMixin);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(A11yMixin).apply(this,arguments))}babelHelpers.createClass(A11yMixin,[{key:"_a11yGetHeaderRowCount",value:function _a11yGetHeaderRowCount(_columnTree){return _columnTree.filter(function(level){return level.some(function(col){return col._headerTemplate||col.headerRenderer||col.path||col.header})}).length}},{key:"_a11yGetFooterRowCount",value:function _a11yGetFooterRowCount(_columnTree){return _columnTree.filter(function(level){return level.some(function(col){return col._headerTemplate||col.headerRenderer})}).length}},{key:"_a11yUpdateGridSize",value:function _a11yUpdateGridSize(size,_columnTree){if(size===void 0||_columnTree===void 0){return}var bodyColumns=_columnTree[_columnTree.length-1];this.$.table.setAttribute("aria-rowcount",size+this._a11yGetHeaderRowCount(_columnTree)+this._a11yGetFooterRowCount(_columnTree));this.$.table.setAttribute("aria-colcount",bodyColumns&&bodyColumns.length||0);this._a11yUpdateHeaderRows();this._a11yUpdateFooterRows()}},{key:"_a11yUpdateHeaderRows",value:function _a11yUpdateHeaderRows(){Array.from(this.$.header.children).forEach(function(headerRow,index){return headerRow.setAttribute("aria-rowindex",index+1)})}},{key:"_a11yUpdateFooterRows",value:function _a11yUpdateFooterRows(){var _this3=this;Array.from(this.$.footer.children).forEach(function(footerRow,index){return footerRow.setAttribute("aria-rowindex",_this3._a11yGetHeaderRowCount(_this3._columnTree)+_this3.size+index+1)})}},{key:"_a11yUpdateRowRowindex",value:function _a11yUpdateRowRowindex(row,index){row.setAttribute("aria-rowindex",index+this._a11yGetHeaderRowCount(this._columnTree)+1)}},{key:"_a11yUpdateRowSelected",value:function _a11yUpdateRowSelected(row,selected){// Jaws reads selection only for rows, NVDA only for cells
row.setAttribute("aria-selected",!!selected);Array.from(row.children).forEach(function(cell){return cell.setAttribute("aria-selected",!!selected)})}},{key:"_a11yUpdateRowLevel",value:function _a11yUpdateRowLevel(row,level){row.setAttribute("aria-level",level+1)}},{key:"_a11yUpdateRowDetailsOpened",value:function _a11yUpdateRowDetailsOpened(row,detailsOpened){Array.from(row.children).forEach(function(cell){if("boolean"===typeof detailsOpened){cell.setAttribute("aria-expanded",detailsOpened)}else{if(cell.hasAttribute("aria-expanded")){cell.removeAttribute("aria-expanded")}}})}},{key:"_a11ySetRowDetailsCell",value:function _a11ySetRowDetailsCell(row,detailsCell){Array.from(row.children).forEach(function(cell){if(cell!==detailsCell){cell.setAttribute("aria-controls",detailsCell.id)}})}},{key:"_a11yUpdateCellColspan",value:function _a11yUpdateCellColspan(cell,colspan){cell.setAttribute("aria-colspan",+colspan)}},{key:"_a11yUpdateSorters",value:function _a11yUpdateSorters(){Array.from(this.querySelectorAll("vaadin-grid-sorter")).forEach(function(sorter){var cellContent=sorter.parentNode;while(cellContent&&"vaadin-grid-cell-content"!==cellContent.localName){cellContent=cellContent.parentNode}if(cellContent&&cellContent.assignedSlot){var cell=cellContent.assignedSlot.parentNode;cell.setAttribute("aria-sort",{asc:"ascending",desc:"descending"}[sorter.direction+""]||"none")}})}}],[{key:"observers",get:function get(){return["_a11yUpdateGridSize(size, _columnTree, _columnTree.*)"]}}]);return A11yMixin}(superClass))},vaadinGridA11yMixin={A11yMixin:A11yMixin},ActiveItemMixin=function ActiveItemMixin(superClass){return(/*#__PURE__*/function(_superClass2){babelHelpers.inherits(ActiveItemMixin,_superClass2);function ActiveItemMixin(){babelHelpers.classCallCheck(this,ActiveItemMixin);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(ActiveItemMixin).apply(this,arguments))}babelHelpers.createClass(ActiveItemMixin,[{key:"ready",value:function ready(){babelHelpers.get(babelHelpers.getPrototypeOf(ActiveItemMixin.prototype),"ready",this).call(this);this.$.scroller.addEventListener("click",this._onClick.bind(this));this.addEventListener("cell-activate",this._activateItem.bind(this))}},{key:"_activateItem",value:function _activateItem(e){var model=e.detail.model,clickedItem=model?model.item:null;if(clickedItem){this.activeItem=!this._itemsEqual(this.activeItem,clickedItem)?clickedItem:null}}// we need to listen to click instead of tap because on mobile safari, the
// document.activeElement has not been updated (focus has not been shifted)
// yet at the point when tap event is being executed.
},{key:"_onClick",value:function _onClick(e){if(e.defaultPrevented){// Something has handled this click already, e. g., <vaadin-grid-sorter>
return}var path=e.composedPath(),cell=path[path.indexOf(this.$.table)-3];if(!cell||-1<cell.getAttribute("part").indexOf("details-cell")){return}var cellContent=cell._content,activeElement=this.getRootNode().activeElement,cellContentHasFocus=cellContent.contains(activeElement)&&(// MSIE bug: flex children receive focus. Make type & attributes check.
!this._ie||this._isFocusable(activeElement));if(!cellContentHasFocus&&!this._isFocusable(e.target)){this.dispatchEvent(new CustomEvent("cell-activate",{detail:{model:this.__getRowModel(cell.parentElement)}}))}}},{key:"_isFocusable",value:function _isFocusable(target){if(!target.parentNode){return!1}var focusables=Array.from(target.parentNode.querySelectorAll("[tabindex], button, input, select, textarea, object, iframe, label, a[href], area[href]")).filter(function(element){return"cell body-cell"!==element.getAttribute("part")}),isFocusableElement=-1!==focusables.indexOf(target);return!target.disabled&&isFocusableElement}}],[{key:"properties",get:function get(){return{/**
       * The item user has last interacted with. Turns to `null` after user deactivates
       * the item by re-interacting with the currently active item.
       */activeItem:{type:Object,notify:!0,value:null}}}}]);return ActiveItemMixin}(superClass))},vaadinGridActiveItemMixin={ActiveItemMixin:ActiveItemMixin},ArrayDataProviderMixin=function ArrayDataProviderMixin(superClass){return(/*#__PURE__*/function(_superClass3){babelHelpers.inherits(ArrayDataProviderMixin,_superClass3);function ArrayDataProviderMixin(){babelHelpers.classCallCheck(this,ArrayDataProviderMixin);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(ArrayDataProviderMixin).apply(this,arguments))}babelHelpers.createClass(ArrayDataProviderMixin,[{key:"_itemsChanged",value:function _itemsChanged(items,splices,isAttached){if(!isAttached){return}if(!Array.isArray(items)){if(items===void 0||null===items){this.size=0}if(this.dataProvider===this._arrayDataProvider){this.dataProvider=void 0}return}this.size=items.length;this.dataProvider=this.dataProvider||this._arrayDataProvider;this.clearCache();this._ensureFirstPageLoaded()}},{key:"_arrayDataProvider",value:function _arrayDataProvider(opts,cb){var items=(Array.isArray(this.items)?this.items:[]).slice(0);if(this._filters&&this._checkPaths(this._filters,"filtering",items)){items=this._filter(items)}this.size=items.length;if(opts.sortOrders.length&&this._checkPaths(this._sorters,"sorting",items)){items=items.sort(this._multiSort.bind(this))}var start=opts.page*opts.pageSize,end=start+opts.pageSize,slice=items.slice(start,end);cb(slice,items.length)}/**
     * Check array of filters/sorters for paths validity, console.warn invalid items
     * @param {Array}  arrayToCheck The array of filters/sorters to check
     * @param {string} action       The name of action to include in warning (filtering, sorting)
     * @param {Array}  items
     */},{key:"_checkPaths",value:function _checkPaths(arrayToCheck,action,items){if(!items.length){return!1}var result=!0;for(var i in arrayToCheck){var path=arrayToCheck[i].path;// skip simple paths
if(!path||-1===path.indexOf(".")){continue}var parentProperty=path.replace(/\.[^\.]*$/,"");// a.b.c -> a.b
if(Base.get(parentProperty,items[0])===void 0){console.warn("Path \"".concat(path,"\" used for ").concat(action," does not exist in all of the items, ").concat(action," is disabled."));result=!1}}return result}},{key:"_multiSort",value:function _multiSort(a,b){var _this4=this;return this._sorters.map(function(sort){if("asc"===sort.direction){return _this4._compare(Base.get(sort.path,a),Base.get(sort.path,b))}else if("desc"===sort.direction){return _this4._compare(Base.get(sort.path,b),Base.get(sort.path,a))}return 0}).reduce(function(p,n){return p?p:n},0)}},{key:"_normalizeEmptyValue",value:function _normalizeEmptyValue(value){if(0<=[void 0,null].indexOf(value)){return""}else if(isNaN(value)){return value.toString()}else{return value}}},{key:"_compare",value:function _compare(a,b){a=this._normalizeEmptyValue(a);b=this._normalizeEmptyValue(b);if(a<b){return-1}if(a>b){return 1}return 0}},{key:"_filter",value:function _filter(items){var _this5=this;return items.filter(function(item,index){return 0===_this5._filters.filter(function(filter){var value=_this5._normalizeEmptyValue(Base.get(filter.path,item)),filterValueLowercase=_this5._normalizeEmptyValue(filter.value).toString().toLowerCase();return-1===value.toString().toLowerCase().indexOf(filterValueLowercase)}).length})}}],[{key:"properties",get:function get(){return{/**
       * An array containing the items which will be stamped to the column template
       * instances.
       */items:Array}}},{key:"observers",get:function get(){return["_itemsChanged(items, items.*, isAttached)"]}}]);return ArrayDataProviderMixin}(superClass))},vaadinGridArrayDataProviderMixin={ArrayDataProviderMixin:ArrayDataProviderMixin},ColumnReorderingMixin=function ColumnReorderingMixin(superClass){return(/*#__PURE__*/function(_GestureEventListener){babelHelpers.inherits(ColumnReorderingMixin,_GestureEventListener);function ColumnReorderingMixin(){babelHelpers.classCallCheck(this,ColumnReorderingMixin);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(ColumnReorderingMixin).apply(this,arguments))}babelHelpers.createClass(ColumnReorderingMixin,[{key:"ready",value:function ready(){babelHelpers.get(babelHelpers.getPrototypeOf(ColumnReorderingMixin.prototype),"ready",this).call(this);addListener(this,"track",this._onTrackEvent);this._reorderGhost=this.shadowRoot.querySelector("[part=\"reorder-ghost\"]");this.addEventListener("touchstart",this._onTouchStart.bind(this));this.addEventListener("touchmove",this._onTouchMove.bind(this));this.addEventListener("touchend",this._onTouchEnd.bind(this));this.addEventListener("contextmenu",this._onContextMenu.bind(this))}},{key:"_onContextMenu",value:function _onContextMenu(e){if(this.hasAttribute("reordering")){e.preventDefault()}}},{key:"_onTouchStart",value:function _onTouchStart(e){var _this6=this;// Touch event, delay activation by 100ms
this._startTouchReorderTimeout=setTimeout(function(){_this6._onTrackStart({detail:{x:e.touches[0].clientX,y:e.touches[0].clientY}})},100)}},{key:"_onTouchMove",value:function _onTouchMove(e){if(this._draggedColumn){e.preventDefault()}clearTimeout(this._startTouchReorderTimeout)}},{key:"_onTouchEnd",value:function _onTouchEnd(){clearTimeout(this._startTouchReorderTimeout);this._onTrackEnd()}},{key:"_onTrackEvent",value:function _onTrackEvent(e){if("start"===e.detail.state){var path=e.composedPath(),headerCell=path[path.indexOf(this.$.header)-2];if(!headerCell||!headerCell._content){// Not a header column
return}var activeElement=this.getRootNode().activeElement;if(headerCell._content.contains(this.getRootNode().activeElement)&&(!this._ie||!this._isFocusable(activeElement))){// Something was focused inside the cell
return}if(this.$.scroller.hasAttribute("column-resizing")){// Resizing is in progress
return}if(!this._touchDevice){// Not a touch device
this._onTrackStart(e)}}else if("track"===e.detail.state){this._onTrack(e)}else if("end"===e.detail.state){this._onTrackEnd(e)}}},{key:"_onTrackStart",value:function _onTrackStart(e){if(!this.columnReorderingAllowed){return}// Cancel reordering if there are draggable nodes on the event path
var path=e.path||dom(e).path;if(path&&path.filter(function(node){return node.hasAttribute&&node.hasAttribute("draggable")})[0]){return}var headerCell=this._cellFromPoint(e.detail.x,e.detail.y);if(!headerCell||-1===headerCell.getAttribute("part").indexOf("header-cell")){return}this._toggleAttribute("reordering",!0,this);this._draggedColumn=headerCell._column;while(1===this._draggedColumn.parentElement.childElementCount){// This is the only column in the group, drag the whole group instead
this._draggedColumn=this._draggedColumn.parentElement}this._setSiblingsReorderStatus(this._draggedColumn,"allowed");this._draggedColumn._reorderStatus="dragging";this._updateGhost(headerCell);this._reorderGhost.style.visibility="visible";this._updateGhostPosition(e.detail.x,this._touchDevice?e.detail.y-50:e.detail.y);this._autoScroller()}},{key:"_onTrack",value:function _onTrack(e){if(!this._draggedColumn){// Reordering didn’t start. Skip this event.
return}var targetCell=this._cellFromPoint(e.detail.x,e.detail.y);if(!targetCell){return}var targetColumn=this._getTargetColumn(targetCell,this._draggedColumn);if(this._isSwapAllowed(this._draggedColumn,targetColumn)&&this._isSwappableByPosition(targetColumn,e.detail.x)){this._swapColumnOrders(this._draggedColumn,targetColumn)}this._updateGhostPosition(e.detail.x,this._touchDevice?e.detail.y-50:e.detail.y);this._lastDragClientX=e.detail.x}},{key:"_onTrackEnd",value:function _onTrackEnd(){if(!this._draggedColumn){// Reordering didn’t start. Skip this event.
return}this._toggleAttribute("reordering",!1,this);this._draggedColumn._reorderStatus="";this._setSiblingsReorderStatus(this._draggedColumn,"");this._draggedColumn=null;this._lastDragClientX=null;this._reorderGhost.style.visibility="hidden";this.dispatchEvent(new CustomEvent("column-reorder",{detail:{columns:this._getColumnsInOrder()}}))}},{key:"_getColumnsInOrder",value:function _getColumnsInOrder(){return this._columnTree.slice(0).pop().filter(function(c){return!c.hidden}).sort(function(b,a){return b._order-a._order})}},{key:"_cellFromPoint",value:function _cellFromPoint(x,y){x=x||0;y=y||0;if(!this._draggedColumn){this._toggleAttribute("no-content-pointer-events",!0,this.$.scroller)}var cell;if(useShadow){cell=this.shadowRoot.elementFromPoint(x,y)}else{cell=document.elementFromPoint(x,y);// Workaround a FF58 bug
if("vaadin-grid-cell-content"===cell.localName){cell=cell.assignedSlot.parentNode}}this._toggleAttribute("no-content-pointer-events",!1,this.$.scroller);// Make sure the element is actually a cell
if(cell&&cell._column){return cell}}},{key:"_updateGhostPosition",value:function _updateGhostPosition(eventClientX,eventClientY){var ghostRect=this._reorderGhost.getBoundingClientRect(),targetLeft=eventClientX-ghostRect.width/2,targetTop=eventClientY-ghostRect.height/2,_left=parseInt(this._reorderGhost._left||0),_top=parseInt(this._reorderGhost._top||0);// // This is where we want to position the ghost
// Reposition the ghost
this._reorderGhost._left=_left-(ghostRect.left-targetLeft);this._reorderGhost._top=_top-(ghostRect.top-targetTop);this._reorderGhost.style.transform="translate(".concat(this._reorderGhost._left,"px, ").concat(this._reorderGhost._top,"px)")}},{key:"_getInnerText",value:function _getInnerText(e){var _this7=this;if(e.localName){// Custom implementation needed since IE11 doesn't respect the spec in case of hidden elements
if("none"===getComputedStyle(e).display){return""}else{return Array.from(e.childNodes).map(function(n){return _this7._getInnerText(n)}).join("")}}else{return e.textContent}}},{key:"_updateGhost",value:function _updateGhost(cell){var ghost=this._reorderGhost;ghost.textContent=this._getInnerText(cell._content);var style=window.getComputedStyle(cell);["boxSizing","display","width","height","background","alignItems","padding","border","flex-direction","overflow"].forEach(function(propertyName){return ghost.style[propertyName]=style[propertyName]});return ghost}},{key:"_updateOrders",value:function _updateOrders(columnTree,splices){var _this8=this;if(columnTree===void 0||splices===void 0){return}// Reset all column orders
columnTree[0].forEach(function(column,index){return column._order=0});// Set order numbers to top-level columns
columnTree[0].forEach(function(column,index){return column._order=(index+1)*_this8._orderBaseScope})}},{key:"_setSiblingsReorderStatus",value:function _setSiblingsReorderStatus(column,status){var _this9=this;Array.from(column.parentNode.children).filter(function(child){return /column/.test(child.localName)&&_this9._isSwapAllowed(child,column)}).forEach(function(sibling){return sibling._reorderStatus=status})}},{key:"_autoScroller",value:function _autoScroller(){if(this._lastDragClientX){var rightDiff=this._lastDragClientX-this.getBoundingClientRect().right+50,leftDiff=this.getBoundingClientRect().left-this._lastDragClientX+50;if(0<rightDiff){this.$.table.scrollLeft+=rightDiff/10}else if(0<leftDiff){this.$.table.scrollLeft-=leftDiff/10}this._scrollHandler()}if(this._draggedColumn){this.async(this._autoScroller,10)}}},{key:"_isSwapAllowed",value:function _isSwapAllowed(column1,column2){if(column1&&column2){var differentColumns=column1!==column2,sameParent=column1.parentElement===column2.parentElement,sameFrozen=column1.frozen===column2.frozen;return differentColumns&&sameParent&&sameFrozen}}},{key:"_isSwappableByPosition",value:function _isSwappableByPosition(targetColumn,clientX){var targetCell=Array.from(this.$.header.querySelectorAll("tr:not([hidden]) [part~=\"cell\"]")).filter(function(cell){return targetColumn.contains(cell._column)})[0],sourceCellRect=this.$.header.querySelector("tr:not([hidden]) [reorder-status=dragging]").getBoundingClientRect(),targetRect=targetCell.getBoundingClientRect();if(targetRect.left>sourceCellRect.left){return clientX>targetRect.right-sourceCellRect.width}else{return clientX<targetRect.left+sourceCellRect.width}}},{key:"_swapColumnOrders",value:function _swapColumnOrders(column1,column2){var _order=column1._order;column1._order=column2._order;column2._order=_order;this._updateLastFrozen();this._updateFirstAndLastColumn()}},{key:"_getTargetColumn",value:function _getTargetColumn(targetCell,draggedColumn){if(targetCell&&draggedColumn){var candidate=targetCell._column;while(candidate.parentElement!==draggedColumn.parentElement&&candidate!==this){candidate=candidate.parentElement}if(candidate.parentElement===draggedColumn.parentElement){return candidate}else{return targetCell._column}}}/**
     * Fired when the columns in the grid are reordered.
     *
     * @event column-reorder
     * @param {Object} detail
     * @param {Object} detail.columns the columns in the new order
     */}],[{key:"properties",get:function get(){return{/**
       * Set to true to allow column reordering.
       */columnReorderingAllowed:{type:Boolean,value:!1},_orderBaseScope:{type:Number,value:1e7}}}},{key:"observers",get:function get(){return["_updateOrders(_columnTree, _columnTree.*)"]}}]);return ColumnReorderingMixin}(GestureEventListeners(superClass)))},vaadinGridColumnReorderingMixin={ColumnReorderingMixin:ColumnReorderingMixin},ColumnResizingMixin=function ColumnResizingMixin(superClass){return(/*#__PURE__*/function(_GestureEventListener2){babelHelpers.inherits(ColumnResizingMixin,_GestureEventListener2);function ColumnResizingMixin(){babelHelpers.classCallCheck(this,ColumnResizingMixin);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(ColumnResizingMixin).apply(this,arguments))}babelHelpers.createClass(ColumnResizingMixin,[{key:"ready",value:function ready(){babelHelpers.get(babelHelpers.getPrototypeOf(ColumnResizingMixin.prototype),"ready",this).call(this);var scroller=this.$.scroller;addListener(scroller,"track",this._onHeaderTrack.bind(this));// Disallow scrolling while resizing
scroller.addEventListener("touchmove",function(e){return scroller.hasAttribute("column-resizing")&&e.preventDefault()});// Disable contextmenu on any resize separator.
scroller.addEventListener("contextmenu",function(e){return"resize-handle"==e.target.getAttribute("part")&&e.preventDefault()});// Disable native cell focus when resizing
scroller.addEventListener("mousedown",function(e){return"resize-handle"===e.target.getAttribute("part")&&e.preventDefault()})}},{key:"_onHeaderTrack",value:function _onHeaderTrack(e){var handle=e.target;if("resize-handle"===handle.getAttribute("part")){var cell=handle.parentElement,column=cell._column;this._toggleAttribute("column-resizing",!0,this.$.scroller);// Get the target column to resize
while("vaadin-grid-column-group"===column.localName){column=Array.prototype.slice.call(column._childColumns,0).sort(function(a,b){return a._order-b._order}).filter(function(column){return!column.hidden}).pop()}var columnRowCells=Array.from(this.$.header.querySelectorAll("[part~=\"row\"]:last-child [part~=\"cell\"]")),targetCell=columnRowCells.filter(function(cell){return cell._column===column})[0];// Resize the target column
if(targetCell.offsetWidth){var style=window.getComputedStyle(targetCell),minWidth=10+parseInt(style.paddingLeft)+parseInt(style.paddingRight)+parseInt(style.borderLeftWidth)+parseInt(style.borderRightWidth)+parseInt(style.marginLeft)+parseInt(style.marginRight);column.width=Math.max(minWidth,targetCell.offsetWidth+e.detail.x-targetCell.getBoundingClientRect().right)+"px";column.flexGrow=0}// Fix width and flex-grow for all preceding columns
columnRowCells.sort(function(a,b){return a._column._order-b._column._order}).forEach(function(cell,index,array){if(index<array.indexOf(targetCell)){cell._column.width=cell.offsetWidth+"px";cell._column.flexGrow=0}});if("end"===e.detail.state){this._toggleAttribute("column-resizing",!1,this.$.scroller);this.dispatchEvent(new CustomEvent("column-resize",{detail:{resizedColumn:column}}))}// Notify resize
this._resizeHandler()}}/**
    * Fired when a column in the grid is resized by the user.
    *
    * @event column-resize
    * @param {Object} detail
    * @param {Object} detail.resizedColumn the column that was resized
    */}]);return ColumnResizingMixin}(GestureEventListeners(superClass)))},vaadinGridColumnResizingMixin={ColumnResizingMixin:ColumnResizingMixin},GridTemplatizer=/*#__PURE__*/function(_ref){babelHelpers.inherits(GridTemplatizer,_ref);babelHelpers.createClass(GridTemplatizer,null,[{key:"is",get:function get(){return"vaadin-grid-templatizer"}},{key:"properties",get:function get(){return{dataHost:Object,template:Object,_templateInstances:{type:Array,value:function value(){return[]}},_parentPathValues:{value:function value(){return{}}},_grid:Object}}},{key:"observers",get:function get(){return["_templateInstancesChanged(_templateInstances.*, _parentPathValues.*)"]}}]);function GridTemplatizer(){var _this10;babelHelpers.classCallCheck(this,GridTemplatizer);_this10=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(GridTemplatizer).call(this));_this10._instanceProps={detailsOpened:!0,index:!0,item:!0,selected:!0,expanded:!0,level:!0};return _this10}babelHelpers.createClass(GridTemplatizer,[{key:"createInstance",value:function createInstance(){this._ensureTemplatized();var instance=new this._TemplateClass({});this.addInstance(instance);return instance}},{key:"addInstance",value:function addInstance(instance){var _this11=this;if(-1===this._templateInstances.indexOf(instance)){this._templateInstances.push(instance);requestAnimationFrame(function(){return _this11.notifyPath("_templateInstances.*",_this11._templateInstances)})}}},{key:"removeInstance",value:function removeInstance(instance){var index=this._templateInstances.indexOf(instance);this.splice("_templateInstances",index,1)}},{key:"_ensureTemplatized",value:function _ensureTemplatized(){if(!this._TemplateClass){this._TemplateClass=templatize(this.template,this,{instanceProps:this._instanceProps,parentModel:!0,forwardHostProp:function forwardHostProp(prop,value){this._forwardParentProp(prop,value);if(this._templateInstances){this._templateInstances.forEach(function(inst){return inst.notifyPath(prop,value)})}},notifyInstanceProp:function notifyInstanceProp(inst,prop,value){var _this12=this;if("index"===prop||"item"===prop){// We don’t need a change notification for these.
return}var originalProp="__".concat(prop,"__");// Notify for only user-action changes, not for scrolling updates. E. g.,
// if `detailsOpened` is different from `__detailsOpened__`, which was set during render.
if(inst[originalProp]===value){return}inst[originalProp]=value;var row=Array.from(this._grid.$.items.children).filter(function(row){return _this12._grid._itemsEqual(row._item,inst.item)})[0];if(row){Array.from(row.children).forEach(function(cell){if(cell._instance){cell._instance[originalProp]=value;cell._instance.notifyPath(prop,value)}})}var itemPrefix="item.";if(Array.isArray(this._grid.items)&&0===prop.indexOf(itemPrefix)){var itemsIndex=this._grid.items.indexOf(inst.item),path=prop.slice(itemPrefix.length);this._grid.notifyPath("items.".concat(itemsIndex,".").concat(path),value)}var gridCallback="_".concat(prop,"InstanceChangedCallback");if(this._grid&&this._grid[gridCallback]){this._grid[gridCallback](inst,value)}}})}}},{key:"_forwardParentProp",value:function _forwardParentProp(prop,value){this._parentPathValues[prop]=value;this._templateInstances.forEach(function(inst){return inst.notifyPath(prop,value)})}},{key:"_templateInstancesChanged",value:function _templateInstancesChanged(t,p){var _this13=this,index,count;if("_templateInstances"===t.path){// Iterate all instances
index=0;count=this._templateInstances.length}else if("_templateInstances.splices"===t.path){// Iterate only new instances
index=t.value.index;count=t.value.addedCount}else{return}Object.keys(this._parentPathValues||{}).forEach(function(keyName){for(var i=index;i<index+count;i++){_this13._templateInstances[i].set(keyName,_this13._parentPathValues[keyName])}})}}]);return GridTemplatizer}(/*#__PURE__*/function(_PolymerElement){babelHelpers.inherits(_class,_PolymerElement);function _class(){babelHelpers.classCallCheck(this,_class);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(_class).apply(this,arguments))}return _class}(PolymerElement));customElements.define(GridTemplatizer.is,GridTemplatizer);var vaadinGridTemplatizer={Templatizer:GridTemplatizer},ColumnBaseMixin=function ColumnBaseMixin(superClass){return(/*#__PURE__*/function(_superClass4){babelHelpers.inherits(ColumnBaseMixin,_superClass4);babelHelpers.createClass(ColumnBaseMixin,[{key:"connectedCallback",/** @protected */value:function connectedCallback(){var _this15=this;babelHelpers.get(babelHelpers.getPrototypeOf(ColumnBaseMixin.prototype),"connectedCallback",this).call(this);this._bodyTemplate&&(this._bodyTemplate.templatizer._grid=this._grid);this._headerTemplate&&(this._headerTemplate.templatizer._grid=this._grid);this._footerTemplate&&(this._footerTemplate.templatizer._grid=this._grid);this._templateObserver.flush();if(!this._bodyTemplate){// The observer might not have triggered if the tag is empty. Run manually.
this._templateObserver.callback()}requestAnimationFrame(function(){_this15._allCells.forEach(function(cell){if(!cell._content.parentNode){_this15._grid&&_this15._grid.appendChild(cell._content)}})})}/** @protected */},{key:"disconnectedCallback",value:function disconnectedCallback(){var _this16=this;babelHelpers.get(babelHelpers.getPrototypeOf(ColumnBaseMixin.prototype),"disconnectedCallback",this).call(this);requestAnimationFrame(function(){if(!_this16._findHostGrid()){_this16._allCells.forEach(function(cell){if(cell._content.parentNode){cell._content.parentNode.removeChild(cell._content)}})}});this._gridValue=void 0}},{key:"_findHostGrid",value:function _findHostGrid(){var el=this;// Custom elements extending grid must have a specific localName
while(el&&!/^vaadin.*grid(-pro)?$/.test(el.localName)){el=el.assignedSlot?el.assignedSlot.parentNode:el.parentNode}return el||void 0}},{key:"_grid",get:function get(){if(!this._gridValue){this._gridValue=this._findHostGrid()}return this._gridValue}},{key:"_allCells",get:function get(){return[].concat(this._cells||[]).concat(this._emptyCells||[]).concat(this._headerCell).concat(this._footerCell).filter(function(cell){return cell})}}],[{key:"properties",get:function get(){return{/**
       * When set to true, the column is user-resizable.
       * @default false
       */resizable:{type:Boolean,value:function value(){if("vaadin-grid-column-group"===this.localName){return}var parent=this.parentNode;if(parent&&"vaadin-grid-column-group"===parent.localName){return parent.resizable||!1}else{return!1}}},_headerTemplate:{type:Object},_footerTemplate:{type:Object},/**
       * When true, the column is frozen. When a column inside of a column group is frozen,
       * all of the sibling columns inside the group will get frozen also.
       */frozen:{type:Boolean,value:!1},/**
       * When set to true, the cells for this column are hidden.
       */hidden:{type:Boolean},/**
       * Text content to display in the header cell of the column.
       */header:{type:String},/**
       * Aligns the columns cell content horizontally.
       * Supported values: "start", "center" and "end".
       */textAlign:{type:String},_lastFrozen:{type:Boolean,value:!1},_order:Number,_reorderStatus:Boolean,_emptyCells:Array,_headerCell:Object,_footerCell:Object,_grid:Object,/**
       * Custom function for rendering the header content.
       * Receives two arguments:
       *
       * - `root` The header cell content DOM element. Append your content to it.
       * - `column` The `<vaadin-grid-column>` element.
       */headerRenderer:Function,/**
       * Custom function for rendering the footer content.
       * Receives two arguments:
       *
       * - `root` The footer cell content DOM element. Append your content to it.
       * - `column` The `<vaadin-grid-column>` element.
       */footerRenderer:Function}}},{key:"observers",get:function get(){return["_widthChanged(width, _headerCell, _footerCell, _cells.*)","_frozenChanged(frozen, _headerCell, _footerCell, _cells.*)","_flexGrowChanged(flexGrow, _headerCell, _footerCell, _cells.*)","_pathOrHeaderChanged(path, header, _headerCell, _footerCell, _cells.*, renderer, headerRenderer, _bodyTemplate, _headerTemplate)","_textAlignChanged(textAlign, _cells.*, _headerCell, _footerCell)","_orderChanged(_order, _headerCell, _footerCell, _cells.*)","_lastFrozenChanged(_lastFrozen)","_setBodyTemplateOrRenderer(_bodyTemplate, renderer, _cells, _cells.*)","_setHeaderTemplateOrRenderer(_headerTemplate, headerRenderer, _headerCell)","_setFooterTemplateOrRenderer(_footerTemplate, footerRenderer, _footerCell)","_resizableChanged(resizable, _headerCell)","_reorderStatusChanged(_reorderStatus, _headerCell, _footerCell, _cells.*)","_hiddenChanged(hidden, _headerCell, _footerCell, _cells.*)"]}}]);function ColumnBaseMixin(){var _this14;babelHelpers.classCallCheck(this,ColumnBaseMixin);_this14=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(ColumnBaseMixin).call(this));_this14._templateObserver=new FlattenedNodesObserver(babelHelpers.assertThisInitialized(_this14),function(info){_this14._headerTemplate=_this14._prepareHeaderTemplate();_this14._footerTemplate=_this14._prepareFooterTemplate();_this14._bodyTemplate=_this14._prepareBodyTemplate()});return _this14}babelHelpers.createClass(ColumnBaseMixin,[{key:"_prepareHeaderTemplate",value:function _prepareHeaderTemplate(){return this._prepareTemplatizer(this._findTemplate(!0)||null,{})}},{key:"_prepareFooterTemplate",value:function _prepareFooterTemplate(){return this._prepareTemplatizer(this._findTemplate(!1,!0)||null,{})}},{key:"_prepareBodyTemplate",value:function _prepareBodyTemplate(){return this._prepareTemplatizer(this._findTemplate()||null)}},{key:"_prepareTemplatizer",value:function _prepareTemplatizer(template,instanceProps){if(template&&!template.templatizer){var templatizer=new GridTemplatizer;templatizer._grid=this._grid;templatizer.dataHost=this.dataHost;templatizer._instanceProps=instanceProps||templatizer._instanceProps;templatizer.template=template;template.templatizer=templatizer}return template}},{key:"_renderHeaderAndFooter",value:function _renderHeaderAndFooter(){if(this.headerRenderer){this.__runRenderer(this.headerRenderer,this._headerCell)}if(this.footerRenderer){this.__runRenderer(this.footerRenderer,this._footerCell)}}},{key:"__runRenderer",value:function __runRenderer(renderer,cell,rowData){var args=[cell._content,this];if(rowData&&rowData.item){args.push(rowData)}renderer.apply(this,args)}},{key:"__setColumnTemplateOrRenderer",value:function __setColumnTemplateOrRenderer(template,renderer,cells){var _this17=this;if(template&&renderer){throw new Error("You should only use either a renderer or a template")}cells.forEach(function(cell){var model=_this17._grid.__getRowModel(cell.parentElement);if(renderer){cell._renderer=renderer;if(model.item||renderer===_this17.headerRenderer||renderer===_this17.footerRenderer){_this17.__runRenderer(renderer,cell,model)}}else if(cell._template!==template){cell._template=template;cell._content.innerHTML="";template.templatizer._grid=template.templatizer._grid||_this17._grid;var inst=template.templatizer.createInstance();cell._content.appendChild(inst.root);cell._instance=inst;if(model.item){cell._instance.setProperties(model)}}})}},{key:"_setBodyTemplateOrRenderer",value:function _setBodyTemplateOrRenderer(template,renderer,cells,splices){if((template||renderer)&&cells){this.__setColumnTemplateOrRenderer(template,renderer,cells)}}},{key:"_setHeaderTemplateOrRenderer",value:function _setHeaderTemplateOrRenderer(headerTemplate,headerRenderer,headerCell){if((headerTemplate||headerRenderer)&&headerCell){this.__setColumnTemplateOrRenderer(headerTemplate,headerRenderer,[headerCell])}}},{key:"_setFooterTemplateOrRenderer",value:function _setFooterTemplateOrRenderer(footerTemplate,footerRenderer,footerCell){if((footerTemplate||footerRenderer)&&footerCell){this.__setColumnTemplateOrRenderer(footerTemplate,footerRenderer,[footerCell]);this._grid.__updateHeaderFooterRowVisibility(footerCell.parentElement)}}},{key:"_selectFirstTemplate",value:function _selectFirstTemplate(){var header=0<arguments.length&&arguments[0]!==void 0?arguments[0]:!1,footer=1<arguments.length&&arguments[1]!==void 0?arguments[1]:!1;return FlattenedNodesObserver.getFlattenedNodes(this).filter(function(node){return"template"===node.localName&&node.classList.contains("header")===header&&node.classList.contains("footer")===footer})[0]}},{key:"_findTemplate",value:function _findTemplate(header,footer){var template=this._selectFirstTemplate(header,footer);if(template){if(this.dataHost){// set dataHost to the context where template has been defined
template._rootDataHost=this.dataHost._rootDataHost||this.dataHost}}return template}},{key:"_flexGrowChanged",value:function _flexGrowChanged(flexGrow,headerCell,footerCell,cells){if(this.parentElement&&this.parentElement._columnPropChanged){this.parentElement._columnPropChanged("flexGrow")}this._allCells.forEach(function(cell){return cell.style.flexGrow=flexGrow})}},{key:"_orderChanged",value:function _orderChanged(order,headerCell,footerCell,cells){this._allCells.forEach(function(cell){return cell.style.order=order})}},{key:"_widthChanged",value:function _widthChanged(width,headerCell,footerCell,cells){if(this.parentElement&&this.parentElement._columnPropChanged){this.parentElement._columnPropChanged("width")}this._allCells.forEach(function(cell){return cell.style.width=width});// Force a reflow to workaround browser issues causing double scrollbars to grid
// https://github.com/vaadin/vaadin-grid/issues/1586
if(this._grid&&this._grid.__forceReflow){this._grid.__forceReflow()}}},{key:"_frozenChanged",value:function _frozenChanged(frozen,headerCell,footerCell,cells){var _this18=this;if(this.parentElement&&this.parentElement._columnPropChanged){this.parentElement._columnPropChanged("frozen",frozen)}this._allCells.forEach(function(cell){return _this18._toggleAttribute("frozen",frozen,cell)});this._grid&&this._grid._frozenCellsChanged&&this._grid._frozenCellsChanged()}},{key:"_lastFrozenChanged",value:function _lastFrozenChanged(lastFrozen){var _this19=this;this._allCells.forEach(function(cell){return _this19._toggleAttribute("last-frozen",lastFrozen,cell)});if(this.parentElement&&this.parentElement._columnPropChanged){this.parentElement._lastFrozen=lastFrozen}}},{key:"_pathOrHeaderChanged",value:function _pathOrHeaderChanged(path,header,headerCell,footerCell,cells,renderer,headerRenderer,bodyTemplate,headerTemplate){var _this20=this,hasHeaderText=header!==void 0;if(!headerRenderer&&!headerTemplate&&hasHeaderText&&headerCell){this.__setTextContent(headerCell._content,header)}if(path&&cells.value){if(!renderer&&!bodyTemplate){var pathRenderer=function pathRenderer(root,owner,_ref2){var item=_ref2.item;return _this20.__setTextContent(root,_this20.get(path,item))};this.__setColumnTemplateOrRenderer(void 0,pathRenderer,cells.value)}if(!headerRenderer&&!headerTemplate&&!hasHeaderText&&headerCell&&null!==header){this.__setTextContent(headerCell._content,this._generateHeader(path))}}if(headerCell){this._grid.__updateHeaderFooterRowVisibility(headerCell.parentElement)}}},{key:"__setTextContent",value:function __setTextContent(node,textContent){node.textContent!==textContent&&(node.textContent=textContent)}},{key:"_generateHeader",value:function _generateHeader(path){return path.substr(path.lastIndexOf(".")+1).replace(/([A-Z])/g,"-$1").toLowerCase().replace(/-/g," ").replace(/^./,function(match){return match.toUpperCase()})}},{key:"_toggleAttribute",value:function _toggleAttribute(name,bool,node){if(node.hasAttribute(name)===!bool){if(bool){node.setAttribute(name,"")}else{node.removeAttribute(name)}}}},{key:"_reorderStatusChanged",value:function _reorderStatusChanged(reorderStatus,headerCell,footerCell,cells){this._allCells.forEach(function(cell){return cell.setAttribute("reorder-status",reorderStatus)})}},{key:"_resizableChanged",value:function _resizableChanged(resizable,headerCell){if(resizable===void 0||headerCell===void 0){return}if(headerCell){[headerCell].concat(this._emptyCells).forEach(function(cell){if(cell){var existingHandle=cell.querySelector("[part~=\"resize-handle\"]");if(existingHandle){cell.removeChild(existingHandle)}if(resizable){var handle=document.createElement("div");handle.setAttribute("part","resize-handle");cell.appendChild(handle)}}})}}},{key:"_textAlignChanged",value:function _textAlignChanged(textAlign,_cells,_headerCell,_footerCell){if(textAlign===void 0){return}if(-1===["start","end","center"].indexOf(textAlign)){console.warn("textAlign can only be set as \"start\", \"end\" or \"center\"");return}var textAlignFallback;if("ltr"===getComputedStyle(this._grid).direction){if("start"===textAlign){textAlignFallback="left"}else if("end"===textAlign){textAlignFallback="right"}}else{if("start"===textAlign){textAlignFallback="right"}else if("end"===textAlign){textAlignFallback="left"}}this._allCells.forEach(function(cell){cell._content.style.textAlign=textAlign;if(getComputedStyle(cell._content).textAlign!==textAlign){cell._content.style.textAlign=textAlignFallback}})}},{key:"_hiddenChanged",value:function _hiddenChanged(hidden,headerCell,footerCell,cells){var _this21=this;if(this.parentElement&&this.parentElement._columnPropChanged){this.parentElement._columnPropChanged("hidden",hidden)}this._allCells.forEach(function(cell){return _this21._toggleAttribute("hidden",hidden,cell)});if(!!hidden!==!!this._previousHidden&&this._grid){this._grid._updateLastFrozen&&this._grid._updateLastFrozen();this._grid.notifyResize&&this._grid.notifyResize();this._grid._resetKeyboardNavigation&&this._grid._resetKeyboardNavigation()}this._previousHidden=hidden}}]);return ColumnBaseMixin}(superClass))},GridColumnElement=/*#__PURE__*/function(_ColumnBaseMixin){babelHelpers.inherits(GridColumnElement,_ColumnBaseMixin);function GridColumnElement(){babelHelpers.classCallCheck(this,GridColumnElement);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(GridColumnElement).apply(this,arguments))}babelHelpers.createClass(GridColumnElement,null,[{key:"is",get:function get(){return"vaadin-grid-column"}},{key:"properties",get:function get(){return{/**
       * Width of the cells for this column.
       */width:{type:String,value:"100px"},/**
       * Flex grow ratio for the cell widths. When set to 0, cell width is fixed.
       */flexGrow:{type:Number,value:1},/**
       * Custom function for rendering the cell content.
       * Receives three arguments:
       *
       * - `root` The cell content DOM element. Append your content to it.
       * - `column` The `<vaadin-grid-column>` element.
       * - `rowData` The object with the properties related with
       *   the rendered item, contains:
       *   - `rowData.index` The index of the item.
       *   - `rowData.item` The item.
       *   - `rowData.expanded` Sublevel toggle state.
       *   - `rowData.level` Level of the tree represented with a horizontal offset of the toggle button.
       *   - `rowData.selected` Selected state.
       */renderer:Function,/**
       * Path to an item sub-property whose value gets displayed in the column body cells.
       * The property name is also shown in the column header if an explicit header or renderer isn't defined.
       */path:{type:String},/**
       * Automatically sets the width of the column based on the column contents when this is set to `true`.
       *
       * For performance reasons the column width is calculated automatically only once when the grid items
       * are rendered for the first time and the calculation only considers the rows which are currently
       * rendered in DOM (a bit more than what is currently visible). If the grid is scrolled, or the cell
       * content changes, the column width might not match the contents anymore.
       *
       * Hidden columns are ignored in the calculation and their widths are not automatically updated when
       * you show a column that was initially hidden.
       *
       * You can manually trigger the auto sizing behavior again by calling `grid.recalculateColumnWidths()`.
       *
       * The column width may still grow larger when `flexGrow` is not 0.
       */autoWidth:{type:Boolean,value:!1},_bodyTemplate:{type:Object},_cells:Array}}}]);return GridColumnElement}(ColumnBaseMixin(PolymerElement));customElements.define(GridColumnElement.is,GridColumnElement);var vaadinGridColumn={ColumnBaseMixin:ColumnBaseMixin,GridColumnElement:GridColumnElement},ItemCache=/*#__PURE__*/function(){function ItemCache(grid,parentCache,parentItem){babelHelpers.classCallCheck(this,ItemCache);this.grid=grid;this.parentCache=parentCache;this.parentItem=parentItem;this.itemCaches={};this.items={};this.effectiveSize=0;this.size=0;this.pendingRequests={}}babelHelpers.createClass(ItemCache,[{key:"isLoading",value:function isLoading(){var _this22=this;return Object.keys(this.pendingRequests).length||Object.keys(this.itemCaches).filter(function(index){return _this22.itemCaches[index].isLoading()})[0]}},{key:"getItemForIndex",value:function getItemForIndex(index){var _this$getCacheAndInde=this.getCacheAndIndex(index),cache=_this$getCacheAndInde.cache,scaledIndex=_this$getCacheAndInde.scaledIndex;return cache.items[scaledIndex]}},{key:"updateSize",value:function updateSize(){var _this23=this;this.effectiveSize=!this.parentItem||this.grid._isExpanded(this.parentItem)?this.size+Object.keys(this.itemCaches).reduce(function(prev,curr){var subCache=_this23.itemCaches[curr];subCache.updateSize();return prev+subCache.effectiveSize},0):0}},{key:"ensureSubCacheForScaledIndex",value:function ensureSubCacheForScaledIndex(scaledIndex){if(!this.itemCaches[scaledIndex]){var subCache=new ItemCache(this.grid,this,this.items[scaledIndex]);this.itemCaches[scaledIndex]=subCache;this.grid._loadPage(0,subCache)}}},{key:"getCacheAndIndex",value:function getCacheAndIndex(index){for(var thisLevelIndex=index,keys=Object.keys(this.itemCaches),i=0;i<keys.length;i++){var expandedIndex=+keys[i],subCache=this.itemCaches[expandedIndex];if(thisLevelIndex<=expandedIndex){return{cache:this,scaledIndex:thisLevelIndex}}else if(thisLevelIndex<=expandedIndex+subCache.effectiveSize){return subCache.getCacheAndIndex(thisLevelIndex-expandedIndex-1)}thisLevelIndex-=subCache.effectiveSize}return{cache:this,scaledIndex:thisLevelIndex}}}]);return ItemCache}(),DataProviderMixin=function DataProviderMixin(superClass){return(/*#__PURE__*/function(_superClass5){babelHelpers.inherits(DataProviderMixin,_superClass5);function DataProviderMixin(){babelHelpers.classCallCheck(this,DataProviderMixin);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(DataProviderMixin).apply(this,arguments))}babelHelpers.createClass(DataProviderMixin,[{key:"_sizeChanged",value:function _sizeChanged(size){var delta=size-this._cache.size;this._cache.size+=delta;this._cache.effectiveSize+=delta;this._effectiveSize=this._cache.effectiveSize}},{key:"_updateRowItem",value:function _updateRowItem(item,el){el.children.forEach(function(cell){cell._instance&&(cell._instance.item=item)})}},{key:"_getItem",value:function _getItem(index,el){if(index>=this._effectiveSize){return}el.index=index;var _this$_cache$getCache=this._cache.getCacheAndIndex(index),cache=_this$_cache$getCache.cache,scaledIndex=_this$_cache$getCache.scaledIndex,item=cache.items[scaledIndex];if(item){this._toggleAttribute("loading",!1,el);this._updateItem(el,item);if(this._isExpanded(item)){cache.ensureSubCacheForScaledIndex(scaledIndex)}}else{this._toggleAttribute("loading",!0,el);this._loadPage(this._getPageForIndex(scaledIndex),cache)}}},{key:"_pagesForPhysicalItems",value:function _pagesForPhysicalItems(){var _this24=this,firstVisiblePage=this._getPageForIndex(this._firstVisibleIndex+this._vidxOffset);return[firstVisiblePage].concat(this._physicalItems.filter(function(row){return row.index}).items(function(row){return _this24._getPageForIndex(row.index)})).reduce(function(prev,curr){if(-1===prev.indexOf(curr)){prev.push(curr)}return prev},[])}},{key:"_expandedInstanceChangedCallback",value:function _expandedInstanceChangedCallback(inst,value){if(inst.item===void 0){return}if(value){this.expandItem(inst.item)}else{this.collapseItem(inst.item)}}/**
     * Returns a value that identifies the item. Uses `itemIdPath` if available.
     * Can be customized by overriding.
     */},{key:"getItemId",value:function getItemId(item){return this.itemIdPath?this.get(this.itemIdPath,item):item}},{key:"_isExpanded",value:function _isExpanded(item){return this.expandedItems&&-1<this._getItemIndexInArray(item,this.expandedItems)}},{key:"_expandedItemsChanged",value:function _expandedItemsChanged(e){this._cache.updateSize();this._effectiveSize=this._cache.effectiveSize;this._assignModels()}/**
     * Expands the given item tree.
     */},{key:"expandItem",value:function expandItem(item){if(!this._isExpanded(item)){this.push("expandedItems",item)}}/**
     * Collapses the given item tree.
     */},{key:"collapseItem",value:function collapseItem(item){if(this._isExpanded(item)){this.splice("expandedItems",this._getItemIndexInArray(item,this.expandedItems),1)}}},{key:"_getIndexLevel",value:function _getIndexLevel(index){var _this$_cache$getCache2=this._cache.getCacheAndIndex(index),cache=_this$_cache$getCache2.cache,level=0;while(cache.parentCache){cache=cache.parentCache;level++}return level}},{key:"_canPopulate",value:function _canPopulate(){return this._hasData&&this._columnTree}},{key:"_loadPage",value:function _loadPage(page,cache){var _this25=this;// make sure same page isn't requested multiple times.
if(!cache.pendingRequests[page]&&this.dataProvider){this._setLoading(!0);cache.pendingRequests[page]=!0;var params={page:page,pageSize:this.pageSize,sortOrders:this._mapSorters(),filters:this._mapFilters(),parentItem:cache.parentItem};this.dataProvider(params,function(items,size){if(size!==void 0){cache.size=size}else{if(params.parentItem){cache.size=items.length}}// Populate the cache with new items
items.forEach(function(item,itemsIndex){var itemIndex=page*_this25.pageSize+itemsIndex;cache.items[itemIndex]=item;if(_this25._isExpanded(item)){// Force synchronous data request for expanded item sub-cache
cache.ensureSubCacheForScaledIndex(itemIndex)}});_this25._hasData=!0;delete cache.pendingRequests[page];if(!_this25._cache.isLoading()){// All active requests have finished, update the effective size and rows
_this25._setLoading(!1);_this25._cache.updateSize();_this25._effectiveSize=_this25._cache.effectiveSize;Array.from(_this25.$.items.children).filter(function(row){return!row.hidden}).forEach(function(row){var cachedItem=_this25._cache.getItemForIndex(row.index);if(cachedItem){_this25._toggleAttribute("loading",!1,row);_this25._updateItem(row,cachedItem)}});_this25._increasePoolIfNeeded(0)}_this25.__setInitialColumnWidths()})}}},{key:"_getPageForIndex",value:function _getPageForIndex(index){return Math.floor(index/this.pageSize)}/**
     * Clears the cached pages and reloads data from dataprovider when needed.
     */},{key:"clearCache",value:function clearCache(){this._cache=new ItemCache(this);Array.from(this.$.items.children).forEach(function(row){Array.from(row.children).forEach(function(cell){// Force data system to pick up subproperty changes
cell._instance&&cell._instance._setPendingProperty("item",{},!1)})});this._cache.size=this.size||0;this._cache.updateSize();this._hasData=!1;this._assignModels();if(!this._effectiveSize){this._loadPage(0,this._cache)}}},{key:"_flushItemsDebouncer",value:function _flushItemsDebouncer(){if(this._debouncerLoad){this._debouncerLoad.flush()}}},{key:"_pageSizeChanged",value:function _pageSizeChanged(pageSize,oldPageSize){if(oldPageSize!==void 0&&pageSize!==oldPageSize){this.clearCache()}}},{key:"_checkSize",value:function _checkSize(){if(this.size===void 0&&0===this._effectiveSize){console.warn("The <vaadin-grid> needs the total number of items"+" in order to display rows. Set the total number of items"+" to the `size` property, or provide the total number of items"+" in the second argument of the `dataProvider`\u2019s `callback` call.")}}},{key:"_dataProviderChanged",value:function _dataProviderChanged(dataProvider,oldDataProvider){if(oldDataProvider!==void 0){this.clearCache()}if(dataProvider&&this.items&&this.items.length){// Fixes possibly invalid cached lastVisibleIndex value in <iron-list>
this._scrollToIndex(this._firstVisibleIndex)}this._ensureFirstPageLoaded();this._debouncerCheckSize=Debouncer.debounce(this._debouncerCheckSize,timeOut.after(2e3),this._checkSize.bind(this));this._scrollHandler()}},{key:"_ensureFirstPageLoaded",value:function _ensureFirstPageLoaded(){var _this26=this;if(!this._hasData){// load data before adding rows to make sure they have content when
// rendered for the first time.
this._loadPage(0,this._cache,function(){var hadData=_this26._hasData;_this26._hasData=!0;if(!hadData){_this26.notifyResize()}})}}},{key:"_itemsEqual",value:function _itemsEqual(item1,item2){return this.getItemId(item1)===this.getItemId(item2)}},{key:"_getItemIndexInArray",value:function _getItemIndexInArray(item,array){var _this27=this,result=-1;array.forEach(function(i,idx){if(_this27._itemsEqual(i,item)){result=idx}});return result}}],[{key:"properties",get:function get(){return{/**
       * Number of items fetched at a time from the dataprovider.
       */pageSize:{type:Number,value:50,observer:"_pageSizeChanged"},/**
       * Function that provides items lazily. Receives arguments `params`, `callback`
       *
       * `params.page` Requested page index
       *
       * `params.pageSize` Current page size
       *
       * `params.filters` Currently applied filters
       *
       * `params.sortOrders` Currently applied sorting orders
       *
       * `params.parentItem` When tree is used, and sublevel items
       * are requested, reference to parent item of the requested sublevel.
       * Otherwise `undefined`.
       *
       * `callback(items, size)` Callback function with arguments:
       *   - `items` Current page of items
       *   - `size` Total number of items. When tree sublevel items
       *     are requested, total number of items in the requested sublevel.
       *     Optional when tree is not used, required for tree.
       */dataProvider:{type:Object,notify:!0,observer:"_dataProviderChanged"},/**
       * `true` while data is being requested from the data provider.
       */loading:{type:Boolean,notify:!0,readOnly:!0,reflectToAttribute:!0},_cache:{type:Object,value:function value(){var cache=new ItemCache(this);return cache}},/**
       * Path to an item sub-property that identifies the item.
       */itemIdPath:{type:String,value:null},/**
       * An array that contains the expanded items.
       */expandedItems:{type:Object,notify:!0,value:function value(){return[]}}}}},{key:"observers",get:function get(){return["_sizeChanged(size)","_expandedItemsChanged(expandedItems.*)"]}}]);return DataProviderMixin}(superClass))},vaadinGridDataProviderMixin={ItemCache:ItemCache,DataProviderMixin:DataProviderMixin},DropMode={BETWEEN:"between",ON_TOP:"on-top",ON_TOP_OR_BETWEEN:"on-top-or-between",ON_GRID:"on-grid"},DropLocation={ON_TOP:"on-top",ABOVE:"above",BELOW:"below",EMPTY:"empty"},DragAndDropMixin=function DragAndDropMixin(superClass){return(/*#__PURE__*/function(_superClass6){babelHelpers.inherits(DragAndDropMixin,_superClass6);function DragAndDropMixin(){babelHelpers.classCallCheck(this,DragAndDropMixin);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(DragAndDropMixin).apply(this,arguments))}babelHelpers.createClass(DragAndDropMixin,[{key:"ready",value:function ready(){var _this28=this;babelHelpers.get(babelHelpers.getPrototypeOf(DragAndDropMixin.prototype),"ready",this).call(this);this.$.table.addEventListener("dragstart",this._onDragStart.bind(this));this.$.table.addEventListener("dragend",this._onDragEnd.bind(this));this.$.table.addEventListener("dragover",this._onDragOver.bind(this));this.$.table.addEventListener("dragleave",this._onDragLeave.bind(this));this.$.table.addEventListener("drop",this._onDrop.bind(this));this.$.table.addEventListener("dragenter",function(e){if(_this28.dropMode){e.preventDefault();e.stopPropagation()}})}},{key:"_onDragStart",value:function _onDragStart(e){var _this29=this;if(this.rowsDraggable){var row=e.target;if("vaadin-grid-cell-content"===row.localName){// The draggable node is the cell content element on browsers that support native shadow
row=row.assignedSlot.parentNode.parentNode}if(row.parentNode!==this.$.items){return}e.stopPropagation();this._toggleAttribute("dragging-rows",!0,this);if(this._safari){// Safari doesn't get proper drag images from transformed
// elements so we need to switch to top temporarily
var transform=row.style.transform;row.style.top=/translateY\((.*)\)/.exec(transform)[1];row.style.transform="none";requestAnimationFrame(function(){row.style.top="";row.style.transform=transform})}var rowRect=row.getBoundingClientRect();if(!window.ShadyDOM){if(this._ios){e.dataTransfer.setDragImage(row)}else{e.dataTransfer.setDragImage(row,e.clientX-rowRect.left,e.clientY-rowRect.top)}}var rows=[row];if(this._isSelected(row._item)){rows=this.__getViewportRows().filter(function(row){return _this29._isSelected(row._item)}).filter(function(row){return!_this29.dragFilter||_this29.dragFilter(_this29.__getRowModel(row))})}// Set the default transfer data
e.dataTransfer.setData("text",this.__formatDefaultTransferData(rows));row.setAttribute("dragstart",1<rows.length?rows.length:"");this.updateStyles({"--_grid-drag-start-x":"".concat(e.clientX-rowRect.left+20,"px"),"--_grid-drag-start-y":"".concat(e.clientY-rowRect.top+10,"px")});requestAnimationFrame(function(){row.removeAttribute("dragstart");_this29.updateStyles({"--_grid-drag-start-x":"","--_grid-drag-start-y":""})});var event=new CustomEvent("grid-dragstart",{detail:{draggedItems:rows.map(function(row){return row._item}),setDragData:function setDragData(type,data){return e.dataTransfer.setData(type,data)},setDraggedItemsCount:function setDraggedItemsCount(count){return row.setAttribute("dragstart",count)}}});event.originalEvent=e;this.dispatchEvent(event)}}},{key:"_onDragEnd",value:function _onDragEnd(e){this._toggleAttribute("dragging-rows",!1,this);e.stopPropagation();var event=new CustomEvent("grid-dragend");event.originalEvent=e;this.dispatchEvent(event)}},{key:"_onDragLeave",value:function _onDragLeave(e){e.stopPropagation();this._clearDragStyles()}},{key:"_onDragOver",value:function _onDragOver(e){if(this.dropMode){this._dropLocation=void 0;this._dragOverItem=void 0;if(this.__dndAutoScroll(e.clientY)){this._clearDragStyles();return}var row=e.composedPath().filter(function(node){return"tr"===node.localName})[0];if(!this._effectiveSize||this.dropMode===DropMode.ON_GRID){// The grid is empty or "on-grid" drop mode was used, always default to "empty"
this._dropLocation=DropLocation.EMPTY}else if(!row||row.parentNode!==this.$.items){// The dragover didn't occur on a body row but the grid has items
if(row){// The dragover occurred over a header/footer row
return}else if(this.dropMode===DropMode.BETWEEN||this.dropMode===DropMode.ON_TOP_OR_BETWEEN){// The drop mode allows setting the last row as the drag over item
row=Array.from(this.$.items.children).filter(function(row){return!row.hidden}).pop();this._dropLocation=DropLocation.BELOW}else{// Drop mode on-top used but the dragover didn't occur over one of the existing rows
return}}else{// The dragover occurred on a body row, determine the drop location from coordinates
var rowRect=row.getBoundingClientRect();this._dropLocation=DropLocation.ON_TOP;if(this.dropMode===DropMode.BETWEEN){var dropAbove=e.clientY-rowRect.top<rowRect.bottom-e.clientY;this._dropLocation=dropAbove?DropLocation.ABOVE:DropLocation.BELOW}else if(this.dropMode===DropMode.ON_TOP_OR_BETWEEN){if(e.clientY-rowRect.top<rowRect.height/3){this._dropLocation=DropLocation.ABOVE}else if(e.clientY-rowRect.top>2*(rowRect.height/3)){this._dropLocation=DropLocation.BELOW}}}if(row&&row.hasAttribute("drop-disabled")){this._dropLocation=void 0;return}e.stopPropagation();e.preventDefault();if(this._dropLocation===DropLocation.EMPTY){this._toggleAttribute("dragover",!0,this)}else if(row){this._dragOverItem=row._item;if(row.getAttribute("dragover")!==this._dropLocation){row.setAttribute("dragover",this._dropLocation)}}else{this._clearDragStyles()}}}},{key:"__dndAutoScroll",value:function __dndAutoScroll(clientY){var _this30=this;if(this.__dndAutoScrolling){return!0}var headerBottom=this.$.header.getBoundingClientRect().bottom,footerTop=this.$.footer.getBoundingClientRect().top,topDiff=headerBottom-clientY+this.__dndAutoScrollThreshold,bottomDiff=clientY-footerTop+this.__dndAutoScrollThreshold,scrollTopDelta=0;if(0<bottomDiff){scrollTopDelta=2*bottomDiff}else if(0<topDiff){scrollTopDelta=2*-topDiff}if(scrollTopDelta){var scrollTop=this.$.table.scrollTop;this.$.table.scrollTop+=scrollTopDelta;var scrollTopChanged=scrollTop!==this.$.table.scrollTop;if(scrollTopChanged){this.__dndAutoScrolling=!0;// Disallow more auto-scrolls within 20ms
setTimeout(function(){return _this30.__dndAutoScrolling=!1},20);this._scrollHandler();return!0}}}},{key:"__getViewportRows",value:function __getViewportRows(){var headerBottom=this.$.header.getBoundingClientRect().bottom,footerTop=this.$.footer.getBoundingClientRect().top;return Array.from(this.$.items.children).filter(function(row){var rowRect=row.getBoundingClientRect();return rowRect.bottom>headerBottom&&rowRect.top<footerTop})}},{key:"_clearDragStyles",value:function _clearDragStyles(){this.removeAttribute("dragover");Array.from(this.$.items.children).forEach(function(row){return row.removeAttribute("dragover")})}},{key:"_onDrop",value:function _onDrop(e){if(this.dropMode){e.stopPropagation();e.preventDefault();var dragData=e.dataTransfer.types&&Array.from(e.dataTransfer.types).map(function(type){return{type:type,data:e.dataTransfer.getData(type)}});this._clearDragStyles();var event=new CustomEvent("grid-drop",{bubbles:e.bubbles,cancelable:e.cancelable,detail:{dropTargetItem:this._dragOverItem,dropLocation:this._dropLocation,dragData:dragData}});event.originalEvent=e;this.dispatchEvent(event)}}},{key:"__formatDefaultTransferData",value:function __formatDefaultTransferData(rows){return rows.map(function(row){return Array.from(row.children).filter(function(cell){return!cell.hidden&&-1===cell.getAttribute("part").indexOf("details-cell")}).sort(function(a,b){return a._column._order>b._column._order?1:-1}).map(function(cell){return cell._content.textContent.trim()}).filter(function(content){return content}).join("\t")}).join("\n")}},{key:"_dragDropAccessChanged",value:function _dragDropAccessChanged(rowsDraggable,dropMode,dragFilter,dropFilter){this.filterDragAndDrop()}/**
     * Runs the `dragFilter` and `dropFilter` hooks for the visible cells.
     * If the filter depends on varying conditions, you may need to
     * call this function manually in order to update the draggability when
     * the conditions change.
     */},{key:"filterDragAndDrop",value:function filterDragAndDrop(){var _this31=this;Array.from(this.$.items.children).filter(function(row){return!row.hidden}).forEach(function(row){_this31._filterDragAndDrop(row,_this31.__getRowModel(row))})}},{key:"_filterDragAndDrop",value:function _filterDragAndDrop(row,rowData){var dragDisabled=!this.rowsDraggable||this.dragFilter&&!this.dragFilter(rowData),dropDisabled=!this.dropMode||this.dropFilter&&!this.dropFilter(rowData),draggableElements=window.ShadyDOM?[row]:Array.from(row.children).map(function(cell){return cell._content});draggableElements.forEach(function(e){if(dragDisabled){e.removeAttribute("draggable")}else{e.setAttribute("draggable",!0)}});this._toggleAttribute("drag-disabled",dragDisabled,row);this._toggleAttribute("drop-disabled",dropDisabled,row)}/**
     * Fired when starting to drag grid rows.
     *
     * @event grid-dragstart
     * @param {Object} originalEvent The native dragstart event
     * @param {Object} detail
     * @param {Object} detail.draggedItems the items in the visible viewport that are dragged
     * @param {Function} detail.setDraggedItemsCount Overrides the default number shown in the drag image on multi row drag.
     * Parameter is of type number.
     * @param {Function} detail.setDragData Sets dataTransfer data for the drag operation.
     * Note that "text" is the only data type supported by all the browsers the grid currently supports (including IE11).
     * The function takes two parameters:
     * - type:string The type of the data
     * - data:string The data
     */ /**
         * Fired when the dragging of the rows ends.
         *
         * @event grid-dragend
         * @param {Object} originalEvent The native dragend event
         */ /**
             * Fired when a drop occurs on top of the grid.
             *
             * @event grid-drop
             * @param {Object} originalEvent The native drop event
             * @param {Object} detail
             * @param {Object} detail.dropTargetItem The item of the grid row on which the drop occurred.
             * @param {string} detail.dropLocation The position at which the drop event took place relative to a row.
             * Depending on the dropMode value, the drop location can be one of the following
             * - `on-top`: when the drop occurred on top of the row
             * - `above`: when the drop occurred above the row
             * - `below`: when the drop occurred below the row
             * - `empty`: when the drop occurred over the grid, not relative to any specific row
             * @param {string} detail.dragData An array of items with the payload as a string representation as the
             * `data` property and the type of the data as `type` property.
             */}],[{key:"properties",get:function get(){return{/**
       * Defines the locations within the Grid row where an element can be dropped.
       *
       * Possible values are:
       * - `between`: The drop event can happen between Grid rows.
       * - `on-top`: The drop event can happen on top of Grid rows.
       * - `on-top-or-between`: The drop event can happen either on top of or between Grid rows.
       * - `on-grid`: The drop event will not happen on any specific row, it will show the drop target outline around the whole grid.
       */dropMode:String,/**
       * Marks the grid's rows to be available for dragging.
       */rowsDraggable:Boolean,/**
       * A function that filters dragging of specific grid rows. The return value should be false
       * if dragging of the row should be disabled.
       *
       * Receives one argument:
       * - `rowData` The object with the properties related with
       *   the rendered item, contains:
       *   - `rowData.index` The index of the item.
       *   - `rowData.item` The item.
       *   - `rowData.expanded` Sublevel toggle state.
       *   - `rowData.level` Level of the tree represented with a horizontal offset of the toggle button.
       *   - `rowData.selected` Selected state.
       */dragFilter:Function,/**
       * A function that filters dropping on specific grid rows. The return value should be false
       * if dropping on the row should be disabled.
       *
       * Receives one argument:
       * - `rowData` The object with the properties related with
       *   the rendered item, contains:
       *   - `rowData.index` The index of the item.
       *   - `rowData.item` The item.
       *   - `rowData.expanded` Sublevel toggle state.
       *   - `rowData.level` Level of the tree represented with a horizontal offset of the toggle button.
       *   - `rowData.selected` Selected state.
       */dropFilter:Function,__dndAutoScrollThreshold:{value:50}}}},{key:"observers",get:function get(){return["_dragDropAccessChanged(rowsDraggable, dropMode, dragFilter, dropFilter)"]}}]);return DragAndDropMixin}(superClass))},vaadinGridDragAndDropMixin={DragAndDropMixin:DragAndDropMixin},DynamicColumnsMixin=function DynamicColumnsMixin(superClass){return(/*#__PURE__*/function(_superClass7){babelHelpers.inherits(DynamicColumnsMixin,_superClass7);function DynamicColumnsMixin(){babelHelpers.classCallCheck(this,DynamicColumnsMixin);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(DynamicColumnsMixin).apply(this,arguments))}babelHelpers.createClass(DynamicColumnsMixin,[{key:"ready",value:function ready(){babelHelpers.get(babelHelpers.getPrototypeOf(DynamicColumnsMixin.prototype),"ready",this).call(this);this._addNodeObserver()}},{key:"_hasColumnGroups",value:function _hasColumnGroups(columns){for(var i=0;i<columns.length;i++){if("vaadin-grid-column-group"===columns[i].localName){return!0}}return!1}},{key:"_getChildColumns",value:function _getChildColumns(el){return FlattenedNodesObserver.getFlattenedNodes(el).filter(this._isColumnElement)}},{key:"_flattenColumnGroups",value:function _flattenColumnGroups(columns){var _this32=this;return columns.map(function(col){if("vaadin-grid-column-group"===col.localName){return _this32._getChildColumns(col)}else{return[col]}}).reduce(function(prev,curr){return prev.concat(curr)},[])}},{key:"_getColumnTree",value:function _getColumnTree(){for(var rootColumns=FlattenedNodesObserver.getFlattenedNodes(this).filter(this._isColumnElement),_columnTree=[],c=rootColumns;;){_columnTree.push(c);if(!this._hasColumnGroups(c)){break}c=this._flattenColumnGroups(c)}return _columnTree}},{key:"_updateColumnTree",value:function _updateColumnTree(){var columnTree=this._getColumnTree();if(!this._arrayEquals(columnTree,this._columnTree)){this._columnTree=columnTree}}},{key:"_addNodeObserver",value:function _addNodeObserver(){var _this33=this;this._observer=new FlattenedNodesObserver(this,function(info){var rowDetailsTemplate=info.addedNodes.filter(function(n){return"template"===n.localName&&n.classList.contains("row-details")})[0];if(rowDetailsTemplate&&_this33._rowDetailsTemplate!==rowDetailsTemplate){_this33._rowDetailsTemplate=rowDetailsTemplate}if(0<info.addedNodes.filter(_this33._isColumnElement).length||0<info.removedNodes.filter(_this33._isColumnElement).length){_this33._updateColumnTree()}_this33._debouncerCheckImports=Debouncer.debounce(_this33._debouncerCheckImports,timeOut.after(2e3),_this33._checkImports.bind(_this33));_this33._ensureFirstPageLoaded()})}},{key:"_arrayEquals",value:function _arrayEquals(arr1,arr2){if(!arr1||!arr2||arr1.length!=arr2.length){return!1}for(var i=0,l=arr1.length;i<l;i++){// Check if we have nested arrays
if(babelHelpers.instanceof(arr1[i],Array)&&babelHelpers.instanceof(arr2[i],Array)){// recurse into the nested arrays
if(!this._arrayEquals(arr1[i],arr2[i])){return!1}}else if(arr1[i]!=arr2[i]){return!1}}return!0}},{key:"_checkImports",value:function _checkImports(){var _this34=this;["vaadin-grid-column-group","vaadin-grid-filter","vaadin-grid-filter-column","vaadin-grid-tree-toggle","vaadin-grid-selection-column","vaadin-grid-sort-column","vaadin-grid-sorter"].forEach(function(elementName){var element=_this34.querySelector(elementName);if(element&&!babelHelpers.instanceof(element,PolymerElement)){console.warn("Make sure you have imported the required module for <".concat(elementName,"> element."))}})}},{key:"_updateFirstAndLastColumn",value:function _updateFirstAndLastColumn(){var _this35=this;Array.from(this.shadowRoot.querySelectorAll("tr")).forEach(function(row){return _this35._updateFirstAndLastColumnForRow(row)})}},{key:"_updateFirstAndLastColumnForRow",value:function _updateFirstAndLastColumnForRow(row){var _this36=this;Array.from(row.querySelectorAll("[part~=\"cell\"]:not([part~=\"details-cell\"])")).sort(function(a,b){return a._column._order-b._column._order}).forEach(function(cell,cellIndex,children){_this36._toggleAttribute("first-column",0===cellIndex,cell);_this36._toggleAttribute("last-column",cellIndex===children.length-1,cell)})}},{key:"_isColumnElement",value:function _isColumnElement(node){return node.nodeType===Node.ELEMENT_NODE&&/\bcolumn\b/.test(node.localName)}}]);return DynamicColumnsMixin}(superClass))},vaadinGridDynamicColumnsMixin={DynamicColumnsMixin:DynamicColumnsMixin},EventContextMixin=function EventContextMixin(superClass){return(/*#__PURE__*/function(_superClass8){babelHelpers.inherits(EventContextMixin,_superClass8);function EventContextMixin(){babelHelpers.classCallCheck(this,EventContextMixin);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(EventContextMixin).apply(this,arguments))}babelHelpers.createClass(EventContextMixin,[{key:"getEventContext",/**
   * Returns an object with context information about the event target:
   * - `item`: the data object corresponding to the targeted row (not specified when targeting header or footer)
   * - `column`: the column element corresponding to the targeted cell (not specified when targeting row details)
   * - `section`: whether the event targeted the body, header, footer or details of the grid
   *
   * These additional properties are included when `item` is specified:
   * - `index`: the index of the item
   * - `selected`: the selected state of the item
   * - `detailsOpened`: whether the row details are open for the item
   * - `expanded`: the expanded state of the tree toggle
   * - `level`: the tree hierarchy level
   *
   * The returned object is populated only when a grid cell, header, footer or row details is found in `event.composedPath()`.
   * This means mostly mouse and keyboard events. If such a grid part is not found in the path, an empty object is returned.
   * This may be the case eg. if the event is fired on the `<vaadin-grid>` element and not any deeper in the DOM, or if
   * the event targets the empty part of the grid body.
   */value:function getEventContext(event){var context={},path=event.composedPath(),cell=path[path.indexOf(this.$.table)-3];if(!cell){return context}context.section=["body","header","footer","details"].filter(function(section){return-1<cell.getAttribute("part").indexOf(section)})[0];if(cell._column){context.column=cell._column}if("body"===context.section||"details"===context.section){Object.assign(context,this.__getRowModel(cell.parentElement))}return context}}]);return EventContextMixin}(superClass))},vaadinGridEventContextMixin={EventContextMixin:EventContextMixin},FilterMixin=function FilterMixin(superClass){return(/*#__PURE__*/function(_superClass9){babelHelpers.inherits(FilterMixin,_superClass9);function FilterMixin(){babelHelpers.classCallCheck(this,FilterMixin);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(FilterMixin).apply(this,arguments))}babelHelpers.createClass(FilterMixin,[{key:"ready",value:function ready(){babelHelpers.get(babelHelpers.getPrototypeOf(FilterMixin.prototype),"ready",this).call(this);this.addEventListener("filter-changed",this._filterChanged.bind(this))}},{key:"_filterChanged",value:function _filterChanged(e){if(-1===this._filters.indexOf(e.target)){this._filters.push(e.target)}e.stopPropagation();if(this.dataProvider){this.clearCache()}}},{key:"_mapFilters",value:function _mapFilters(){return this._filters.map(function(filter){return{path:filter.path,value:filter.value}})}}],[{key:"properties",get:function get(){return{_filters:{type:Array,value:function value(){return[]}}}}}]);return FilterMixin}(superClass))},vaadinGridFilterMixin={FilterMixin:FilterMixin},KeyboardNavigationMixin=function KeyboardNavigationMixin(superClass){return(/*#__PURE__*/function(_superClass10){babelHelpers.inherits(KeyboardNavigationMixin,_superClass10);function KeyboardNavigationMixin(){babelHelpers.classCallCheck(this,KeyboardNavigationMixin);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(KeyboardNavigationMixin).apply(this,arguments))}babelHelpers.createClass(KeyboardNavigationMixin,[{key:"ready",value:function ready(){var _this37=this;babelHelpers.get(babelHelpers.getPrototypeOf(KeyboardNavigationMixin.prototype),"ready",this).call(this);if(this._ios||this._android){// Disable keyboard navigation on mobile devices
return}this.addEventListener("keydown",this._onKeyDown);this.addEventListener("focusin",this._onFocusIn);this.addEventListener("focusout",this._onFocusOut);// When focus goes from cell to another cell, focusin/focusout events do
// not escape the grid’s shadowRoot, thus listening inside the shadowRoot.
this.$.table.addEventListener("focusin",this._onCellFocusIn.bind(this));this.$.table.addEventListener("focusout",this._onCellFocusOut.bind(this));this.addEventListener("mousedown",function(){_this37._toggleAttribute("navigating",!1,_this37);_this37._isMousedown=!0});this.addEventListener("mouseup",function(){return _this37._isMousedown=!1})}},{key:"_focusableChanged",value:function _focusableChanged(focusable,oldFocusable){if(oldFocusable){oldFocusable.setAttribute("tabindex","-1")}if(focusable){focusable.setAttribute("tabindex","0")}}},{key:"_onKeyDown",value:function _onKeyDown(e){// Ensure standard key value, unified across browsers
var key=e.key;if("Up"===key||"Down"===key||"Left"===key||"Right"===key){// MSIE & Edge
key="Arrow"+key}if("Esc"===key){// MSIE & Edge
key="Escape"}if("Spacebar"===key){// MSIE
key=" "}var keyGroup;switch(key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"PageUp":case"PageDown":case"Home":case"End":keyGroup="Navigation";break;case"Enter":case"Escape":case"F2":keyGroup="Interaction";break;case"Tab":keyGroup="Tab";break;case" ":keyGroup="Space";break;}this._detectInteracting(e);if(this.hasAttribute("interacting")&&"Interaction"!==keyGroup){// When in the interacting mode, only the “Interaction” keys are handled.
keyGroup=void 0}if(keyGroup){this["_on".concat(keyGroup,"KeyDown")](e,key)}}},{key:"_ensureScrolledToIndex",value:function _ensureScrolledToIndex(index){var targetRowInDom=Array.from(this.$.items.children).filter(function(child){return child.index===index})[0];if(!targetRowInDom){this._scrollToIndex(index)}}},{key:"_onNavigationKeyDown",value:function _onNavigationKeyDown(e,key){var _this38=this;e.preventDefault();function indexOfChildElement(el){return Array.prototype.indexOf.call(el.parentNode.children,el)}var visibleItemsCount=this._lastVisibleIndex-this._firstVisibleIndex-1,dx=0,dy=0;switch(key){case"ArrowRight":dx=1;break;case"ArrowLeft":dx=-1;break;case"Home":dx=-Infinity;e.ctrlKey&&(dy=-Infinity);break;case"End":dx=1/0;e.ctrlKey&&(dy=1/0);break;case"ArrowDown":dy=1;break;case"ArrowUp":dy=-1;break;case"PageDown":dy=visibleItemsCount;break;case"PageUp":dy=-visibleItemsCount;break;}var activeCell=e.composedPath()[0],columnIndex=indexOfChildElement(activeCell),isRowDetails=this._elementMatches(activeCell,"[part~=\"details-cell\"]"),activeRow=activeCell.parentNode,activeRowGroup=activeRow.parentNode,maxRowIndex=(activeRowGroup===this.$.items?this._effectiveSize:activeRowGroup.children.length)-1,rowIndex=activeRowGroup===this.$.items?this._focusedItemIndex!==void 0?this._focusedItemIndex:activeRow.index:indexOfChildElement(activeRow),dstRowIndex=Math.max(0,Math.min(rowIndex+dy,maxRowIndex)),dstIsRowDetails=!1;if(activeRowGroup===this.$.items){var item=activeRow._item,dstItem=this._cache.getItemForIndex(dstRowIndex);// Should we navigate to row details?
if(isRowDetails){dstIsRowDetails=0===dy}else{dstIsRowDetails=1===dy&&this._isDetailsOpened(item)||-1===dy&&dstRowIndex!==rowIndex&&this._isDetailsOpened(dstItem)}// Should we navigate between details and regular cells of the same row?
if(dstIsRowDetails!==isRowDetails&&(1===dy&&dstIsRowDetails||-1===dy&&!dstIsRowDetails)){dstRowIndex=rowIndex}}// Header and footer could have hidden rows, e. g., if none of the columns
// or groups on the given column tree level define template. Skip them
// in vertical keyboard navigation.
if(activeRowGroup!==this.$.items){if(dstRowIndex>rowIndex){while(dstRowIndex<maxRowIndex&&activeRowGroup.children[dstRowIndex].hidden){dstRowIndex++}}else if(dstRowIndex<rowIndex){while(0<dstRowIndex&&activeRowGroup.children[dstRowIndex].hidden){dstRowIndex--}}}// _focusedColumnOrder is memoized — this is to ensure predictable
// navigation when entering and leaving detail and column group cells.
if(this._focusedColumnOrder===void 0){if(isRowDetails){this._focusedColumnOrder=0}else{this._focusedColumnOrder=this._getColumns(activeRowGroup,rowIndex)[columnIndex]._order}}// Find orderedColumnIndex — the index of order closest matching the
// original _focusedColumnOrder in the sorted array of orders
// of the visible columns on the destination row.
var dstColumns=this._getColumns(activeRowGroup,dstRowIndex),dstSortedColumnOrders=dstColumns.filter(function(c){return!c.hidden}).map(function(c){return c._order}).sort(function(b,a){return b-a}),maxOrderedColumnIndex=dstSortedColumnOrders.length-1,orderedColumnIndex=dstSortedColumnOrders.indexOf(dstSortedColumnOrders.slice(0).sort(function(b,a){return Math.abs(b-_this38._focusedColumnOrder)-Math.abs(a-_this38._focusedColumnOrder)})[0]),dstOrderedColumnIndex=0===dy&&isRowDetails?orderedColumnIndex:Math.max(0,Math.min(orderedColumnIndex+dx,maxOrderedColumnIndex));if(dstOrderedColumnIndex!==orderedColumnIndex){// Horizontal movement invalidates stored _focusedColumnOrder
this._focusedColumnOrder=void 0}// Ensure correct vertical scroll position, destination row is visible
if(activeRowGroup===this.$.items){this._ensureScrolledToIndex(dstRowIndex)}// This has to be set after scrolling, otherwise it can be removed by
// `_preventScrollerRotatingCellFocus(item, index)` during scrolling.
this._toggleAttribute("navigating",!0,this);var columnIndexByOrder=dstColumns.reduce(function(acc,col,i){return acc[col._order]=i,acc},{}),dstColumnIndex=columnIndexByOrder[dstSortedColumnOrders[dstOrderedColumnIndex]],dstRow=activeRowGroup===this.$.items?Array.from(activeRowGroup.children).filter(function(el){return el.index===dstRowIndex})[0]:activeRowGroup.children[dstRowIndex];if(!dstRow){return}// Here we go!
var dstCell=dstIsRowDetails?Array.from(dstRow.children).filter(function(el){return _this38._elementMatches(el,"[part~=\"details-cell\"]")})[0]:dstRow.children[dstColumnIndex];this._scrollHorizontallyToCell(dstCell);if(activeRowGroup===this.$.items){// When scrolling with repeated keydown, sometimes FocusEvent listeners
// are too late to update _focusedItemIndex. Ensure next keydown
// listener invocation gets updated _focusedItemIndex value.
this._focusedItemIndex=dstRowIndex}if(activeRowGroup===this.$.items){var dstRect=dstCell.getBoundingClientRect(),footerTop=this.$.footer.getBoundingClientRect().top,headerBottom=this.$.header.getBoundingClientRect().bottom;if(dstRect.bottom>footerTop){this.$.table.scrollTop+=dstRect.bottom-footerTop;this._scrollHandler()}else if(dstRect.top<headerBottom){this.$.table.scrollTop-=headerBottom-dstRect.top;this._scrollHandler()}}dstCell.focus()}},{key:"_parseEventPath",value:function _parseEventPath(path){var tableIndex=path.indexOf(this.$.table);return{rowGroup:path[tableIndex-1],row:path[tableIndex-2],cell:path[tableIndex-3]}}},{key:"_onInteractionKeyDown",value:function _onInteractionKeyDown(e,key){var localTarget=e.composedPath()[0],localTargetIsTextInput="input"===localTarget.localName&&!/^(button|checkbox|color|file|image|radio|range|reset|submit)$/i.test(localTarget.type),wantInteracting;switch(key){case"Enter":wantInteracting=this.hasAttribute("interacting")?!localTargetIsTextInput:!0;break;case"Escape":wantInteracting=!1;break;case"F2":wantInteracting=!this.hasAttribute("interacting");break;}var _this$_parseEventPath=this._parseEventPath(e.composedPath()),cell=_this$_parseEventPath.cell;if(this.hasAttribute("interacting")!==wantInteracting){if(wantInteracting){var focusTarget=cell._content.querySelector("[focus-target]")||cell._content.firstElementChild;if(focusTarget){e.preventDefault();focusTarget.focus();this._toggleAttribute("interacting",!0,this);this._toggleAttribute("navigating",!1,this)}}else{e.preventDefault();this._focusedColumnOrder=void 0;cell.focus();this._toggleAttribute("interacting",!1,this);this._toggleAttribute("navigating",!0,this)}}}},{key:"_predictFocusStepTarget",value:function _predictFocusStepTarget(srcElement,step){var tabOrder=[this.$.table,this._headerFocusable,this._itemsFocusable,this._footerFocusable,this.$.focusexit],index=tabOrder.indexOf(srcElement);index+=step;while(0<=index&&index<=tabOrder.length-1&&(!tabOrder[index]||tabOrder[index].parentNode.hidden)){index+=step}return tabOrder[index]}},{key:"_onTabKeyDown",value:function _onTabKeyDown(e){var _this39=this,focusTarget=this._predictFocusStepTarget(e.composedPath()[0],e.shiftKey?-1:1);if(focusTarget===this.$.table){// The focus is about to exit the grid to the top.
this.$.table.focus()}else if(focusTarget===this.$.focusexit){// The focus is about to exit the grid to the bottom.
this.$.focusexit.focus()}else if(focusTarget===this._itemsFocusable){var itemsFocusTarget=focusTarget,targetRow=this._itemsFocusable.parentNode;this._ensureScrolledToIndex(this._focusedItemIndex);if(targetRow.index!==this._focusedItemIndex){// The target row, which is about to be focused next, has been
// assigned with a new index since last focus, probably because of
// scrolling. Focus the row for the stored focused item index instead.
var columnIndex=Array.from(targetRow.children).indexOf(this._itemsFocusable),focusedItemRow=Array.from(this.$.items.children).filter(function(row){return row.index===_this39._focusedItemIndex})[0];if(focusedItemRow){itemsFocusTarget=focusedItemRow.children[columnIndex]}}e.preventDefault();itemsFocusTarget.focus()}else{e.preventDefault();focusTarget.focus()}this._toggleAttribute("navigating",!0,this)}},{key:"_onSpaceKeyDown",value:function _onSpaceKeyDown(e){e.preventDefault();var cell=e.composedPath()[0];if(cell._content&&cell._content.firstElementChild){var wasNavigating=this.hasAttribute("navigating");cell._content.firstElementChild.click();this._toggleAttribute("navigating",wasNavigating,this)}else{this.dispatchEvent(new CustomEvent("cell-activate",{detail:{model:this.__getRowModel(cell.parentElement)}}))}}},{key:"_onFocusIn",value:function _onFocusIn(e){if(!this._isMousedown){this._toggleAttribute("navigating",!0,this)}var rootTarget=e.composedPath()[0];if(rootTarget===this.$.table||rootTarget===this.$.focusexit){// The focus enters the top (bottom) of the grid, meaning that user has
// tabbed (shift-tabbed) into the grid. Move the focus to
// the first (the last) focusable.
this._predictFocusStepTarget(rootTarget,rootTarget===this.$.table?1:-1).focus();this._toggleAttribute("interacting",!1,this)}else{this._detectInteracting(e)}}},{key:"_onFocusOut",value:function _onFocusOut(e){this._toggleAttribute("navigating",!1,this);this._detectInteracting(e)}},{key:"_onCellFocusIn",value:function _onCellFocusIn(e){this._detectInteracting(e);if(3===e.composedPath().indexOf(this.$.table)){var cell=e.composedPath()[0];this._activeRowGroup=cell.parentNode.parentNode;if(this._activeRowGroup===this.$.header){this._headerFocusable=cell}else if(this._activeRowGroup===this.$.items){this._itemsFocusable=cell}else if(this._activeRowGroup===this.$.footer){this._footerFocusable=cell}// Inform cell content of the focus (used in <vaadin-grid-sorter>)
cell._content.dispatchEvent(new CustomEvent("cell-focusin",{bubbles:!1}))}this._detectFocusedItemIndex(e)}},{key:"_onCellFocusOut",value:function _onCellFocusOut(e){if(3===e.composedPath().indexOf(this.$.table)){var cell=e.composedPath()[0];// Inform cell content of the focus (used in <vaadin-grid-sorter>)
cell._content.dispatchEvent(new CustomEvent("cell-focusout",{bubbles:!1}))}}},{key:"_detectInteracting",value:function _detectInteracting(e){this._toggleAttribute("interacting",e.composedPath().some(function(el){return"vaadin-grid-cell-content"===el.localName}),this)}},{key:"_detectFocusedItemIndex",value:function _detectFocusedItemIndex(e){var _this$_parseEventPath2=this._parseEventPath(e.composedPath()),rowGroup=_this$_parseEventPath2.rowGroup,row=_this$_parseEventPath2.row;if(rowGroup===this.$.items){this._focusedItemIndex=row.index}}},{key:"_preventScrollerRotatingCellFocus",value:function _preventScrollerRotatingCellFocus(item,index){if(item.index===this._focusedItemIndex&&this.hasAttribute("navigating")&&this._activeRowGroup===this.$.items){// Focused item has went, hide navigation mode
this._navigatingIsHidden=!0;this._toggleAttribute("navigating",!1,this)}if(index===this._focusedItemIndex&&this._navigatingIsHidden){// Focused item is back, restore navigation mode
this._navigatingIsHidden=!1;this._toggleAttribute("navigating",!0,this)}}},{key:"_getColumns",value:function _getColumns(rowGroup,rowIndex){var columnTreeLevel=this._columnTree.length-1;if(rowGroup===this.$.header){columnTreeLevel=rowIndex}else if(rowGroup===this.$.footer){columnTreeLevel=this._columnTree.length-1-rowIndex}return this._columnTree[columnTreeLevel]}},{key:"_resetKeyboardNavigation",value:function _resetKeyboardNavigation(){var _this40=this;if(this.$.header.firstElementChild){this._headerFocusable=Array.from(this.$.header.firstElementChild.children).filter(function(el){return!el.hidden})[0]}if(this.$.items.firstElementChild){var firstVisibleIndexRow=this._iterateItems(function(pidx,vidx){if(_this40._firstVisibleIndex===vidx){return _this40.$.items.children[pidx]}});if(firstVisibleIndexRow){this._itemsFocusable=Array.from(firstVisibleIndexRow.children).filter(function(el){return!el.hidden})[0]}}if(this.$.footer.firstElementChild){this._footerFocusable=Array.from(this.$.footer.firstElementChild.children).filter(function(el){return!el.hidden})[0]}}},{key:"_scrollHorizontallyToCell",value:function _scrollHorizontallyToCell(dstCell){if(dstCell.hasAttribute("frozen")||this._elementMatches(dstCell,"[part~=\"details-cell\"]")){// These cells are, by design, always visible, no need to scroll.
return}for(var dstCellRect=dstCell.getBoundingClientRect(),dstRow=dstCell.parentNode,dstCellIndex=Array.from(dstRow.children).indexOf(dstCell),tableRect=this.$.table.getBoundingClientRect(),leftBoundary=tableRect.left,rightBoundary=tableRect.right,i=dstCellIndex-1,cell;0<=i;i--){cell=dstRow.children[i];if(cell.hasAttribute("hidden")||this._elementMatches(cell,"[part~=\"details-cell\"]")){continue}if(cell.hasAttribute("frozen")){leftBoundary=cell.getBoundingClientRect().right;break}}for(var _i=dstCellIndex+1,_cell;_i<dstRow.children.length;_i++){_cell=dstRow.children[_i];if(_cell.hasAttribute("hidden")||this._elementMatches(_cell,"[part~=\"details-cell\"]")){continue}if(_cell.hasAttribute("frozen")){rightBoundary=_cell.getBoundingClientRect().left;break}}if(dstCellRect.left<leftBoundary){this.$.table.scrollLeft+=Math.round(dstCellRect.left-leftBoundary)}if(dstCellRect.right>rightBoundary){this.$.table.scrollLeft+=Math.round(dstCellRect.right-rightBoundary)}}},{key:"_elementMatches",value:function _elementMatches(el,query){return el.matches?el.matches(query):-1!==Array.from(el.parentNode.querySelectorAll(query)).indexOf(el)}}],[{key:"properties",get:function get(){return{_headerFocusable:{type:Object,observer:"_focusableChanged"},_itemsFocusable:{type:Object,observer:"_focusableChanged"},_footerFocusable:{type:Object,observer:"_focusableChanged"},_navigatingIsHidden:Boolean,_focusedItemIndex:{type:Number,value:0},_focusedColumnOrder:Number}}}]);return KeyboardNavigationMixin}(superClass))},vaadinGridKeyboardNavigationMixin={KeyboardNavigationMixin:KeyboardNavigationMixin},GridOuterScrollerElement=/*#__PURE__*/function(_ref3){babelHelpers.inherits(GridOuterScrollerElement,_ref3);function GridOuterScrollerElement(){babelHelpers.classCallCheck(this,GridOuterScrollerElement);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(GridOuterScrollerElement).apply(this,arguments))}babelHelpers.createClass(GridOuterScrollerElement,[{key:"ready",value:function ready(){var _this41=this;babelHelpers.get(babelHelpers.getPrototypeOf(GridOuterScrollerElement.prototype),"ready",this).call(this);this.addEventListener("scroll",function(){return _this41._syncScrollTarget()});this.parentElement.addEventListener("mousemove",this._onMouseMove.bind(this));// for some reason scroll bars are hidden in iOS if this style is
// added in stylesheets or before attaching.
this.style.webkitOverflowScrolling="touch";this.addEventListener("mousedown",function(_){return _this41.outerScrolling=!0});this.addEventListener("mouseup",function(_){_this41.outerScrolling=!1;_this41.scrollHandler._scrollHandler()})}},{key:"_onMouseMove",value:function _onMouseMove(e){// Ignore mousemove events on touch devices
if(!this._touchDevice){if(this.noScrollbars&&this.parentElement.hasAttribute("scroll-period")){this.passthrough=e.offsetY<=this.clientHeight-20&&e.offsetX<=this.clientWidth-20}else{this.passthrough=e.offsetY<=this.clientHeight&&e.offsetX<=this.clientWidth}}}},{key:"syncOuterScroller",value:function syncOuterScroller(){this.scrollTop=this.scrollTarget.scrollTop;this.scrollLeft=this.scrollTarget.scrollLeft}},{key:"_syncScrollTarget",value:function _syncScrollTarget(){var _this42=this;requestAnimationFrame(function(){_this42.scrollTarget.scrollTop=_this42.scrollTop;_this42.scrollTarget.scrollLeft=_this42.scrollLeft;_this42.scrollHandler._scrollHandler()})}}],[{key:"template",get:function get(){return html(_templateObject4_a62cb2f0a7c311ea8b4ab998f4335326())}},{key:"is",get:function get(){return"vaadin-grid-outer-scroller"}},{key:"properties",get:function get(){return{scrollTarget:{type:Object},scrollHandler:{type:Object},passthrough:{type:Boolean,reflectToAttribute:!0,value:!0},outerScrolling:Boolean,noScrollbars:Boolean,_touchDevice:Boolean}}}]);return GridOuterScrollerElement}(/*#__PURE__*/function(_PolymerElement2){babelHelpers.inherits(_class2,_PolymerElement2);function _class2(){babelHelpers.classCallCheck(this,_class2);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(_class2).apply(this,arguments))}return _class2}(PolymerElement));customElements.define(GridOuterScrollerElement.is,GridOuterScrollerElement);var RowDetailsMixin=function RowDetailsMixin(superClass){return(/*#__PURE__*/function(_superClass11){babelHelpers.inherits(RowDetailsMixin,_superClass11);function RowDetailsMixin(){babelHelpers.classCallCheck(this,RowDetailsMixin);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(RowDetailsMixin).apply(this,arguments))}babelHelpers.createClass(RowDetailsMixin,[{key:"_rowDetailsTemplateOrRendererChanged",value:function _rowDetailsTemplateOrRendererChanged(rowDetailsTemplate,rowDetailsRenderer){var _this43=this;if(rowDetailsTemplate&&rowDetailsRenderer){throw new Error("You should only use either a renderer or a template for row details")}if(rowDetailsTemplate||rowDetailsRenderer){if(rowDetailsTemplate&&!rowDetailsTemplate.templatizer){var templatizer=new GridTemplatizer;templatizer._grid=this;templatizer.dataHost=this.dataHost;templatizer.template=rowDetailsTemplate;rowDetailsTemplate.templatizer=templatizer}if(this._columnTree){// Only update the rows if the column tree has already been initialized
Array.from(this.$.items.children).forEach(function(row){if(!row.querySelector("[part~=details-cell]")){_this43._updateRow(row,_this43._columnTree[_this43._columnTree.length-1]);_this43._a11yUpdateRowDetailsOpened(row,!1)}// Clear any old template instances
delete row.querySelector("[part~=details-cell]")._instance})}if(this.detailsOpenedItems.length){Array.from(this.$.items.children).forEach(this._toggleDetailsCell,this);this._update()}}}},{key:"_detailsOpenedItemsChanged",value:function _detailsOpenedItemsChanged(changeRecord,rowDetailsTemplate,rowDetailsRenderer){var _this44=this;if("detailsOpenedItems.length"===changeRecord.path||!changeRecord.value){// Let’s avoid duplicate work of both “.splices” and “.length” updates.
return}Array.from(this.$.items.children).forEach(function(row){_this44._toggleDetailsCell(row,row._item);_this44._a11yUpdateRowDetailsOpened(row,_this44._isDetailsOpened(row._item));_this44._toggleAttribute("details-opened",_this44._isDetailsOpened(row._item),row)})}},{key:"_configureDetailsCell",value:function _configureDetailsCell(cell){cell.setAttribute("part","cell details-cell");// Freeze the details cell, so that it does not scroll horizontally
// with the normal cells. This way it looks less weird.
this._toggleAttribute("frozen",!0,cell)}},{key:"_toggleDetailsCell",value:function _toggleDetailsCell(row,item){var _this45=this,cell=row.querySelector("[part~=\"details-cell\"]");if(!cell){return}var detailsHidden=!this._isDetailsOpened(item),hiddenChanged=!!cell.hidden!==detailsHidden;if(!cell._instance&&!cell._renderer||cell.hidden!==detailsHidden){cell.hidden=detailsHidden;if(detailsHidden){row.style.removeProperty("padding-bottom")}else{if(this.rowDetailsRenderer){cell._renderer=this.rowDetailsRenderer;cell._renderer.call(this,cell._content,this,{index:row.index,item:item})}else if(this._rowDetailsTemplate&&!cell._instance){// Stamp the template
cell._instance=this._rowDetailsTemplate.templatizer.createInstance();cell._content.innerHTML="";cell._content.appendChild(cell._instance.root);this._updateItem(row,item)}flush();row.style.setProperty("padding-bottom","".concat(cell.offsetHeight,"px"));requestAnimationFrame(function(){return _this45.notifyResize()})}}if(hiddenChanged){this._updateMetrics();this._positionItems()}}},{key:"_updateDetailsCellHeights",value:function _updateDetailsCellHeights(){Array.from(this.$.items.querySelectorAll("[part~=\"details-cell\"]:not([hidden])")).forEach(function(cell){cell.parentElement.style.setProperty("padding-bottom","".concat(cell.offsetHeight,"px"))})}},{key:"_isDetailsOpened",value:function _isDetailsOpened(item){return this.detailsOpenedItems&&-1!==this._getItemIndexInArray(item,this.detailsOpenedItems)}/**
     * Open the details row of a given item.
     */},{key:"openItemDetails",value:function openItemDetails(item){if(!this._isDetailsOpened(item)){this.push("detailsOpenedItems",item)}}/**
     * Close the details row of a given item.
     */},{key:"closeItemDetails",value:function closeItemDetails(item){if(this._isDetailsOpened(item)){this.splice("detailsOpenedItems",this._getItemIndexInArray(item,this.detailsOpenedItems),1)}}},{key:"_detailsOpenedInstanceChangedCallback",value:function _detailsOpenedInstanceChangedCallback(instance,value){if(babelHelpers.get(babelHelpers.getPrototypeOf(RowDetailsMixin.prototype),"_detailsOpenedInstanceChangedCallback",this)){babelHelpers.get(babelHelpers.getPrototypeOf(RowDetailsMixin.prototype),"_detailsOpenedInstanceChangedCallback",this).call(this,instance,value)}if(value){this.openItemDetails(instance.item)}else{this.closeItemDetails(instance.item)}}}],[{key:"properties",get:function get(){return{/**
       * An array containing references to items with open row details.
       */detailsOpenedItems:{type:Array,value:function value(){return[]}},_rowDetailsTemplate:Object,/**
       * Custom function for rendering the content of the row details.
       * Receives three arguments:
       *
       * - `root` The row details content DOM element. Append your content to it.
       * - `grid` The `<vaadin-grid>` element.
       * - `rowData` The object with the properties related with
       *   the rendered item, contains:
       *   - `rowData.index` The index of the item.
       *   - `rowData.item` The item.
       */rowDetailsRenderer:Function,_detailsCells:{type:Array}}}},{key:"observers",get:function get(){return["_detailsOpenedItemsChanged(detailsOpenedItems.*, _rowDetailsTemplate, rowDetailsRenderer)","_rowDetailsTemplateOrRendererChanged(_rowDetailsTemplate, rowDetailsRenderer)"]}}]);return RowDetailsMixin}(superClass))},vaadinGridRowDetailsMixin={RowDetailsMixin:RowDetailsMixin},ScrollMixin=function ScrollMixin(superClass){return(/*#__PURE__*/function(_superClass12){babelHelpers.inherits(ScrollMixin,_superClass12);babelHelpers.createClass(ScrollMixin,[{key:"_timeouts",get:function get(){return{SCROLL_PERIOD:1e3,WHEEL_SCROLLING:200,SCROLLING:100,IGNORE_WHEEL:500}}},{key:"_scrollTop",// Override (from iron-scroll-target-behavior) to avoid document scroll
set:function set(top){this.$.table.scrollTop=top},get:function get(){return this.$.table.scrollTop}}],[{key:"properties",get:function get(){return{// Cached array of frozen cells
_frozenCells:{type:Array,value:function value(){return[]}},_scrollbarWidth:{type:Number,value:function value(){// Create the measurement node
var scrollDiv=document.createElement("div");scrollDiv.style.width="100px";scrollDiv.style.height="100px";scrollDiv.style.overflow="scroll";scrollDiv.style.position="absolute";scrollDiv.style.top="-9999px";document.body.appendChild(scrollDiv);// Get the scrollbar width
var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;// Delete the DIV
document.body.removeChild(scrollDiv);return scrollbarWidth}},_rowWithFocusedElement:Element,_deltaYAcc:{type:Number,value:0}}}},{key:"observers",get:function get(){return["_scrollHeightUpdated(_estScrollHeight)","_scrollViewportHeightUpdated(_viewportHeight)"]}}]);function ScrollMixin(){var _this46;babelHelpers.classCallCheck(this,ScrollMixin);_this46=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(ScrollMixin).call(this));_this46._scrollLineHeight=_this46._getScrollLineHeight();return _this46}/**
     * @returns {Number|undefined} - The browser's default font-size in pixels
     */babelHelpers.createClass(ScrollMixin,[{key:"_getScrollLineHeight",value:function _getScrollLineHeight(){var el=document.createElement("div");el.style.fontSize="initial";el.style.display="none";document.body.appendChild(el);var fontSize=window.getComputedStyle(el).fontSize;document.body.removeChild(el);return fontSize?window.parseInt(fontSize):void 0}},{key:"_scrollViewportHeightUpdated",value:function _scrollViewportHeightUpdated(_viewportHeight){this._scrollPageHeight=_viewportHeight-this.$.header.clientHeight-this.$.footer.clientHeight-this._scrollLineHeight}},{key:"ready",value:function ready(){var _this47=this;babelHelpers.get(babelHelpers.getPrototypeOf(ScrollMixin.prototype),"ready",this).call(this);this.scrollTarget=this.$.table;this.addEventListener("wheel",function(e){_this47._wheelScrolling=!0;_this47._debouncerWheelScrolling=Debouncer.debounce(_this47._debouncerWheelScrolling,timeOut.after(_this47._timeouts.WHEEL_SCROLLING),function(){return _this47._wheelScrolling=!1});_this47._onWheel(e)});this.$.table.addEventListener("scroll",function(e){if(_this47.$.outerscroller.outerScrolling){e.stopImmediatePropagation()}},!0);this.$.items.addEventListener("focusin",function(e){var itemsIndex=e.composedPath().indexOf(_this47.$.items);_this47._rowWithFocusedElement=e.composedPath()[itemsIndex-1]});this.$.items.addEventListener("focusout",function(){return _this47._rowWithFocusedElement=void 0})}/**
     * Scroll to a specific row index in the virtual list. Note that the row index is
     * not always the same for any particular item. For example, sorting/filtering/expanding
     * or collapsing hierarchical items can affect the row index related to an item.
     *
     * @param {number} index Row index to scroll to
     */},{key:"scrollToIndex",value:function scrollToIndex(index){var _this48=this;this._accessIronListAPI(function(){return babelHelpers.get(babelHelpers.getPrototypeOf(ScrollMixin.prototype),"scrollToIndex",_this48).call(_this48,index)})}},{key:"_onWheel",value:function _onWheel(e){var _this49=this;if(e.ctrlKey||this._hasScrolledAncestor(e.target,e.deltaX,e.deltaY)){return}var table=this.$.table,deltaY=e.deltaY;if(e.deltaMode===WheelEvent.DOM_DELTA_LINE){// Scrolling by "lines of text" instead of pixels
deltaY*=this._scrollLineHeight}else if(e.deltaMode===WheelEvent.DOM_DELTA_PAGE){// Scrolling by "pages" instead of pixels
deltaY*=this._scrollPageHeight}if(this._wheelAnimationFrame){// Skip new wheel events while one is being processed
this._deltaYAcc+=deltaY;e.preventDefault();return}deltaY+=this._deltaYAcc;this._deltaYAcc=0;this._wheelAnimationFrame=!0;this._debouncerWheelAnimationFrame=Debouncer.debounce(this._debouncerWheelAnimationFrame,animationFrame,function(){return _this49._wheelAnimationFrame=!1});var momentum=Math.abs(e.deltaX)+Math.abs(deltaY);if(this._canScroll(table,e.deltaX,deltaY)){e.preventDefault();table.scrollTop+=deltaY;table.scrollLeft+=e.deltaX;this._scrollHandler();this._hasResidualMomentum=!0;this._ignoreNewWheel=!0;this._debouncerIgnoreNewWheel=Debouncer.debounce(this._debouncerIgnoreNewWheel,timeOut.after(this._timeouts.IGNORE_WHEEL),function(){return _this49._ignoreNewWheel=!1})}else if(this._hasResidualMomentum&&momentum<=this._previousMomentum||this._ignoreNewWheel){e.preventDefault()}else if(momentum>this._previousMomentum){this._hasResidualMomentum=!1}this._previousMomentum=momentum}/**
     * Determines if the element has an ancestor prior to this
     * cell content that handles the scroll delta
     */},{key:"_hasScrolledAncestor",value:function _hasScrolledAncestor(el,deltaX,deltaY){if("vaadin-grid-cell-content"===el.localName){return!1}else if(this._canScroll(el,deltaX,deltaY)&&-1!==["auto","scroll"].indexOf(getComputedStyle(el).overflow)){return!0}else if(el!==this&&el.parentElement){return this._hasScrolledAncestor(el.parentElement,deltaX,deltaY)}}/**
     * Determines if the the given scroll deltas can be applied to the element
     * (fully or partially)
     */},{key:"_canScroll",value:function _canScroll(el,deltaX,deltaY){return 0<deltaY&&el.scrollTop<el.scrollHeight-el.offsetHeight||0>deltaY&&0<el.scrollTop||0<deltaX&&el.scrollLeft<el.scrollWidth-el.offsetWidth||0>deltaX&&0<el.scrollLeft}},{key:"_scheduleScrolling",value:function _scheduleScrolling(){var _this50=this;if(!this._scrollingFrame){// Defer setting state attributes to avoid Edge hiccups
this._scrollingFrame=requestAnimationFrame(function(){return _this50._toggleAttribute("scrolling",!0,_this50.$.scroller)})}this._debounceScrolling=Debouncer.debounce(this._debounceScrolling,timeOut.after(this._timeouts.SCROLLING),function(){cancelAnimationFrame(_this50._scrollingFrame);delete _this50._scrollingFrame;_this50._toggleAttribute("scrolling",!1,_this50.$.scroller);if(!_this50.$.outerscroller.outerScrolling){_this50._reorderRows()}});if(!this._scrollPeriodFrame){this._scrollPeriodFrame=requestAnimationFrame(function(){return _this50._toggleAttribute("scroll-period",!0,_this50.$.scroller)})}this._debounceScrollPeriod=Debouncer.debounce(this._debounceScrollPeriod,timeOut.after(this._timeouts.SCROLL_PERIOD),function(){cancelAnimationFrame(_this50._scrollPeriodFrame);delete _this50._scrollPeriodFrame;_this50._toggleAttribute("scroll-period",!1,_this50.$.scroller)})}},{key:"_afterScroll",value:function _afterScroll(){this._translateStationaryElements();if(!this.hasAttribute("reordering")){this._scheduleScrolling()}var os=this.$.outerscroller;if(!this._ios&&(this._wheelScrolling||os.passthrough)){os.syncOuterScroller()}if(this._ios){// Enable vertical rubberband feedback
var overScroll=Math.max(-os.scrollTop,0)||Math.min(0,os.scrollHeight-os.scrollTop-os.offsetHeight);this.$.items.style.transform="translateY(".concat(overScroll,"px)")}this._updateOverflow()}},{key:"_updateOverflow",value:function _updateOverflow(){var _this51=this,overflow="",table=this.$.table;if(table.scrollTop<table.scrollHeight-table.clientHeight){overflow+=" bottom"}if(0<table.scrollTop){overflow+=" top"}if(table.scrollLeft<table.scrollWidth-table.clientWidth){overflow+=" right"}if(0<table.scrollLeft){overflow+=" left"}this._debounceOverflow=Debouncer.debounce(this._debounceOverflow,animationFrame,function(){var value=overflow.trim();if(0<value.length&&_this51.getAttribute("overflow")!==value){_this51.setAttribute("overflow",value)}else if(0==value.length&&_this51.hasAttribute("overflow")){_this51.removeAttribute("overflow")}})}// correct order needed for preserving correct tab order between cell contents.
},{key:"_reorderRows",value:function _reorderRows(){var body=this.$.items,items=body.querySelectorAll("tr");if(!items.length){return}var adjustedVirtualStart=this._virtualStart+this._vidxOffset,targetRow=this._rowWithFocusedElement||Array.from(items).filter(function(row){return!row.hidden})[0];// Which row to use as a target?
if(!targetRow){// All rows are hidden, don't reorder
return}// Where the target row should be?
var targetPhysicalIndex=targetRow.index-adjustedVirtualStart,delta=Array.from(items).indexOf(targetRow)-targetPhysicalIndex;// Reodrer the DOM elements to keep the target row at the target physical index
if(0<delta){for(var i=0;i<delta;i++){body.appendChild(items[i])}}else if(0>delta){for(var _i2=items.length+delta;_i2<items.length;_i2++){body.insertBefore(items[_i2],items[0])}}}},{key:"_frozenCellsChanged",value:function _frozenCellsChanged(){var _this52=this;this._debouncerCacheElements=Debouncer.debounce(this._debouncerCacheElements,microTask,function(){Array.from(_this52.root.querySelectorAll("[part~=\"cell\"]")).forEach(function(cell){cell.style.transform=""});_this52._frozenCells=Array.prototype.slice.call(_this52.$.table.querySelectorAll("[frozen]"));_this52._translateStationaryElements()});this._updateLastFrozen()}},{key:"_updateLastFrozen",value:function _updateLastFrozen(){if(!this._columnTree){return}var columnsRow=this._columnTree[this._columnTree.length-1].slice(0);columnsRow.sort(function(a,b){return a._order-b._order});var lastFrozen=columnsRow.reduce(function(prev,col,index){col._lastFrozen=!1;return col.frozen&&!col.hidden?index:prev},void 0);if(lastFrozen!==void 0){columnsRow[lastFrozen]._lastFrozen=!0}}},{key:"_translateStationaryElements",value:function _translateStationaryElements(){if(this._edge&&!this._scrollbarWidth){// Fixed mode (Tablet Edge)
this.$.items.style.transform=this._getTranslate(-this._scrollLeft||0,-this._scrollTop||0);this.$.footer.style.transform=this.$.header.style.transform=this._getTranslate(-this._scrollLeft||0,0)}else{this.$.footer.style.transform=this.$.header.style.transform=this._getTranslate(0,this._scrollTop)}for(var frozenCellTransform=this._getTranslate(this._scrollLeft,0),i=0;i<this._frozenCells.length;i++){this._frozenCells[i].style.transform=frozenCellTransform}}},{key:"_getTranslate",value:function _getTranslate(x,y){return"translate("+x+"px,"+y+"px)"}},{key:"_scrollHeightUpdated",value:function _scrollHeightUpdated(_estScrollHeight){this.$.outersizer.style.top=this.$.fixedsizer.style.top=_estScrollHeight+"px"}}]);return ScrollMixin}(superClass))},vaadinGridScrollMixin={ScrollMixin:ScrollMixin},GridScrollerElement=/*#__PURE__*/function(_PolymerIronList){babelHelpers.inherits(GridScrollerElement,_PolymerIronList);function GridScrollerElement(){babelHelpers.classCallCheck(this,GridScrollerElement);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(GridScrollerElement).apply(this,arguments))}babelHelpers.createClass(GridScrollerElement,[{key:"connectedCallback",value:function connectedCallback(){babelHelpers.get(babelHelpers.getPrototypeOf(GridScrollerElement.prototype),"connectedCallback",this).call(this);this._scrollHandler()}/**
    * @protected
    */},{key:"_updateScrollerItem",value:function _updateScrollerItem(item,index){}/**
                                      * @protected
                                      */},{key:"_afterScroll",value:function _afterScroll(){}/**
                    * @protected
                    */},{key:"_getRowTarget",value:function _getRowTarget(){}/**
                     * @protected
                     */},{key:"_createScrollerRows",value:function _createScrollerRows(){}/**
                           * @protected
                           */},{key:"_canPopulate",value:function _canPopulate(){}/**
                    * @private
                    */},{key:"scrollToIndex",value:function scrollToIndex(index){var _this53=this;this._warnPrivateAPIAccess("scrollToIndex");if(0<index){this._pendingScrollToIndex=null}if(!parseInt(this.$.items.style.borderTopWidth)&&0<index){// Schedule another scroll to be invoked once init is complete
this._pendingScrollToIndex=index}this._scrollingToIndex=!0;index=Math.min(Math.max(index,0),this._effectiveSize-1);this.$.table.scrollTop=index/this._effectiveSize*(this.$.table.scrollHeight-this.$.table.offsetHeight);this._scrollHandler();if(this._accessIronListAPI(function(){return _this53._maxScrollTop})&&this._virtualCount<this._effectiveSize){this._adjustVirtualIndexOffset(1e6)}this._accessIronListAPI(function(){return babelHelpers.get(babelHelpers.getPrototypeOf(GridScrollerElement.prototype),"scrollToIndex",_this53).call(_this53,index-_this53._vidxOffset)});this._scrollHandler();// Ensure scroll position
var row=Array.from(this.$.items.children).filter(function(child){return child.index===index})[0];if(row){var headerOffset=row.getBoundingClientRect().top-this.$.header.getBoundingClientRect().bottom;if(1<Math.abs(headerOffset)){this.$.table.scrollTop+=headerOffset;this._scrollHandler()}}this._scrollingToIndex=!1}},{key:"_effectiveSizeChanged",value:function _effectiveSizeChanged(size){var _this54=this,fvi,fviOffset=0;this._iterateItems(function(pidx,vidx){if(vidx===_this54._firstVisibleIndex){var row=_this54._physicalItems[pidx];fvi=row.index;fviOffset=row.getBoundingClientRect().top}});if(this.items&&size<this.items.length){// Size was reduced, scroll to 0 first
this._scrollTop=0}if(!Array.isArray(this.items)){// Edge/IE seems to have the lowest maximum
var maxVirtualItems=this._edge||this._ie?3e4:1e5;this.items={length:Math.min(size,maxVirtualItems)}}this._accessIronListAPI(function(){return babelHelpers.get(babelHelpers.getPrototypeOf(GridScrollerElement.prototype),"_itemsChanged",_this54).call(_this54,{path:"items"})});this._virtualCount=Math.min(this.items.length,size)||0;if(0===this._scrollTop){this._accessIronListAPI(function(){return _this54._scrollToIndex(Math.min(size-1,fvi))});this._iterateItems(function(pidx,vidx){var row=_this54._physicalItems[pidx];if(row.index===fvi){_this54.$.table.scrollTop+=Math.round(row.getBoundingClientRect().top-fviOffset)}// Restore keyboard focus to the right cell
if(row.index===_this54._focusedItemIndex&&_this54._itemsFocusable&&_this54.$.items.contains(_this54.shadowRoot.activeElement)){var cellIndex=Array.from(_this54._itemsFocusable.parentElement.children).indexOf(_this54._itemsFocusable);row.children[cellIndex].focus()}})}this._assignModels();requestAnimationFrame(function(){return _this54._update()})}},{key:"_positionItems",value:function _positionItems(){var _this55=this;this._adjustScrollPosition();var rePosition;if(isNaN(this._physicalTop)){rePosition=!0;this._physicalTop=0}var y=this._physicalTop;this._iterateItems(function(pidx,vidx){_this55._physicalItems[pidx].style.transform="translateY(".concat(y,"px)");y+=_this55._physicalSizes[pidx]});if(rePosition){this._scrollToIndex(0)}}},{key:"_increasePoolIfNeeded",value:function _increasePoolIfNeeded(count){var _this56=this;if(0===count&&this._scrollingToIndex||!this._canPopulate()||!this._effectiveSize){return}if(!this._initialPoolCreated){this._initialPoolCreated=!0;babelHelpers.get(babelHelpers.getPrototypeOf(GridScrollerElement.prototype),"_increasePoolIfNeeded",this).call(this,25)}else if(this._optPhysicalSize!==1/0){this._debounceIncreasePool=Debouncer.debounce(this._debounceIncreasePool,animationFrame,function(){_this56._updateMetrics();var remainingPhysicalSize=_this56._optPhysicalSize-_this56._physicalSize,estimatedMissingRowCount=Math.ceil(remainingPhysicalSize/_this56._physicalAverage);if(_this56._physicalCount+estimatedMissingRowCount>_this56._effectiveSize){// Do not increase the physical item count above the this._effectiveSize
estimatedMissingRowCount=Math.max(0,_this56._effectiveSize-_this56._physicalCount)}if(_this56._physicalSize&&0<estimatedMissingRowCount){babelHelpers.get(babelHelpers.getPrototypeOf(GridScrollerElement.prototype),"_increasePoolIfNeeded",_this56).call(_this56,estimatedMissingRowCount);// Ensure the rows are in order after increasing pool
_this56.__reorderChildNodes()}})}}},{key:"__reorderChildNodes",value:function __reorderChildNodes(){var _this57=this,childNodes=Array.from(this.$.items.childNodes),rowsInOrder=!!childNodes.reduce(function(inOrder,current,currentIndex,array){if(0===currentIndex||array[currentIndex-1].index===current.index-1){return inOrder}},!0);if(!rowsInOrder){childNodes.sort(function(row1,row2){return row1.index-row2.index}).forEach(function(row){return _this57.$.items.appendChild(row)})}}},{key:"_createPool",value:function _createPool(size){var _this58=this,fragment=document.createDocumentFragment(),physicalItems=this._createScrollerRows(size);physicalItems.forEach(function(inst){return fragment.appendChild(inst)});this._getRowTarget().appendChild(fragment);// Weird hack needed to get Safari to actually distribute slots
var content=this.querySelector("[slot]");if(content){var slot=content.getAttribute("slot");content.setAttribute("slot","foo-bar");content.setAttribute("slot",slot)}this._updateHeaderFooterMetrics();afterNextRender(this,function(){return _this58.notifyResize()});return physicalItems}/**
     * Assigns the data models to a given set of items.
     * @param {!Array<number>=} itemSet
     */},{key:"_assignModels",value:function _assignModels(itemSet){var _this59=this;this._iterateItems(function(pidx,vidx){var el=_this59._physicalItems[pidx];_this59._toggleAttribute("hidden",vidx>=_this59._effectiveSize,el);_this59._updateScrollerItem(el,vidx+(_this59._vidxOffset||0))},itemSet)}},{key:"_scrollHandler",value:function _scrollHandler(){var _this60=this,delta=this.$.table.scrollTop-this._scrollPosition;this._accessIronListAPI(babelHelpers.get(babelHelpers.getPrototypeOf(GridScrollerElement.prototype),"_scrollHandler",this));var oldOffset=this._vidxOffset;if(this._accessIronListAPI(function(){return _this60._maxScrollTop})&&this._virtualCount<this._effectiveSize){this._adjustVirtualIndexOffset(delta)}if(this._vidxOffset!==oldOffset){this._update()}this._afterScroll()}},{key:"_adjustVirtualIndexOffset",value:function _adjustVirtualIndexOffset(delta){if(1e4<Math.abs(delta)){if(this._noScale){this._noScale=!1;return}var scale=this.$.table.scrollTop/(this.$.table.scrollHeight-this.$.table.offsetHeight),offset=scale*this._effectiveSize;this._vidxOffset=Math.round(offset-scale*this._virtualCount)}else{// Make sure user can always swipe/wheel scroll to the start and end
var oldOffset=this._vidxOffset||0,threshold=1e3,maxShift=100;// At start
if(0===this._scrollTop){this._vidxOffset=0;if(oldOffset!==this._vidxOffset){babelHelpers.get(babelHelpers.getPrototypeOf(GridScrollerElement.prototype),"scrollToIndex",this).call(this,0)}}else if(this.firstVisibleIndex<threshold&&0<this._vidxOffset){this._vidxOffset-=Math.min(this._vidxOffset,maxShift);if(oldOffset!==this._vidxOffset){babelHelpers.get(babelHelpers.getPrototypeOf(GridScrollerElement.prototype),"scrollToIndex",this).call(this,this.firstVisibleIndex+(oldOffset-this._vidxOffset))}this._noScale=!0}// At end
var maxOffset=this._effectiveSize-this._virtualCount;if(this._scrollTop>=this._maxScrollTop&&0<this._maxScrollTop){this._vidxOffset=maxOffset;if(oldOffset!==this._vidxOffset){babelHelpers.get(babelHelpers.getPrototypeOf(GridScrollerElement.prototype),"scrollToIndex",this).call(this,this._virtualCount)}}else if(this.firstVisibleIndex>this._virtualCount-threshold&&this._vidxOffset<maxOffset){this._vidxOffset+=Math.min(maxOffset-this._vidxOffset,maxShift);if(oldOffset!==this._vidxOffset){babelHelpers.get(babelHelpers.getPrototypeOf(GridScrollerElement.prototype),"scrollToIndex",this).call(this,this.firstVisibleIndex-(this._vidxOffset-oldOffset))}this._noScale=!0}}}},{key:"_accessIronListAPI",value:function _accessIronListAPI(cb){var _this61=this;this._warnPrivateAPIAccessAsyncEnabled=!1;var returnValue=cb.apply(this);this._debouncerWarnPrivateAPIAccess=Debouncer.debounce(this._debouncerWarnPrivateAPIAccess,animationFrame,function(){return _this61._warnPrivateAPIAccessAsyncEnabled=!0});return returnValue}/* Allow iron-list to access its APIs from debounced callbacks without warns */},{key:"_debounceRender",value:function _debounceRender(cb,asyncModule){var _this62=this;babelHelpers.get(babelHelpers.getPrototypeOf(GridScrollerElement.prototype),"_debounceRender",this).call(this,function(){return _this62._accessIronListAPI(cb)},asyncModule)}/* Warn when iron-list APIs are being accessed directly */},{key:"_warnPrivateAPIAccess",value:function _warnPrivateAPIAccess(apiName){if(this._warnPrivateAPIAccessAsyncEnabled){console.warn("Accessing private API (".concat(apiName,")!"))}}},{key:"_render",value:function _render(){this._accessIronListAPI(babelHelpers.get(babelHelpers.getPrototypeOf(GridScrollerElement.prototype),"_render",this))}},{key:"_createFocusBackfillItem",value:function _createFocusBackfillItem(){/* Ignore */}},{key:"_multiSelectionChanged",value:function _multiSelectionChanged(){/* Ignore */}},{key:"clearSelection",value:function clearSelection(){/* Ignore */}},{key:"_itemsChanged",value:function _itemsChanged(){/* Ignore */}},{key:"_manageFocus",value:function _manageFocus(){/* Ignore */}},{key:"_removeFocusedItem",value:function _removeFocusedItem(){/* Ignore */}},{key:"_scrollToIndex",value:function _scrollToIndex(index){var _this63=this;this._accessIronListAPI(function(){return _this63.scrollToIndex(index)})}},{key:"updateViewportBoundaries",value:function updateViewportBoundaries(){this._warnPrivateAPIAccess("updateViewportBoundaries");babelHelpers.get(babelHelpers.getPrototypeOf(GridScrollerElement.prototype),"updateViewportBoundaries",this).apply(this,arguments)}},{key:"_resizeHandler",value:function _resizeHandler(){babelHelpers.get(babelHelpers.getPrototypeOf(GridScrollerElement.prototype),"_resizeHandler",this).call(this);flush()}},{key:"_firstVisibleIndex",get:function get(){var _this64=this;return this._accessIronListAPI(function(){return babelHelpers.get(babelHelpers.getPrototypeOf(GridScrollerElement.prototype),"firstVisibleIndex",_this64)})}},{key:"_lastVisibleIndex",get:function get(){var _this65=this;return this._accessIronListAPI(function(){return babelHelpers.get(babelHelpers.getPrototypeOf(GridScrollerElement.prototype),"lastVisibleIndex",_this65)})}},{key:"firstVisibleIndex",get:function get(){this._warnPrivateAPIAccess("firstVisibleIndex");return babelHelpers.get(babelHelpers.getPrototypeOf(GridScrollerElement.prototype),"firstVisibleIndex",this)},set:function set(value){this._warnPrivateAPIAccess("firstVisibleIndex");babelHelpers.set(babelHelpers.getPrototypeOf(GridScrollerElement.prototype),"firstVisibleIndex",value,this,!0)}},{key:"lastVisibleIndex",get:function get(){this._warnPrivateAPIAccess("lastVisibleIndex");return babelHelpers.get(babelHelpers.getPrototypeOf(GridScrollerElement.prototype),"lastVisibleIndex",this)},set:function set(value){this._warnPrivateAPIAccess("lastVisibleIndex");babelHelpers.set(babelHelpers.getPrototypeOf(GridScrollerElement.prototype),"lastVisibleIndex",value,this,!0)}}],[{key:"is",get:function get(){return"vaadin-grid-scroller"}},{key:"properties",get:function get(){return{size:{type:Number,notify:!0},_vidxOffset:{value:0}}}},{key:"observers",get:function get(){return["_effectiveSizeChanged(_effectiveSize)"]}}]);return GridScrollerElement}(PolymerIronList);customElements.define(GridScrollerElement.is,GridScrollerElement);var vaadinGridScroller={ScrollerElement:GridScrollerElement},SelectionMixin=function SelectionMixin(superClass){return(/*#__PURE__*/function(_superClass13){babelHelpers.inherits(SelectionMixin,_superClass13);function SelectionMixin(){babelHelpers.classCallCheck(this,SelectionMixin);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(SelectionMixin).apply(this,arguments))}babelHelpers.createClass(SelectionMixin,[{key:"_isSelected",value:function _isSelected(item){return this.selectedItems&&-1<this._getItemIndexInArray(item,this.selectedItems)}/**
     * Selects the given item.
     *
     * @method selectItem
     * @param {Object} item The item object
     */},{key:"selectItem",value:function selectItem(item){if(!this._isSelected(item)){this.push("selectedItems",item)}}/**
     * Deselects the given item if it is already selected.
     *
     * @method deselect
     * @param {Object} item The item object
     */},{key:"deselectItem",value:function deselectItem(item){var index=this._getItemIndexInArray(item,this.selectedItems);if(-1<index){this.splice("selectedItems",index,1)}}/**
     * Toggles the selected state of the given item.
     *
     * @method toggle
     * @param {Object} item The item object
     */},{key:"_toggleItem",value:function _toggleItem(item){var index=this._getItemIndexInArray(item,this.selectedItems);if(-1===index){this.selectItem(item)}else{this.deselectItem(item)}}},{key:"_selectedItemsChanged",value:function _selectedItemsChanged(e){var _this66=this;if(this.$.items.children.length&&("selectedItems"===e.path||"selectedItems.splices"===e.path)){Array.from(this.$.items.children).forEach(function(row){_this66._updateItem(row,row._item)})}}},{key:"_selectedInstanceChangedCallback",value:function _selectedInstanceChangedCallback(instance,value){if(babelHelpers.get(babelHelpers.getPrototypeOf(SelectionMixin.prototype),"_selectedInstanceChangedCallback",this)){babelHelpers.get(babelHelpers.getPrototypeOf(SelectionMixin.prototype),"_selectedInstanceChangedCallback",this).call(this,instance,value)}if(value){this.selectItem(instance.item)}else{this.deselectItem(instance.item)}}}],[{key:"properties",get:function get(){return{/**
       * An array that contains the selected items.
       */selectedItems:{type:Object,notify:!0,value:function value(){return[]}}}}},{key:"observers",get:function get(){return["_selectedItemsChanged(selectedItems.*)"]}}]);return SelectionMixin}(superClass))},vaadinGridSelectionMixin={SelectionMixin:SelectionMixin},SortMixin=function SortMixin(superClass){return(/*#__PURE__*/function(_superClass14){babelHelpers.inherits(SortMixin,_superClass14);function SortMixin(){babelHelpers.classCallCheck(this,SortMixin);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(SortMixin).apply(this,arguments))}babelHelpers.createClass(SortMixin,[{key:"ready",value:function ready(){var _this67=this;babelHelpers.get(babelHelpers.getPrototypeOf(SortMixin.prototype),"ready",this).call(this);this.addEventListener("sorter-changed",this._onSorterChanged);// With Polymer 2 & shady the 'sorter-changed' listener isn't guaranteed to be registered
// before child <vaadin-grid-sorter>'s upgrade and fire the events. The following
// makes sure that 'sorter-changed' is fired for all <vaadin-grid-sorter> elements
// after this (<vaadin-grid>) is ready (and the listeners are active).
if(window.ShadyDOM){microTask.run(function(){var sorters=_this67.querySelectorAll("vaadin-grid-sorter");Array.from(sorters).forEach(function(sorter){// Don't try to fire if the sorter hasn't been upgraded yet
if(babelHelpers.instanceof(sorter,PolymerElement)){sorter.dispatchEvent(new CustomEvent("sorter-changed",{bubbles:!0,composed:!0}))}})})}}},{key:"_onSorterChanged",value:function _onSorterChanged(e){var _this68=this,sorter=e.target;this._removeArrayItem(this._sorters,sorter);sorter._order=null;if(this.multiSort){if(sorter.direction){this._sorters.unshift(sorter)}this._sorters.forEach(function(sorter,index){return sorter._order=1<_this68._sorters.length?index:null},this)}else{if(sorter.direction){this._sorters.forEach(function(sorter){sorter._order=null;sorter.direction=null});this._sorters=[sorter]}}e.stopPropagation();if(this.dataProvider&&// No need to clear cache if sorters didn't change
JSON.stringify(this._previousSorters)!==JSON.stringify(this._mapSorters())){this.clearCache()}this._a11yUpdateSorters();this._previousSorters=this._mapSorters()}},{key:"_mapSorters",value:function _mapSorters(){return this._sorters.map(function(sorter){return{path:sorter.path,direction:sorter.direction}})}},{key:"_removeArrayItem",value:function _removeArrayItem(array,item){var index=array.indexOf(item);if(-1<index){array.splice(index,1)}}}],[{key:"properties",get:function get(){return{/**
       * When `true`, all `<vaadin-grid-sorter>` are applied for sorting.
       */multiSort:{type:Boolean,value:!1},_sorters:{type:Array,value:function value(){return[]}},_previousSorters:{type:Array,value:function value(){return[]}}}}}]);return SortMixin}(superClass))},vaadinGridSortMixin={SortMixin:SortMixin},VaadinGridStyles=document.createElement("dom-module");/**
   @license
   Copyright (c) 2017 Vaadin Ltd.
   This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
   */ /**
       * @polymerMixin
       */ // NOTE(web-padawan): https://github.com/vaadin/vaadin-grid/issues/1514
VaadinGridStyles.appendChild(html(_templateObject5_a62cb2f0a7c311ea8b4ab998f4335326()));var safari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),firefox=-1<navigator.userAgent.toLowerCase().indexOf("firefox");if(safari||firefox){var scrollingStyles=document.createElement("style");scrollingStyles.textContent="\n    [scrolling][safari] #outerscroller,\n    [scrolling][firefox] #outerscroller {\n      pointer-events: auto;\n    }\n\n    [ios] #outerscroller {\n      pointer-events: auto;\n      z-index: -3;\n    }\n\n    [ios][scrolling] #outerscroller {\n      z-index: 0;\n    }\n\n    [ios] [frozen] {\n      will-change: auto;\n    }\n  ";VaadinGridStyles.querySelector("template").content.appendChild(scrollingStyles)}VaadinGridStyles.register("vaadin-grid-styles");/**
                                                 @license
                                                 Copyright (c) 2018 Vaadin Ltd.
                                                 This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
                                                 */ /**
                                                     * @polymerMixin
                                                     */var StylingMixin=function StylingMixin(superClass){return(/*#__PURE__*/function(_superClass15){babelHelpers.inherits(StylingMixin,_superClass15);function StylingMixin(){babelHelpers.classCallCheck(this,StylingMixin);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(StylingMixin).apply(this,arguments))}babelHelpers.createClass(StylingMixin,[{key:"__cellClassNameGeneratorChanged",value:function __cellClassNameGeneratorChanged(cellClassGenerator){this.generateCellClassNames()}/**
     * Runs the `cellClassNameGenerator` for the visible cells.
     * If the generator depends on varying conditions, you need to
     * call this function manually in order to update the styles when
     * the conditions change.
     */},{key:"generateCellClassNames",value:function generateCellClassNames(){var _this69=this;Array.from(this.$.items.children).filter(function(row){return!row.hidden}).forEach(function(row){return _this69._generateCellClassNames(row,_this69.__getRowModel(row))})}},{key:"_generateCellClassNames",value:function _generateCellClassNames(row,rowData){var _this70=this;Array.from(row.children).forEach(function(cell){if(cell.__generatedClasses){cell.__generatedClasses.forEach(function(className){return cell.classList.remove(className)})}if(_this70.cellClassNameGenerator){var result=_this70.cellClassNameGenerator(cell._column,rowData);cell.__generatedClasses=result&&result.split(" ").filter(function(className){return 0<className.length});if(cell.__generatedClasses){cell.__generatedClasses.forEach(function(className){return cell.classList.add(className)})}}})}}],[{key:"properties",get:function get(){return{/**
       * A function that allows generating CSS class names for grid cells
       * based on their row and column. The return value should be the generated
       * class name as a string, or multiple class names separated by whitespace
       * characters.
       *
       * Receives two arguments:
       * - `column` The `<vaadin-grid-column>` element (`undefined` for details-cell).
       * - `rowData` The object with the properties related with
       *   the rendered item, contains:
       *   - `rowData.index` The index of the item.
       *   - `rowData.item` The item.
       *   - `rowData.expanded` Sublevel toggle state.
       *   - `rowData.level` Level of the tree represented with a horizontal offset of the toggle button.
       *   - `rowData.selected` Selected state.
       */cellClassNameGenerator:Function}}},{key:"observers",get:function get(){return["__cellClassNameGeneratorChanged(cellClassNameGenerator)"]}}]);return StylingMixin}(superClass))},vaadinGridStylingMixin={StylingMixin:StylingMixin},TOUCH_DEVICE=function(){try{document.createEvent("TouchEvent");return!0}catch(e){return!1}}(),GridElement=/*#__PURE__*/function(_ElementMixin2){babelHelpers.inherits(GridElement,_ElementMixin2);babelHelpers.createClass(GridElement,null,[{key:"template",get:function get(){return html(_templateObject6_a62cb2f0a7c311ea8b4ab998f4335326())}},{key:"is",get:function get(){return"vaadin-grid"}},{key:"version",get:function get(){return"5.5.0"}},{key:"observers",get:function get(){return["_columnTreeChanged(_columnTree, _columnTree.*)"]}},{key:"properties",get:function get(){return{_this:{type:Object,value:function value(){return this}},_safari:{type:Boolean,value:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},_ios:{type:Boolean,value:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints},_edge:{type:Boolean,value:"undefined"!==typeof CSS&&CSS.supports("(-ms-ime-align:auto)")},_ie:{type:Boolean,value:!!(navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/MSIE/))},_firefox:{type:Boolean,value:-1<navigator.userAgent.toLowerCase().indexOf("firefox")},_android:{type:Boolean,value:/android/i.test(navigator.userAgent)},_touchDevice:{type:Boolean,value:TOUCH_DEVICE},/**
       * If true, the grid's height is defined by the number of its rows.
       */heightByRows:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_heightByRowsChanged"}}}}]);function GridElement(){var _this71;babelHelpers.classCallCheck(this,GridElement);_this71=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(GridElement).call(this));_this71.addEventListener("animationend",_this71._onAnimationEnd);return _this71}babelHelpers.createClass(GridElement,[{key:"__hasRowsWithClientHeight",value:function __hasRowsWithClientHeight(){return!!Array.from(this.$.items.children).filter(function(row){return row.clientHeight}).length}},{key:"__setInitialColumnWidths",value:function __setInitialColumnWidths(){if(!this._initialColumnWidthsSet&&this.__hasRowsWithClientHeight()){this._initialColumnWidthsSet=!0;this.recalculateColumnWidths()}}/**
     * @param {Array<Vaadin.GridColumnElement>} cols the columns to auto size based on their content width
     */},{key:"_recalculateColumnWidths",value:function _recalculateColumnWidths(cols){// Note: The `cols.forEach()` loops below could be implemented as a single loop but this has been
// split for performance reasons to batch these similar actions [write/read] together to avoid
// unnecessary layout trashing.
// [write] Set automatic width for all cells (breaks column alignment)
cols.forEach(function(col){col.width="auto";col._origFlexGrow=col.flexGrow;col.flexGrow=0});// [read] Measure max cell width in each column
cols.forEach(function(col){col._currentWidth=0;// Note: _allCells only contains cells which are currently rendered in DOM
col._allCells.forEach(function(c){var cellWidth=Math.ceil(c.getBoundingClientRect().width);col._currentWidth=Math.max(col._currentWidth,cellWidth)})});// [write] Set column widths to fit widest measured content
cols.forEach(function(col){col.width="".concat(col._currentWidth,"px");col.flexGrow=col._origFlexGrow;col._currentWidth=void 0;col._origFlexGrow=void 0})}/**
     * Updates the `width` of all columns which have `autoWidth` set to `true`.
     */},{key:"recalculateColumnWidths",value:function recalculateColumnWidths(){if(!this._columnTree){return;// No columns
}var cols=this._getColumns().filter(function(col){return!col.hidden&&col.autoWidth});this._recalculateColumnWidths(cols)}},{key:"_createScrollerRows",value:function _createScrollerRows(count){for(var _this72=this,rows=[],i=0,row;i<count;i++){row=document.createElement("tr");row.setAttribute("part","row");row.setAttribute("role","row");if(this._columnTree){this._updateRow(row,this._columnTree[this._columnTree.length-1],"body",!1,!0)}rows.push(row)}if(this._columnTree){this._columnTree[this._columnTree.length-1].forEach(function(c){return c.notifyPath&&c.notifyPath("_cells.*",c._cells)})}beforeNextRender(this,function(){_this72._updateFirstAndLastColumn();_this72._resetKeyboardNavigation()});return rows}},{key:"_getRowTarget",value:function _getRowTarget(){return this.$.items}},{key:"_createCell",value:function _createCell(tagName){var _this73=this,contentId=this._contentIndex=this._contentIndex+1||0,slotName="vaadin-grid-cell-content-"+contentId,cellContent=document.createElement("vaadin-grid-cell-content");cellContent.setAttribute("slot",slotName);var cell=document.createElement(tagName);cell.id=slotName.replace("-content-","-");cell.setAttribute("tabindex","-1");cell.setAttribute("role","td"===tagName?"gridcell":"columnheader");var slot=document.createElement("slot");slot.setAttribute("name",slotName);cell.appendChild(slot);cell._content=cellContent;// With native Shadow DOM, mousedown on slotted element does not focus
// focusable slot wrapper, that is why cells are not focused with
// mousedown. Workaround: listen for mousedown and focus manually.
cellContent.addEventListener("mousedown",function(){if(window.chrome){// Chrome bug: focusing before mouseup prevents text selection, see http://crbug.com/771903
var mouseUpListener=function mouseUpListener(){if(!cellContent.contains(_this73.getRootNode().activeElement)){cell.focus()}// If focus is in the cell content — respect it, do not change.
document.removeEventListener("mouseup",mouseUpListener,!0)};document.addEventListener("mouseup",mouseUpListener,!0)}else{// Focus on mouseup, on the other hand, removes selection on Safari.
// Watch out sync focus removal issue, only async focus works here.
setTimeout(function(){if(!cellContent.contains(_this73.getRootNode().activeElement)){cell.focus()}})}});return cell}},{key:"_updateRow",value:function _updateRow(row,columns,section,isColumnRow,noNotify){var _this74=this;section=section||"body";var contentsFragment=document.createDocumentFragment();Array.from(row.children).forEach(function(cell){return cell._vacant=!0});row.innerHTML="";if("outersizer"!==row.id&&"fixedsizer"!==row.id){row.hidden=!0}columns.forEach(function(column,index){var cell;if("body"===section){// Body
column._cells=column._cells||[];cell=column._cells.filter(function(cell){return cell._vacant})[0];if(!cell){cell=_this74._createCell("td");column._cells.push(cell)}cell.setAttribute("part","cell body-cell");row.appendChild(cell);if(index===columns.length-1&&(_this74._rowDetailsTemplate||_this74.rowDetailsRenderer)){// Add details cell as last cell to body rows
_this74._detailsCells=_this74._detailsCells||[];var detailsCell=_this74._detailsCells.filter(function(cell){return cell._vacant})[0]||_this74._createCell("td");if(-1===_this74._detailsCells.indexOf(detailsCell)){_this74._detailsCells.push(detailsCell)}if(!detailsCell._content.parentElement){contentsFragment.appendChild(detailsCell._content)}_this74._configureDetailsCell(detailsCell);row.appendChild(detailsCell);_this74._a11ySetRowDetailsCell(row,detailsCell);detailsCell._vacant=!1}if(column.notifyPath&&!noNotify){column.notifyPath("_cells.*",column._cells)}}else{// Header & footer
var tagName="header"===section?"th":"td";if(isColumnRow||"vaadin-grid-column-group"===column.localName){cell=column["_".concat(section,"Cell")]||_this74._createCell(tagName);cell._column=column;row.appendChild(cell);column["_".concat(section,"Cell")]=cell}else{column._emptyCells=column._emptyCells||[];cell=column._emptyCells.filter(function(cell){return cell._vacant})[0]||_this74._createCell(tagName);cell._column=column;row.appendChild(cell);if(-1===column._emptyCells.indexOf(cell)){column._emptyCells.push(cell)}}cell.setAttribute("part","cell ".concat(section,"-cell"));_this74.__updateHeaderFooterRowVisibility(row)}if(!cell._content.parentElement){contentsFragment.appendChild(cell._content)}cell._vacant=!1;cell._column=column});// Might be empty if only cache was used
this.appendChild(contentsFragment);this._frozenCellsChanged();this._updateFirstAndLastColumnForRow(row)}},{key:"__updateHeaderFooterRowVisibility",value:function __updateHeaderFooterRowVisibility(row){var _this75=this;if(!row){return}var visibleRowCells=Array.from(row.children).filter(function(cell){var column=cell._column;if(column._emptyCells&&-1<column._emptyCells.indexOf(cell)){// The cell is an "empty cell"  -> doesn't block hiding the row
return!1}if(row.parentElement===_this75.$.header){if(column.headerRenderer||column._headerTemplate){// The cell is the header cell of a column that has a header renderer
// or a header template -> row should be visible
return!0}if(null===column.header){// The column header is explicilty set to null -> doesn't block hiding the row
return!1}if(column.path||column.header!==void 0){// The column has an explicit non-null header or a path that generates a header
// -> row should be visible
return!0}}else{if(column.footerRenderer||column._footerTemplate){// The cell is the footer cell of a column that has a footer renderer
// or a footer template -> row should be visible
return!0}}});if(row.hidden!==!visibleRowCells.length){row.hidden=!visibleRowCells.length;this.notifyResize()}}},{key:"_updateScrollerItem",value:function _updateScrollerItem(row,index){this._preventScrollerRotatingCellFocus(row,index);if(!this._columnTree){return}this._toggleAttribute("first",0===index,row);this._toggleAttribute("odd",index%2,row);this._a11yUpdateRowRowindex(row,index);this._getItem(index,row)}},{key:"_columnTreeChanged",value:function _columnTreeChanged(columnTree,splices){var _this76=this;Array.from(this.$.items.children).forEach(function(row){return _this76._updateRow(row,columnTree[columnTree.length-1])});while(this.$.header.children.length<columnTree.length){var headerRow=document.createElement("tr");headerRow.setAttribute("part","row");headerRow.setAttribute("role","row");this.$.header.appendChild(headerRow);var footerRow=document.createElement("tr");footerRow.setAttribute("part","row");footerRow.setAttribute("role","row");this.$.footer.appendChild(footerRow)}while(this.$.header.children.length>columnTree.length){this.$.header.removeChild(this.$.header.firstElementChild);this.$.footer.removeChild(this.$.footer.firstElementChild)}Array.from(this.$.header.children).forEach(function(headerRow,index){return _this76._updateRow(headerRow,columnTree[index],"header",index===columnTree.length-1)});Array.from(this.$.footer.children).forEach(function(footerRow,index){return _this76._updateRow(footerRow,columnTree[columnTree.length-1-index],"footer",0===index)});// Sizer rows
this._updateRow(this.$.outersizer,columnTree[columnTree.length-1]);this._updateRow(this.$.fixedsizer,columnTree[columnTree.length-1]);this._resizeHandler();this._frozenCellsChanged();this._updateFirstAndLastColumn();this._resetKeyboardNavigation();this._a11yUpdateHeaderRows();this._a11yUpdateFooterRows()}},{key:"_updateItem",value:function _updateItem(row,item){var _this77=this;row._item=item;var model=this.__getRowModel(row);this._toggleAttribute("selected",model.selected,row);this._a11yUpdateRowSelected(row,model.selected);this._a11yUpdateRowLevel(row,model.level);this._toggleAttribute("expanded",model.expanded,row);if(this._rowDetailsTemplate||this.rowDetailsRenderer){this._toggleDetailsCell(row,item)}this._generateCellClassNames(row,model);this._filterDragAndDrop(row,model);Array.from(row.children).forEach(function(cell){if(cell._renderer){var owner=cell._column||_this77;cell._renderer.call(owner,cell._content,owner,model)}else if(cell._instance){cell._instance.__detailsOpened__=model.detailsOpened;cell._instance.__selected__=model.selected;cell._instance.__level__=model.level;cell._instance.__expanded__=model.expanded;cell._instance.setProperties(model)}});this._debouncerUpdateHeights=Debouncer.debounce(this._debouncerUpdateHeights,timeOut.after(1),function(){_this77._updateMetrics();_this77._positionItems();_this77._updateScrollerSize()})}},{key:"_resizeHandler",value:function _resizeHandler(){this._updateDetailsCellHeights();this._accessIronListAPI(babelHelpers.get(babelHelpers.getPrototypeOf(GridElement.prototype),"_resizeHandler",this),!0);this._updateHeaderFooterMetrics()}},{key:"_updateHeaderFooterMetrics",value:function _updateHeaderFooterMetrics(){var _this78=this,headerHeight=this.$.header.clientHeight+"px",footerHeight=this.$.footer.clientHeight+"px";[this.$.outersizer,this.$.fixedsizer,this.$.items].forEach(function(element){element.style.borderTopWidth=headerHeight;element.style.borderBottomWidth=footerHeight});afterNextRender(this.$.header,function(){if(_this78._pendingScrollToIndex){_this78._scrollToIndex(_this78._pendingScrollToIndex)}})}},{key:"_onAnimationEnd",value:function _onAnimationEnd(e){// ShadyCSS applies scoping suffixes to animation names
if(0===e.animationName.indexOf("vaadin-grid-appear")){this._render();this._updateHeaderFooterMetrics();e.stopPropagation();this.notifyResize();this.__setInitialColumnWidths()}}},{key:"_toggleAttribute",value:function _toggleAttribute(name,bool,node){if(node.hasAttribute(name)===!bool){if(bool){node.setAttribute(name,"")}else{node.removeAttribute(name)}}}},{key:"__getRowModel",value:function __getRowModel(row){return{index:row.index,item:row._item,level:this._getIndexLevel(row.index),expanded:this._isExpanded(row._item),selected:this._isSelected(row._item),detailsOpened:!!(this._rowDetailsTemplate||this.rowDetailsRenderer)&&this._isDetailsOpened(row._item)}}/**
     * Manually invoke existing renderers for all the columns
     * (header, footer and body cells) and opened row details.
     */},{key:"render",value:function render(){if(this._columnTree){// header and footer renderers
this._columnTree.forEach(function(level){level.forEach(function(column){return column._renderHeaderAndFooter()})});// body and row details renderers
this._update()}}/**
     * Updates the computed metrics and positioning of internal grid parts
     * (row/details cell positioning etc). Needs to be invoked whenever the sizing of grid
     * content changes asynchronously to ensure consistent appearance (e.g. when a
     * contained image whose bounds aren't known beforehand finishes loading).
     */},{key:"notifyResize",value:function notifyResize(){babelHelpers.get(babelHelpers.getPrototypeOf(GridElement.prototype),"notifyResize",this).call(this)}},{key:"_heightByRowsChanged",value:function _heightByRowsChanged(value,oldValue){if(value||oldValue){this.notifyResize()}}},{key:"__forceReflow",value:function __forceReflow(){var _this79=this;this._debouncerForceReflow=Debouncer.debounce(this._debouncerForceReflow,animationFrame,function(){_this79.$.scroller.style.overflow="hidden";setTimeout(function(){return _this79.$.scroller.style.overflow=""})})}}]);return GridElement}(ElementMixin(ThemableMixin(DataProviderMixin(ArrayDataProviderMixin(DynamicColumnsMixin(ActiveItemMixin(ScrollMixin(SelectionMixin(SortMixin(RowDetailsMixin(KeyboardNavigationMixin(A11yMixin(FilterMixin(ColumnReorderingMixin(ColumnResizingMixin(EventContextMixin(DragAndDropMixin(StylingMixin(GridScrollerElement)))))))))))))))))));customElements.define(GridElement.is,GridElement);var vaadinGrid={GridElement:GridElement},$_documentContainer$2=html(_templateObject7_a62cb2f0a7c311ea8b4ab998f4335326());document.head.appendChild($_documentContainer$2.content);var AdminPostdate=/*#__PURE__*/function(_PolymerElement3){babelHelpers.inherits(AdminPostdate,_PolymerElement3);function AdminPostdate(){var _this80;babelHelpers.classCallCheck(this,AdminPostdate);_this80=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(AdminPostdate).call(this));_this80.page=0;return _this80}babelHelpers.createClass(AdminPostdate,null,[{key:"properties",get:function get(){return{postDate:{type:Date,value:new Date("1900-01-01")}}}},{key:"template",get:function get(){return html$1(_templateObject8_a62cb2f0a7c311ea8b4ab998f4335326())}}]);return AdminPostdate}(PolymerElement);window.customElements.define("admin-postdate",AdminPostdate);var AdminPost=/*#__PURE__*/function(_PolymerElement4){babelHelpers.inherits(AdminPost,_PolymerElement4);function AdminPost(){var _this81;babelHelpers.classCallCheck(this,AdminPost);_this81=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(AdminPost).call(this));_this81.page=0;return _this81}babelHelpers.createClass(AdminPost,[{key:"ready",value:function ready(){var _this82=this;babelHelpers.get(babelHelpers.getPrototypeOf(AdminPost.prototype),"ready",this).call(this);console.log(localStorage.getItem("cool-jwt"));fetch("https://api.mypolymerblog.com/protected",{headers:{Authorization:"Bearer "+localStorage.getItem("cool-jwt")}}).then(function(res){if(200!=res.status){_this82.set("route.path","/view3");alert("Please login first")}else{return res.json()}}).then(function(myusers){return _this82.myusers=myusers})}},{key:"goAdmin",value:function goAdmin(){location.href="/admin"}},{key:"logOut",value:function logOut(){fetch("https://api.mypolymerblog.com/logout").then(function(res){return console.log(res.status)});localStorage.removeItem("cool-jwt");location.href="/view3"}},{key:"checkDelete",value:function checkDelete(e){var mydelete=this.$.animated,id=e.model.item.id,postsid=this.$.postId;postsid.value=id;mydelete.open()}},{key:"deletePost",value:function deletePost(){var postid=this.$.postId;console.log(postid.value);fetch("https://api.mypolymerblog.com/delete/post/".concat(postid.value),{headers:{Authorization:"Bearer "+localStorage.getItem("cool-jwt")}}).then(function(res){return res.status});alert("Post Deleted");location.href="/adminposts"}},{key:"noDelete",value:function noDelete(){var mydelete=this.$.animated;mydelete.close()}},{key:"_currentPageChange",value:function _currentPageChange(c){var _this83=this,location=this.$.location,path=location.path;this.page=c;var params=this.queryParams;if(1!=this.page){params=Math.pow(2,this.page);location.path="/adminposts/".concat(this.page);fetch("https://api.mypolymerblog.com/posts/".concat(params)).then(function(res){return res.json()}).then(function(myposts){return _this83.myposts=myposts})}else{params=0;location.path="/adminposts/".concat(this.page);fetch("https://api.mypolymerblog.com/posts/".concat(params)).then(function(res){return res.json()}).then(function(myposts){return _this83.myposts=myposts});console.log(this.page)}}},{key:"editPost",value:function editPost(e){var permalinks=e.model.item.permalinks;location.href="/editpost/?post=".concat(permalinks)}},{key:"connectedCallback",value:function connectedCallback(e){var _this84=this,params=this.queryParams;babelHelpers.get(babelHelpers.getPrototypeOf(AdminPost.prototype),"connectedCallback",this).call(this);fetch("https://api.mypolymerblog.com/posts/".concat(params)).then(function(res){return res.json()}).then(function(myposts){return _this84.myposts=myposts});console.log(params);fetch("https://api.mypolymerblog.com/postscount").then(function(res){return res.json()}).then(function(postcount){return _this84.postcount=postcount})}}],[{key:"properties",get:function get(){return{queryParams:{type:Number,value:"1"},currentPage:{type:Number,value:2},routeData:Object,subroute:Object}}},{key:"template",get:function get(){return html$1(_templateObject9_a62cb2f0a7c311ea8b4ab998f4335326())}},{key:"observers",get:function get(){return["_currentPageChange(current)"]}}]);return AdminPost}(PolymerElement);window.customElements.define("admin-post",AdminPost);export{ironList as $ironList,paperDialogBehavior as $paperDialogBehavior,vaadinCheckbox as $vaadinCheckbox,vaadinGrid as $vaadinGrid,vaadinGridA11yMixin as $vaadinGridA11yMixin,vaadinGridActiveItemMixin as $vaadinGridActiveItemMixin,vaadinGridArrayDataProviderMixin as $vaadinGridArrayDataProviderMixin,vaadinGridColumn as $vaadinGridColumn,vaadinGridColumnReorderingMixin as $vaadinGridColumnReorderingMixin,vaadinGridColumnResizingMixin as $vaadinGridColumnResizingMixin,vaadinGridDataProviderMixin as $vaadinGridDataProviderMixin,vaadinGridDragAndDropMixin as $vaadinGridDragAndDropMixin,vaadinGridDynamicColumnsMixin as $vaadinGridDynamicColumnsMixin,vaadinGridEventContextMixin as $vaadinGridEventContextMixin,vaadinGridFilterMixin as $vaadinGridFilterMixin,vaadinGridKeyboardNavigationMixin as $vaadinGridKeyboardNavigationMixin,vaadinGridRowDetailsMixin as $vaadinGridRowDetailsMixin,vaadinGridScrollMixin as $vaadinGridScrollMixin,vaadinGridScroller as $vaadinGridScroller,vaadinGridSelectionMixin as $vaadinGridSelectionMixin,vaadinGridSortMixin as $vaadinGridSortMixin,vaadinGridStylingMixin as $vaadinGridStylingMixin,vaadinGridTemplatizer as $vaadinGridTemplatizer,A11yMixin,ActiveItemMixin,ArrayDataProviderMixin,CheckboxElement,ColumnBaseMixin,ColumnReorderingMixin,ColumnResizingMixin,DataProviderMixin,DragAndDropMixin,DynamicColumnsMixin,EventContextMixin,FilterMixin,GridColumnElement,GridElement,ItemCache,KeyboardNavigationMixin,PaperDialogBehavior,PaperDialogBehaviorImpl,PolymerIronList,RowDetailsMixin,ScrollMixin,GridScrollerElement as ScrollerElement,SelectionMixin,SortMixin,StylingMixin,GridTemplatizer as Templatizer};